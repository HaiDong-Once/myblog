const n=JSON.parse(`{"key":"v-5d05fbe2","path":"/other/share/share.html","title":"\u524D\u7AEF\u5206\u4EAB\u4F1A 2022-10-08","lang":"zh-CN","frontmatter":{},"excerpt":"<h1 id=\\"\u524D\u7AEF\u5206\u4EAB\u4F1A-2022-10-08\\" tabindex=\\"-1\\"><a class=\\"header-anchor\\" href=\\"#\u524D\u7AEF\u5206\u4EAB\u4F1A-2022-10-08\\" aria-hidden=\\"true\\">#</a> \u524D\u7AEF\u5206\u4EAB\u4F1A 2022-10-08</h1>\\n<nav class=\\"table-of-contents\\"><ul><li><RouterLink to=\\"#\u4E00\u3001vuex\u6570\u636E\u6301\u4E45\u5316\u5B9E\u73B0\\">\u4E00\u3001vuex\u6570\u636E\u6301\u4E45\u5316\u5B9E\u73B0</RouterLink><ul><li><RouterLink to=\\"#vuex\u72B6\u6001\u7BA1\u7406\u8BBE\u8BA1\u548C\u5B9E\u73B0\\">vuex\u72B6\u6001\u7BA1\u7406\u8BBE\u8BA1\u548C\u5B9E\u73B0</RouterLink></li><li><RouterLink to=\\"#vuex\u6570\u636E\u6301\u4E45\u5316-vuex-persistedstate\\">vuex\u6570\u636E\u6301\u4E45\u5316\uFF1Avuex-persistedstate</RouterLink></li><li><RouterLink to=\\"#\u624B\u52A8\u5728vuex\u4E2D\u7F13\u5B58\u5168\u5C40\u6570\u636E\\">\u624B\u52A8\u5728vuex\u4E2D\u7F13\u5B58\u5168\u5C40\u6570\u636E</RouterLink></li></ul></li></ul></nav>\\n<h2 id=\\"\u4E00\u3001vuex\u6570\u636E\u6301\u4E45\u5316\u5B9E\u73B0\\" tabindex=\\"-1\\"><a class=\\"header-anchor\\" href=\\"#\u4E00\u3001vuex\u6570\u636E\u6301\u4E45\u5316\u5B9E\u73B0\\" aria-hidden=\\"true\\">#</a> \u4E00\u3001vuex\u6570\u636E\u6301\u4E45\u5316\u5B9E\u73B0</h2>\\n<h3 id=\\"vuex\u72B6\u6001\u7BA1\u7406\u8BBE\u8BA1\u548C\u5B9E\u73B0\\" tabindex=\\"-1\\"><a class=\\"header-anchor\\" href=\\"#vuex\u72B6\u6001\u7BA1\u7406\u8BBE\u8BA1\u548C\u5B9E\u73B0\\" aria-hidden=\\"true\\">#</a> vuex\u72B6\u6001\u7BA1\u7406\u8BBE\u8BA1\u548C\u5B9E\u73B0</h3>\\n<h4 id=\\"\u5B89\u88C5\u5F15\u7528\\" tabindex=\\"-1\\"><a class=\\"header-anchor\\" href=\\"#\u5B89\u88C5\u5F15\u7528\\" aria-hidden=\\"true\\">#</a> \u5B89\u88C5\u5F15\u7528</h4>\\n<div class=\\"language-bash ext-sh line-numbers-mode\\"><pre v-pre class=\\"language-bash\\"><code><span class=\\"token function\\">yarn</span> <span class=\\"token function\\">add</span> vuex@next --save\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div></div></div><h4 id=\\"\u6784\u5EFA\\" tabindex=\\"-1\\"><a class=\\"header-anchor\\" href=\\"#\u6784\u5EFA\\" aria-hidden=\\"true\\">#</a> \u6784\u5EFA</h4>\\n<div class=\\"language-typescript ext-ts line-numbers-mode\\"><pre v-pre class=\\"language-typescript\\"><code><span class=\\"token keyword\\">import</span> <span class=\\"token punctuation\\">{</span> createApp <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">'vue'</span>\\n<span class=\\"token keyword\\">import</span> <span class=\\"token punctuation\\">{</span> createStore <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">'vuex'</span>\\n\\n\\n<span class=\\"token comment\\">// \u521B\u5EFA\u4E00\u4E2A\u65B0\u7684 store \u5B9E\u4F8B</span>\\n<span class=\\"token keyword\\">const</span> store <span class=\\"token operator\\">=</span> <span class=\\"token function\\">createStore</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span>\\n    \\n  <span class=\\"token function\\">state</span> <span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token keyword\\">return</span> <span class=\\"token punctuation\\">{</span>\\n      id<span class=\\"token operator\\">:</span> <span class=\\"token string\\">''</span><span class=\\"token punctuation\\">,</span> <span class=\\"token comment\\">// \u6279\u6B21id</span>\\n      uid<span class=\\"token operator\\">:</span> <span class=\\"token string\\">''</span><span class=\\"token punctuation\\">,</span> <span class=\\"token comment\\">// \u7528\u6237id</span>\\n      token<span class=\\"token operator\\">:</span> <span class=\\"token string\\">''</span><span class=\\"token punctuation\\">,</span> <span class=\\"token comment\\">// \u767B\u5F55token </span>\\n      digest<span class=\\"token operator\\">:</span> <span class=\\"token string\\">''</span><span class=\\"token punctuation\\">,</span> <span class=\\"token comment\\">// \u4F01\u4E1Adigest</span>\\n      phone<span class=\\"token operator\\">:</span> <span class=\\"token string\\">''</span><span class=\\"token punctuation\\">,</span> <span class=\\"token comment\\">// \u7535\u8BDD\u53F7\u7801</span>\\n      kp_signature<span class=\\"token operator\\">:</span> <span class=\\"token string\\">''</span><span class=\\"token punctuation\\">,</span> <span class=\\"token comment\\">// \u6279\u6B21id\u7B7E\u540D\u8BA4\u8BC1</span>\\n      product_type<span class=\\"token operator\\">:</span> <span class=\\"token string\\">''</span><span class=\\"token punctuation\\">,</span> <span class=\\"token comment\\">// \u4EA7\u54C1\u7C7B\u578B</span>\\n    <span class=\\"token punctuation\\">}</span>\\n  <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n  \\n  <span class=\\"token comment\\">// \u4F7F\u7528set+\u9A7C\u5CF0\u547D\u540D\u8BBE\u7F6E\u72B6\u6001\uFF0C\u672A\u4F7F\u7528\u5B98\u7F51\u63A8\u8350\u7684\u5927\u5199\u65B9\u6848</span>\\n  mutations<span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token comment\\">// \u8BBE\u7F6E\u6279\u6B21id</span>\\n    <span class=\\"token function\\">setId</span> <span class=\\"token punctuation\\">(</span>state<span class=\\"token punctuation\\">,</span> value<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        state<span class=\\"token punctuation\\">.</span>id <span class=\\"token operator\\">=</span> value<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n    \\n    <span class=\\"token comment\\">// \u8BBE\u7F6E\u7528\u6237id</span>\\n    <span class=\\"token function\\">setUid</span> <span class=\\"token punctuation\\">(</span>state<span class=\\"token punctuation\\">,</span> value<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        state<span class=\\"token punctuation\\">.</span>uid <span class=\\"token operator\\">=</span> value<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n    \\n    <span class=\\"token comment\\">// \u8BBE\u7F6E\u7528\u6237id</span>\\n    <span class=\\"token function\\">setToken</span> <span class=\\"token punctuation\\">(</span>state<span class=\\"token punctuation\\">,</span> value<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        state<span class=\\"token punctuation\\">.</span>token <span class=\\"token operator\\">=</span> value<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n    \\n    <span class=\\"token comment\\">// \u8BBE\u7F6E\u4F01\u4E1Adigest</span>\\n    <span class=\\"token function\\">setDigest</span> <span class=\\"token punctuation\\">(</span>state<span class=\\"token punctuation\\">,</span> value<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        state<span class=\\"token punctuation\\">.</span>digest <span class=\\"token operator\\">=</span> value<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n    \\n    <span class=\\"token comment\\">// \u8BBE\u7F6E\u7535\u8BDD\u53F7\u7801</span>\\n    <span class=\\"token function\\">setPhone</span> <span class=\\"token punctuation\\">(</span>state<span class=\\"token punctuation\\">,</span> value<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        state<span class=\\"token punctuation\\">.</span>phone <span class=\\"token operator\\">=</span> value<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n    \\n    <span class=\\"token comment\\">// \u8BBE\u7F6E\u6279\u6B21id\u7B7E\u540D\u8BA4\u8BC1</span>\\n    <span class=\\"token function\\">setKp_signature</span> <span class=\\"token punctuation\\">(</span>state<span class=\\"token punctuation\\">,</span> value<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        state<span class=\\"token punctuation\\">.</span>kp_signature <span class=\\"token operator\\">=</span> value<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n    \\n    <span class=\\"token comment\\">// \u8BBE\u7F6E\u4EA7\u54C1\u7C7B\u578B</span>\\n    <span class=\\"token function\\">setProduct_type</span> <span class=\\"token punctuation\\">(</span>state<span class=\\"token punctuation\\">,</span> value<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        state<span class=\\"token punctuation\\">.</span>product_type <span class=\\"token operator\\">=</span> value<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n  <span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span>\\n\\n<span class=\\"token keyword\\">const</span> app <span class=\\"token operator\\">=</span> <span class=\\"token function\\">createApp</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span> <span class=\\"token comment\\">/* \u6839\u7EC4\u4EF6 */</span> <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span>\\n\\n<span class=\\"token comment\\">// \u5C06 store \u5B9E\u4F8B\u4F5C\u4E3A\u63D2\u4EF6\u5B89\u88C5</span>\\napp<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">use</span><span class=\\"token punctuation\\">(</span>store<span class=\\"token punctuation\\">)</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div><h4 id=\\"vuex\u7ED1\u5B9Adata\u6570\u636E\u540C\u6B65\u65B9\u6848\\" tabindex=\\"-1\\"><a class=\\"header-anchor\\" href=\\"#vuex\u7ED1\u5B9Adata\u6570\u636E\u540C\u6B65\u65B9\u6848\\" aria-hidden=\\"true\\">#</a> vuex\u7ED1\u5B9Adata\u6570\u636E\u540C\u6B65\u65B9\u6848</h4>\\n<div class=\\"custom-container tip\\"><p class=\\"custom-container-title\\">\u601D\u8DEF\u5206\u6790</p>\\n<ul>\\n<li><strong>\u95EE\u9898</strong>\uFF1Avuex\u548Cdata\u6570\u636E\u90FD\u662F\u54CD\u5E94\u5F0F\u7684\uFF0C\u72B6\u6001\u540C\u6B65\uFF0C\u4F46\u662Fvuex\u6570\u636E\u8D4B\u503C\u5230data\u4E2D\uFF0Cvuex\u6570\u636E\u66F4\u65B0\uFF0Cdata\u4E2D\u7684\u6570\u636E\u4E0D\u4F1A\u54CD\u5E94\uFF1B</li>\\n<li><strong>\u89E3\u51B3\u65B9\u6CD5</strong>\uFF1A\u4F7F\u7528watch\u76D1\u542Cvuex\u72B6\u6001\uFF0C\u7136\u540E\u8D4B\u503C\u7ED9data\uFF0C\u4ECE\u800Cdata\u505A\u51FA\u54CD\u5E94</li>\\n<li><strong>\u65B0\u7684\u95EE\u9898</strong>\uFF1Awatch\u76D1\u542C\u6709\u5EF6\u8FDF\uFF0C\u4FEE\u6539vuex\u72B6\u6001\uFF0Cdata\u72B6\u6001\u4E0D\u4F1A\u540C\u6B65\u66F4\u65B0\uFF0C\u83B7\u53D6data\u72B6\u6001\u7684\u4EFB\u52A1\u9700\u8981\u6392\u5217\u5230\u961F\u5217\u6700\u540E\uFF0C\u624D\u80FD\u53D6\u5230\u6570\u636E\u66F4\u65B0\u540E\u7684\u72B6\u6001\uFF0C\u4F53\u9A8C\u4E0D\u4F73\uFF1B</li>\\n</ul>\\n</div>\\n<div class=\\"language-typescript ext-ts line-numbers-mode\\"><pre v-pre class=\\"language-typescript\\"><code><span class=\\"token function\\">data</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token keyword\\">return</span> <span class=\\"token punctuation\\">{</span>\\n      id<span class=\\"token operator\\">:</span> <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>$store<span class=\\"token punctuation\\">.</span>state<span class=\\"token punctuation\\">.</span>id<span class=\\"token punctuation\\">,</span> <span class=\\"token comment\\">// \u9ED8\u8BA4id=\\"\\"</span>\\n    <span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span>\\n\\n<span class=\\"token function\\">created</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token builtin\\">console</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">log</span><span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>id<span class=\\"token punctuation\\">)</span> <span class=\\"token comment\\">// id = \\"\\"</span>\\n    <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>$store<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">commit</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'setId'</span><span class=\\"token punctuation\\">,</span> <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>$route<span class=\\"token punctuation\\">.</span>query<span class=\\"token punctuation\\">.</span>id<span class=\\"token punctuation\\">)</span> <span class=\\"token comment\\">// id = 111111</span>\\n   <span class=\\"token builtin\\">console</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">log</span><span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>id<span class=\\"token punctuation\\">)</span> <span class=\\"token comment\\">// id = \\"\\"</span>\\n   <span class=\\"token function\\">setTimeout</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token operator\\">=></span><span class=\\"token punctuation\\">{</span>\\n      <span class=\\"token builtin\\">console</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">log</span><span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>id<span class=\\"token punctuation\\">)</span> <span class=\\"token comment\\">// id = 111111</span>\\n   <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span><span class=\\"token number\\">0</span><span class=\\"token punctuation\\">)</span>\\n   <span class=\\"token comment\\">// \u5982\u679C\u540C\u6B65\u4F7F\u7528\u9700\u8981\u628A\u4EFB\u52A1\u6EDE\u540E</span>\\n<span class=\\"token punctuation\\">}</span>\\n\\nwatch<span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token string\\">\\"$store.state.id\\"</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>id <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>$store<span class=\\"token punctuation\\">.</span>state<span class=\\"token punctuation\\">.</span>id<span class=\\"token punctuation\\">;</span>\\n  <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div><h4 id=\\"vuex\u4E0Edata\u6570\u636E\u72EC\u7ACB\u4F7F\u7528\\" tabindex=\\"-1\\"><a class=\\"header-anchor\\" href=\\"#vuex\u4E0Edata\u6570\u636E\u72EC\u7ACB\u4F7F\u7528\\" aria-hidden=\\"true\\">#</a> vuex\u4E0Edata\u6570\u636E\u72EC\u7ACB\u4F7F\u7528</h4>\\n<ul>\\n<li><strong>\u7F3A\u70B9</strong>\uFF1A\u65E7\u7248\u672C\u4F7F\u7528\u9700\u8981\u91CD\u65B0\u5199\u5165\u53D8\u91CF</li>\\n</ul>\\n<div class=\\"language-typescript ext-ts line-numbers-mode\\"><pre v-pre class=\\"language-typescript\\"><code><span class=\\"token comment\\">// \u72EC\u7ACB\u83B7\u53D6\uFF0C\u72EC\u7ACB\u8D4B\u503C\uFF1B</span>\\nhtml\u4F7F\u7528vuex<span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">{</span><span class=\\"token punctuation\\">{</span>$store<span class=\\"token punctuation\\">.</span>state<span class=\\"token punctuation\\">.</span>id<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">}</span>\\nhtml\u4F7F\u7528data<span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">{</span><span class=\\"token punctuation\\">{</span>id<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">}</span>\\njs\u4E2D\u4F7F\u7528vuex<span class=\\"token operator\\">:</span> <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>$store<span class=\\"token punctuation\\">.</span>state<span class=\\"token punctuation\\">.</span>id<span class=\\"token punctuation\\">;</span>\\njs\u4E2D\u4F7F\u7528data<span class=\\"token operator\\">:</span> <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>id<span class=\\"token punctuation\\">;</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div><h4 id=\\"\u7EDF\u4E00\u8BBE\u7F6E\u5168\u5C40\u72B6\u6001\\" tabindex=\\"-1\\"><a class=\\"header-anchor\\" href=\\"#\u7EDF\u4E00\u8BBE\u7F6E\u5168\u5C40\u72B6\u6001\\" aria-hidden=\\"true\\">#</a> \u7EDF\u4E00\u8BBE\u7F6E\u5168\u5C40\u72B6\u6001</h4>\\n<div class=\\"language-typescript ext-ts line-numbers-mode\\"><pre v-pre class=\\"language-typescript\\"><code><span class=\\"token comment\\">// tools\u5DE5\u5177</span>\\n<span class=\\"token keyword\\">import</span> store <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">'../store'</span>\\n\\n<span class=\\"token doc-comment comment\\">/**\\n * \u5168\u5C40\u6570\u636E\u5B58\u50A8\\n * <span class=\\"token keyword\\">@param</span> <span class=\\"token punctuation\\">{</span>object<span class=\\"token punctuation\\">}</span> query : \u4F20\u5165\u7528\u6237\u6570\u636E\u5BF9\u8C61\\n * \u7528\u4E8Evuex\u5168\u5C40\u6570\u636E\u7EDF\u4E00\u5B58\u50A8\\n */</span>\\n<span class=\\"token function\\">setUserStore</span><span class=\\"token punctuation\\">(</span>query<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token keyword\\">if</span><span class=\\"token punctuation\\">(</span>query<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">if</span><span class=\\"token punctuation\\">(</span>query<span class=\\"token punctuation\\">.</span>uid<span class=\\"token punctuation\\">)</span> localStorage<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">setItem</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\"local_userid\\"</span><span class=\\"token punctuation\\">,</span> query<span class=\\"token punctuation\\">.</span>uid<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token keyword\\">if</span><span class=\\"token punctuation\\">(</span>query<span class=\\"token punctuation\\">.</span>token<span class=\\"token punctuation\\">)</span> localStorage<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">setItem</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\"local_token\\"</span><span class=\\"token punctuation\\">,</span> query<span class=\\"token punctuation\\">.</span>token<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token keyword\\">if</span><span class=\\"token punctuation\\">(</span>query<span class=\\"token punctuation\\">.</span>id<span class=\\"token punctuation\\">)</span> store<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">commit</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'setId'</span><span class=\\"token punctuation\\">,</span> query<span class=\\"token punctuation\\">.</span>id<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token keyword\\">if</span><span class=\\"token punctuation\\">(</span>query<span class=\\"token punctuation\\">.</span>uid<span class=\\"token punctuation\\">)</span> store<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">commit</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'setUid'</span><span class=\\"token punctuation\\">,</span> query<span class=\\"token punctuation\\">.</span>uid<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token keyword\\">if</span><span class=\\"token punctuation\\">(</span>query<span class=\\"token punctuation\\">.</span>token<span class=\\"token punctuation\\">)</span> store<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">commit</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'setToken'</span><span class=\\"token punctuation\\">,</span> query<span class=\\"token punctuation\\">.</span>token<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token keyword\\">if</span><span class=\\"token punctuation\\">(</span>query<span class=\\"token punctuation\\">.</span>digest<span class=\\"token punctuation\\">)</span> store<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">commit</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'setDigest'</span><span class=\\"token punctuation\\">,</span> query<span class=\\"token punctuation\\">.</span>digest<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token keyword\\">if</span><span class=\\"token punctuation\\">(</span>query<span class=\\"token punctuation\\">.</span>phone<span class=\\"token punctuation\\">)</span> store<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">commit</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'setPhone'</span><span class=\\"token punctuation\\">,</span> query<span class=\\"token punctuation\\">.</span>phone<span class=\\"token punctuation\\">)</span>\\n        <span class=\\"token keyword\\">if</span><span class=\\"token punctuation\\">(</span>query<span class=\\"token punctuation\\">.</span>kp_signature<span class=\\"token punctuation\\">)</span> store<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">commit</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'setKp_signature'</span><span class=\\"token punctuation\\">,</span> query<span class=\\"token punctuation\\">.</span>kp_signature<span class=\\"token punctuation\\">)</span>\\n        <span class=\\"token keyword\\">if</span><span class=\\"token punctuation\\">(</span>query<span class=\\"token punctuation\\">.</span>product_type<span class=\\"token punctuation\\">)</span> store<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">commit</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'setProduct_type'</span><span class=\\"token punctuation\\">,</span> query<span class=\\"token punctuation\\">.</span>product_type<span class=\\"token punctuation\\">)</span>\\n    <span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div><div class=\\"language-typescript ext-ts line-numbers-mode\\"><pre v-pre class=\\"language-typescript\\"><code><span class=\\"token comment\\">// \u4F7F\u7528</span>\\n<span class=\\"token function\\">created</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token comment\\">// \u5168\u90E8\u66F4\u65B0\u72B6\u6001  </span>\\n  <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>$tools<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">setUserStore</span><span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>$route<span class=\\"token punctuation\\">.</span>query<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n  <span class=\\"token comment\\">// \u6307\u5B9A\u66F4\u65B0\u72B6\u6001</span>\\n  <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>$tools<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">setUserStore</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span>\\n      uid<span class=\\"token operator\\">:</span> res<span class=\\"token punctuation\\">.</span>data<span class=\\"token operator\\">?.</span>user_id<span class=\\"token punctuation\\">,</span>\\n      token<span class=\\"token operator\\">:</span> res<span class=\\"token punctuation\\">.</span>data<span class=\\"token operator\\">?.</span>token<span class=\\"token punctuation\\">,</span>\\n      digest<span class=\\"token operator\\">:</span> res<span class=\\"token punctuation\\">.</span>data<span class=\\"token operator\\">?.</span>digest<span class=\\"token punctuation\\">,</span>\\n     phone<span class=\\"token operator\\">:</span> res<span class=\\"token punctuation\\">.</span>data<span class=\\"token operator\\">?.</span>phone<span class=\\"token punctuation\\">,</span>\\n     product_type<span class=\\"token operator\\">:</span> res<span class=\\"token punctuation\\">.</span>data<span class=\\"token operator\\">?.</span>product_type<span class=\\"token punctuation\\">,</span>\\n  <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div><h3 id=\\"vuex\u6570\u636E\u6301\u4E45\u5316-vuex-persistedstate\\" tabindex=\\"-1\\"><a class=\\"header-anchor\\" href=\\"#vuex\u6570\u636E\u6301\u4E45\u5316-vuex-persistedstate\\" aria-hidden=\\"true\\">#</a> vuex\u6570\u636E\u6301\u4E45\u5316\uFF1Avuex-persistedstate</h3>\\n<h4 id=\\"\u5B89\u88C5\\" tabindex=\\"-1\\"><a class=\\"header-anchor\\" href=\\"#\u5B89\u88C5\\" aria-hidden=\\"true\\">#</a> \u5B89\u88C5</h4>\\n<div class=\\"language-bash ext-sh line-numbers-mode\\"><pre v-pre class=\\"language-bash\\"><code><span class=\\"token function\\">npm</span> <span class=\\"token function\\">install</span> --save vuex-persistedstate\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div></div></div><h4 id=\\"\u5F15\u7528\u5E76\u914D\u7F6E\\" tabindex=\\"-1\\"><a class=\\"header-anchor\\" href=\\"#\u5F15\u7528\u5E76\u914D\u7F6E\\" aria-hidden=\\"true\\">#</a> \u5F15\u7528\u5E76\u914D\u7F6E</h4>\\n<div class=\\"language-typescript ext-ts line-numbers-mode\\"><pre v-pre class=\\"language-typescript\\"><code><span class=\\"token keyword\\">import</span> persistedState <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">'vuex-persistedstate'</span>\\n\\n<span class=\\"token keyword\\">export</span> <span class=\\"token keyword\\">default</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">Vuex</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">Store</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span>\\n    \\n  plugins<span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">[</span>\\n      <span class=\\"token function\\">persistedState</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token comment\\">// \u9ED8\u8BA4\u4E3AlocalStorage</span>\\n        storage<span class=\\"token operator\\">:</span> window<span class=\\"token punctuation\\">.</span>sessionStorage<span class=\\"token punctuation\\">,</span>\\n      <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span>\\n  <span class=\\"token punctuation\\">]</span>\\n\\n<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div><h4 id=\\"\u5176\u4ED6\u914D\u7F6E\\" tabindex=\\"-1\\"><a class=\\"header-anchor\\" href=\\"#\u5176\u4ED6\u914D\u7F6E\\" aria-hidden=\\"true\\">#</a> \u5176\u4ED6\u914D\u7F6E</h4>\\n<div class=\\"language-typescript ext-ts line-numbers-mode\\"><pre v-pre class=\\"language-typescript\\"><code> <span class=\\"token comment\\">// \u5B58\u50A8\u5230 localStorege</span>\\n plugins<span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">[</span><span class=\\"token function\\">createPersistedState</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">]</span>\\n <span class=\\"token comment\\">// \u6216\u8005</span>\\n  plugins<span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">[</span><span class=\\"token function\\">createPersistedState</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span>\\n    storage<span class=\\"token operator\\">:</span>window<span class=\\"token punctuation\\">.</span>localStorege\\n  <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">]</span>\\n \\n\\n<span class=\\"token comment\\">// \u5B58\u50A8\u5230  sessionStorage</span>\\nplugins<span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">[</span><span class=\\"token function\\">createPersistedState</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span>\\n  storage<span class=\\"token operator\\">:</span>window<span class=\\"token punctuation\\">.</span>sessionStorage\\n<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">]</span>\\n\\n<span class=\\"token comment\\">// \u7F13\u5B58state\u4E0B\u6307\u5B9A\u7684\u90E8\u5206\u6570\u636E</span>\\n plugins<span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">[</span><span class=\\"token function\\">createPersistedState</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span>\\n storage<span class=\\"token operator\\">:</span>window<span class=\\"token punctuation\\">.</span>sessionStorage<span class=\\"token punctuation\\">,</span>\\n     <span class=\\"token function\\">reducer</span><span class=\\"token punctuation\\">(</span>val<span class=\\"token punctuation\\">)</span>  <span class=\\"token punctuation\\">{</span>\\n         <span class=\\"token keyword\\">return</span> <span class=\\"token punctuation\\">{</span>\\n             <span class=\\"token comment\\">// \u53EA\u50A8\u5B58state\u4E2D\u7684token</span>\\n             assessmentData<span class=\\"token operator\\">:</span> val<span class=\\"token punctuation\\">.</span>token<span class=\\"token punctuation\\">,</span>\\n         <span class=\\"token punctuation\\">}</span>\\n     <span class=\\"token punctuation\\">}</span>\\n <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">]</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div><ul>\\n<li>\u7F13\u5B58Vuex\u591A\u4E2A\u6A21\u5757\u4E0B\u7684\u6307\u5B9A\u67D0\u4E2A\u6A21\u5757\u7684state\uFF0C\u901A\u8FC7\u4FEE\u6539path\u914D\u7F6E\u6765\u5B9E\u73B0</li>\\n</ul>\\n<div class=\\"language-typescript ext-ts line-numbers-mode\\"><pre v-pre class=\\"language-typescript\\"><code><span class=\\"token comment\\">/* user-module */</span>\\n<span class=\\"token keyword\\">export</span> <span class=\\"token keyword\\">const</span> user <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">{</span>\\n  state<span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">{</span>\\n    token<span class=\\"token operator\\">:</span> <span class=\\"token string\\">''</span><span class=\\"token punctuation\\">,</span>\\n    role<span class=\\"token operator\\">:</span> <span class=\\"token string\\">''</span>\\n  <span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span>\\n<span class=\\"token comment\\">/* profile-module */</span>\\n<span class=\\"token keyword\\">export</span> <span class=\\"token keyword\\">const</span> profile <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">{</span>\\n  state<span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">{</span>\\n    name<span class=\\"token operator\\">:</span> <span class=\\"token string\\">''</span><span class=\\"token punctuation\\">,</span>\\n    company<span class=\\"token operator\\">:</span> <span class=\\"token string\\">''</span>\\n  <span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span>\\n<span class=\\"token comment\\">/* modules\u76EE\u5F55\u4E0B\u7684index.js */</span>\\n<span class=\\"token keyword\\">import</span> user <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">'./user'</span>\\n<span class=\\"token keyword\\">import</span> profile <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">'./profile'</span>\\n<span class=\\"token keyword\\">export</span> <span class=\\"token keyword\\">default</span> <span class=\\"token punctuation\\">{</span>\\n  user<span class=\\"token punctuation\\">,</span>\\n  profile\\n<span class=\\"token punctuation\\">}</span>\\n\\n<span class=\\"token comment\\">/* store.js */</span>\\n<span class=\\"token keyword\\">import</span> modules <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">'./modules'</span>\\n<span class=\\"token keyword\\">let</span> store <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">Vuex</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">Store</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span>\\n    modules<span class=\\"token punctuation\\">,</span>\\n     plugins<span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">[</span>\\n    <span class=\\"token function\\">createPersistedState</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span>\\n      key<span class=\\"token operator\\">:</span> <span class=\\"token string\\">'zdao'</span><span class=\\"token punctuation\\">,</span>\\n      paths<span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">'user'</span><span class=\\"token punctuation\\">]</span> <span class=\\"token comment\\">// \u8FD9\u91CC\u4FBF\u53EA\u4F1A\u7F13\u5B58user\u4E0B\u7684state\u503C</span>\\n    <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span>\\n  <span class=\\"token punctuation\\">]</span>\\n<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span> \\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div><h3 id=\\"\u624B\u52A8\u5728vuex\u4E2D\u7F13\u5B58\u5168\u5C40\u6570\u636E\\" tabindex=\\"-1\\"><a class=\\"header-anchor\\" href=\\"#\u624B\u52A8\u5728vuex\u4E2D\u7F13\u5B58\u5168\u5C40\u6570\u636E\\" aria-hidden=\\"true\\">#</a> \u624B\u52A8\u5728vuex\u4E2D\u7F13\u5B58\u5168\u5C40\u6570\u636E</h3>\\n<ul>\\n<li><strong>\u7F3A\u70B9</strong>\uFF1A\u53EA\u80FD\u5B9E\u73B0\u7B80\u5355\u7684\u7F13\u5B58\u529F\u80FD\uFF0C\u9700\u8981\u5229\u7528<code v-pre>getter</code>\u6765\u83B7\u53D6\u7F13\u5B58\u6570\u636E</li>\\n</ul>\\n<div class=\\"language-typescript ext-ts line-numbers-mode\\"><pre v-pre class=\\"language-typescript\\"><code><span class=\\"token keyword\\">const</span> <span class=\\"token function-variable function\\">state</span> <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=></span> <span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token keyword\\">return</span> <span class=\\"token punctuation\\">{</span>\\n    token<span class=\\"token operator\\">:</span> <span class=\\"token string\\">''</span>\\n  <span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span>\\n<span class=\\"token keyword\\">const</span> actions <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token keyword\\">async</span> <span class=\\"token function\\">login</span> <span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span> commit <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span> param<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token comment\\">// \u5728\u8FD9\u91CC\u83B7\u53D6\u7528\u6237\u7684\u767B\u5F55\u4FE1\u606F\uFF0C\u8FD4\u56DE\u503C\u5305\u542Btoken\uFF0Cuid\u7B49\u4FE1\u606F</span>\\n    <span class=\\"token keyword\\">const</span> userInfo <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">await</span> userService<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">login</span><span class=\\"token punctuation\\">(</span>param<span class=\\"token punctuation\\">)</span>\\n    <span class=\\"token function\\">commit</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'setUser'</span><span class=\\"token punctuation\\">,</span> userInfo<span class=\\"token punctuation\\">)</span>\\n    <span class=\\"token keyword\\">return</span> userInfo\\n  <span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span>\\n<span class=\\"token keyword\\">const</span> mutations <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token function\\">setUser</span> <span class=\\"token punctuation\\">(</span>state<span class=\\"token punctuation\\">,</span> data<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n    state<span class=\\"token punctuation\\">.</span>token <span class=\\"token operator\\">=</span> data<span class=\\"token punctuation\\">.</span>token\\n    <span class=\\"token comment\\">// \u5728\u8FD9\u91CC\u8BBE\u7F6E\u7528\u6237token, \u540C\u6B65\u5B58\u50A8\u6570\u636E</span>\\n    localStorage<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">setItem</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'user-token'</span><span class=\\"token punctuation\\">,</span> data<span class=\\"token punctuation\\">.</span>token<span class=\\"token punctuation\\">)</span>\\n  <span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span>\\n<span class=\\"token keyword\\">const</span> getter<span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token function\\">getUser</span> <span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token comment\\">// \u5728\u8FD9\u91CC\u83B7\u53D6\u7528\u6237token, \u4ECE\u7F13\u5B58\u4E2D</span>\\n    <span class=\\"token keyword\\">return</span> localStorage<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">getItem</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'user-token'</span><span class=\\"token punctuation\\">)</span>\\n  <span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span> \\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","headers":[{"level":2,"title":"\u4E00\u3001vuex\u6570\u636E\u6301\u4E45\u5316\u5B9E\u73B0","slug":"\u4E00\u3001vuex\u6570\u636E\u6301\u4E45\u5316\u5B9E\u73B0","children":[{"level":3,"title":"vuex\u72B6\u6001\u7BA1\u7406\u8BBE\u8BA1\u548C\u5B9E\u73B0","slug":"vuex\u72B6\u6001\u7BA1\u7406\u8BBE\u8BA1\u548C\u5B9E\u73B0","children":[]},{"level":3,"title":"vuex\u6570\u636E\u6301\u4E45\u5316\uFF1Avuex-persistedstate","slug":"vuex\u6570\u636E\u6301\u4E45\u5316-vuex-persistedstate","children":[]},{"level":3,"title":"\u624B\u52A8\u5728vuex\u4E2D\u7F13\u5B58\u5168\u5C40\u6570\u636E","slug":"\u624B\u52A8\u5728vuex\u4E2D\u7F13\u5B58\u5168\u5C40\u6570\u636E","children":[]}]},{"level":2,"title":"\u4E8C\u3001vue\u79FB\u52A8\u7AEF\u9879\u76EE\u652F\u4ED8\u6A21\u5757\u5C01\u88C5","slug":"\u4E8C\u3001vue\u79FB\u52A8\u7AEF\u9879\u76EE\u652F\u4ED8\u6A21\u5757\u5C01\u88C5","children":[{"level":3,"title":"\u4EE3\u7801\u5B9E\u73B0","slug":"\u4EE3\u7801\u5B9E\u73B0","children":[]}]},{"level":2,"title":"\u4E09\u3001vue input\u8F93\u5165\u8054\u60F3\u5B9E\u73B0","slug":"\u4E09\u3001vue-input\u8F93\u5165\u8054\u60F3\u5B9E\u73B0","children":[{"level":3,"title":"\u5229\u7528\u9632\u6296\u5904\u7406@Input\u8BF7\u6C42\u8054\u60F3\u63A5\u53E3","slug":"\u5229\u7528\u9632\u6296\u5904\u7406-input\u8BF7\u6C42\u8054\u60F3\u63A5\u53E3","children":[]},{"level":3,"title":"\u4F7F\u7528\u8BF7\u6C42\u4E2D\u65AD\u4E2D\u65AD\u4E0A\u4E00\u4E2A\u8BF7\u6C42","slug":"\u4F7F\u7528\u8BF7\u6C42\u4E2D\u65AD\u4E2D\u65AD\u4E0A\u4E00\u4E2A\u8BF7\u6C42","children":[]},{"level":3,"title":"\u6700\u7EC8\u65B9\u6848\uFF1A \u9632\u6296+\u8FC7\u671F\u8BF7\u6C42\u4E2D\u65AD","slug":"\u6700\u7EC8\u65B9\u6848-\u9632\u6296-\u8FC7\u671F\u8BF7\u6C42\u4E2D\u65AD","children":[]}]},{"level":2,"title":"\u56DB\u3001hooks\u7EC4\u4EF6\u62BD\u79BB\u601D\u60F3","slug":"\u56DB\u3001hooks\u7EC4\u4EF6\u62BD\u79BB\u601D\u60F3","children":[]},{"level":2,"title":"\u4E00\u3001css\u6837\u5F0F\u95EE\u9898","slug":"\u4E00\u3001css\u6837\u5F0F\u95EE\u9898","children":[{"level":3,"title":"\u79FB\u52A8\u7AEF\u5C0F\u4E8E12px\u5B57\u4F53\u89E3\u51B3\u65B9\u6848","slug":"\u79FB\u52A8\u7AEF\u5C0F\u4E8E12px\u5B57\u4F53\u89E3\u51B3\u65B9\u6848","children":[]},{"level":3,"title":"\u7981\u6B62\u5B50\u5143\u7D20\u6EDA\u52A8\u89E6\u53D1\u7236\u5143\u7D20\u6EDA\u52A8\u89E3\u51B3\u65B9\u6848","slug":"\u7981\u6B62\u5B50\u5143\u7D20\u6EDA\u52A8\u89E6\u53D1\u7236\u5143\u7D20\u6EDA\u52A8\u89E3\u51B3\u65B9\u6848","children":[]},{"level":3,"title":"css \u4FEE\u6539icon\u989C\u8272","slug":"css-\u4FEE\u6539icon\u989C\u8272","children":[]},{"level":3,"title":"css \u6309\u94AE\u70B9\u51FB\u6CE2\u7EB9\u6269\u5C55\u52A8\u753B\u6548\u679C","slug":"css-\u6309\u94AE\u70B9\u51FB\u6CE2\u7EB9\u6269\u5C55\u52A8\u753B\u6548\u679C","children":[]}]},{"level":2,"title":"\u4E8C\u3001\u9AD8\u5FB7\u5730\u56FE\u9009\u70B9\u63A5\u53E3\u8C03\u7528\u8282\u6D41","slug":"\u4E8C\u3001\u9AD8\u5FB7\u5730\u56FE\u9009\u70B9\u63A5\u53E3\u8C03\u7528\u8282\u6D41","children":[]},{"level":2,"title":"\u4E09\u3001requestAnimationFrame\u8282\u6D41\u4F18\u5316","slug":"\u4E09\u3001requestanimationframe\u8282\u6D41\u4F18\u5316","children":[{"level":3,"title":"1\u3001requestAnimationFrame","slug":"_1\u3001requestanimationframe","children":[]},{"level":3,"title":"\u9632\u6296\u51FD\u6570","slug":"\u9632\u6296\u51FD\u6570","children":[]},{"level":3,"title":"\u8282\u6D41\u51FD\u6570","slug":"\u8282\u6D41\u51FD\u6570","children":[]},{"level":3,"title":"requestAnimationFrame \u9632\u6296","slug":"requestanimationframe-\u9632\u6296","children":[]},{"level":3,"title":"requestAnimationFrame \u8282\u6D41","slug":"requestanimationframe-\u8282\u6D41","children":[]}]},{"level":2,"title":"\u56DB\u3001\u524D\u7AEF\u76D1\u63A7\u7CFB\u7EDF\uFF1A\u7A33\u5B9A\u6027\u76D1\u63A7","slug":"\u56DB\u3001\u524D\u7AEF\u76D1\u63A7\u7CFB\u7EDF-\u7A33\u5B9A\u6027\u76D1\u63A7","children":[{"level":3,"title":"\u7A33\u5B9A\u6027","slug":"\u7A33\u5B9A\u6027","children":[]},{"level":3,"title":"\u7528\u6237\u4F53\u9A8C","slug":"\u7528\u6237\u4F53\u9A8C","children":[]},{"level":3,"title":"\u4E1A\u52A1\u5206\u6790\u4F9D\u636E","slug":"\u4E1A\u52A1\u5206\u6790\u4F9D\u636E","children":[]},{"level":3,"title":"\u6570\u636E\u6A21\u578B","slug":"\u6570\u636E\u6A21\u578B","children":[]}]}],"git":{"updatedTime":1683472704000,"contributors":[{"name":"hhd","email":"haohaidong@pingansec.com","commits":1}]},"filePathRelative":"other/share/share.md"}`);export{n as data};
