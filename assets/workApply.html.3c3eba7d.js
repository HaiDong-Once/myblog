import{_ as l,a as i}from"./img_5.eb58b3d4.js";import{_ as u,r as c,o as k,c as r,b as n,a,w as p,d as s,e as o}from"./app.4c8b15c1.js";var d="/myblog/images/frontEnd/20220713222830.png",v="/myblog/images/frontEnd/img.png",m="/myblog/images/frontEnd/img_1.png",b="/myblog/images/frontEnd/img_2.png",g="/myblog/images/frontEnd/img_3.png",h="/myblog/images/frontEnd/img_6.png",y="/myblog/images/frontEnd/img_7.png",f="/myblog/images/frontEnd/img_8.png",w="/myblog/images/frontEnd/img_9.png",x="/myblog/images/frontEnd/img_10.png",q="/myblog/images/frontEnd/img_15.png",_="/myblog/images/frontEnd/img_11.png",C="/myblog/images/frontEnd/img_12.png",S="/myblog/images/frontEnd/img_13.png",D="/myblog/images/frontEnd/img_14.png";const T={},P=n("h1",{id:"\u5C0F\u7A0B\u5E8F\u5F00\u53D1\u6848\u4F8B\u6C47\u603B",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u5C0F\u7A0B\u5E8F\u5F00\u53D1\u6848\u4F8B\u6C47\u603B","aria-hidden":"true"},"#"),s(" \u5C0F\u7A0B\u5E8F\u5F00\u53D1\u6848\u4F8B\u6C47\u603B")],-1),j={class:"table-of-contents"},L=s("\u5C0F\u7A0B\u5E8F\u516C\u5171\u5F39\u7A97\u7EC4\u4EF6\u5C01\u88C5"),A=s("\u4EE3\u7801\u5B9E\u73B0"),B=s("\u4F7F\u7528\u65B9\u6CD5"),F=s("\u5C0F\u7A0B\u5E8Fmap\u5730\u56FE\u663E\u793A\u7EC4\u4EF6\u4F7F\u7528\u6848\u4F8B"),I=s("\u5C0F\u7A0B\u5E8F\u4F7F\u7528\u817E\u8BAF\u5730\u56FE\u9009\u70B9\u7EC4\u4EF6"),M=s("\u4EE3\u7801\u5B9E\u73B0"),R=s("\u5C0F\u7A0B\u5E8F\u767B\u5F55\u72B6\u6001\u7BA1\u7406\uFF08\u539F\u751F\uFF09"),E=s("\u7BA1\u5BB6\u5C0F\u7A0B\u5E8F\u767B\u5F55\u6D41\u7A0B\u5206\u6790"),W=s("\u89E3\u51B3\u65B9\u6848"),z=s("\u5C0F\u7A0B\u5E8F\u672C\u5730\u7F13\u5B58\u4E8C\u6B21\u5C01\u88C5\uFF08\u8FC7\u671F\uFF0C\u7EED\u671F\uFF0C\u83B7\u53D6\u5168\u90E8\uFF09"),H=s("\u5C0F\u7A0B\u5E8F\u9875\u9762\u6808"),O=s("\u89E3\u51B3\u5C0F\u7A0B\u5E8F\u8FD4\u56DE\u6309\u94AE\u548C\u7269\u7406\u8FD4\u56DE\u8DF3\u8F6C\u6307\u5B9A\u9875\u9762"),N=s("\u4E2D\u8F6C\u9875\u65B9\u6848\uFF08\u4E2D\u8F6C\u9875\u2014\u2014\u76EE\u6807\u9875\uFF09"),Y=s("\u9875\u9762\u6808\u8BE6\u60C5"),$=s("\u5C0F\u7A0B\u5E8F\u6027\u80FD\u4F18\u5316"),U=s("\u56FE\u7247\u4F18\u5316"),V=s("\u672A\u4F7F\u7528\u4F9D\u8D56\u6E05\u9664"),J=s("\u51CF\u91CD\u540E\u6570\u636E\u7EDF\u8BA1"),X=s("\u6253\u5F00\u5C0F\u7A0B\u5E8F\u6309\u9700\u6CE8\u5165"),K=s("\u4F7F\u7528\u5206\u5305\u52A0\u8F7D"),Z=s("\u6570\u636E\u9884\u62C9\u53D6"),G=s("\u6570\u636E\u6301\u4E45\u5316\uFF1A\u5168\u5C40\u6570\u636E\u548C\u7F13\u5B58\u7684\u5408\u7406\u5229\u7528"),Q=s("\u5C0F\u7A0B\u5E8F\u72B6\u6001\u7BA1\u7406"),nn=s("\u5C0F\u7A0B\u5E8F\u4F53\u9A8C\u4F18\u5316"),sn=s("\u5C0F\u7A0B\u5E8Fcanvas\u5B9E\u73B0\u591A\u8FB9\u5F62\u96F7\u8FBE\u56FE\uFF0C\u8718\u86DB\u56FE"),an=s("\u63A5\u53E3\u6570\u636E\u7F13\u5B58\u65B9\u6848"),tn=s("data\u6570\u636E\u7F13\u5B58"),pn=s("\u63A5\u53E3\u7F13\u5B58promise\u65B9\u6848"),en=s("\u5C0F\u7A0B\u5E8F\u5DE5\u5177\u51FD\u6570\u5C01\u88C5"),on=s("\u5168\u5C40loading\u89E3\u51B3\u65B9\u6848"),cn=s("\u626B\u7801\u8FDB\u5165\u5C0F\u7A0B\u5E8F\u53C2\u6570\u89E3\u6790"),ln=s("\u5C0F\u7A0B\u5E8Finput\u53CC\u5411\u7ED1\u5B9A"),un=s("\u5168\u8868\u5355\u53CC\u5411\u7ED1\u5B9A"),kn=s("\u5C0F\u7A0B\u5E8FswitchTab\u8DF3\u8F6C\u4F20\u53C2\u548C\u5237\u65B0\u9875\u9762\u89E3\u51B3\u65B9\u6848"),rn=s("\u4F7F\u7528wx.reLaunch"),dn=s("\u8C03\u7528\u9875\u9762\u6808\u5237\u65B0\u9875\u9762"),vn=s("\u4F7F\u7528\u5168\u5C40\u53D8\u91CF\u548C\u7F13\u5B58"),mn=s("\u4F2A\u5143\u7D20\u653E\u5927\u70B9\u51FB\u533A\u57DF"),bn=s("\u5C0F\u7A0B\u5E8F\u89C4\u907F\u5BA1\u6838\u65B9\u6CD5"),gn=s("\u95EE\u9898\u5206\u6790"),hn=s("\u5BA1\u6838\u673A\u5236"),yn=s("\u65B9\u6CD5\u603B\u7ED3"),fn=s("\u89E3\u51B3\u65B9\u6848"),wn=s("\u5C0F\u7A0B\u5E8Fechart\u56FE\u8868\u4F7F\u7528"),xn=s("\u5C0F\u7A0B\u5E8F\u5185\u8DF3\u8F6C\u5176\u4ED6\u5C0F\u7A0B\u5E8F"),qn=s("navigateToMiniProgram api\u8DF3\u8F6C"),_n=s("navigator\u6807\u7B7E\u8DF3\u8F6C"),Cn=s("\u6CE8\u610F\u4E8B\u9879"),Sn=s("\u5C0F\u7A0B\u5E8F\u56FE\u7247\u4E0A\u4F20"),Dn=s("wux-uploader\u7EC4\u4EF6"),Tn=s("\u5FAE\u4FE1uploader\u7EC4\u4EF6"),Pn=s("\u5C0F\u7A0B\u5E8F\u5206\u4EAB\u65B9\u6848"),jn=s("button\u7EC4\u4EF6\u65B9\u6848"),Ln=s("\u56DE\u8C03\u51FD\u6570\u65B9\u6848"),An=s("\u5206\u4EAB\u52A8\u6001\u56FE\u7247"),Bn=s("\u5C0F\u7A0B\u5E8F\u6570\u636E\u76D1\u542C\u5C01\u88C5 watch"),Fn=s("\u76D1\u542C\u57FA\u672C\u6570\u636E\u7C7B\u578B"),In=s("\u590D\u6742\u7C7B\u578B\u76D1\u542C"),Mn=s("\u5C0F\u7A0B\u5E8F\u8FD4\u56DE\u4E0A\u4E00\u9875\u4F20\u53C2"),Rn=s("\u8FDB\u5EA6\u7403\u6CE2\u6D6A\u52A8\u753B\u7EC4\u4EF6"),En=s("canvas\u52A8\u753B\u7EC4"),Wn=s("\u9759\u6001\u7EC4\u4EF6"),zn=s("svg\u7248\u672C(\u5C0F\u7A0B\u5E8F\u4E0D\u652F\u6301)"),Hn=s("\u5C0F\u7A0B\u5E8F\u6D88\u606F\u8BA2\u9605"),On=s("\u5C0F\u7A0B\u5E8F\u5F39\u7A97\u6DE1\u5165\u6DE1\u51FA"),Nn=s("\u5C0F\u7A0B\u5E8F\u5F39\u9875\u9762\u81EA\u52A8\u6EDA\u52A8\u52A8\u753B"),Yn=s("\u5C0F\u7A0B\u5E8F\u6587\u4EF6\u9884\u89C8"),$n=s("\u5C0F\u7A0B\u5E8F\u5206\u5305\u52A0\u8F7D"),Un=s("\u5C0F\u7A0B\u5E8F\u8DEF\u7531\u548C\u4F20\u53C2"),Vn=s("\u8DEF\u7531api"),Jn=s("navigator\u7EC4\u4EF6"),Xn=s("\u8DEF\u7531\u8DF3\u8F6C\u4F20\u53C2"),Kn=s("\u5C0F\u7A0B\u5E8F\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u548C\u4F7F\u7528"),Zn=s("\u7EC4\u4EF6\u4F20\u53C2"),Gn=s("\u7236\u5B50\u7EC4\u4EF6\u4F20\u503C\u2014\u7236\u4F20\u5B50"),Qn=s("\u7236\u5B50\u7EC4\u4EF6\u4F20\u503C\u2014\u5B50\u4F20\u7236"),ns=s("\u7EC4\u4EF6\u5185\u8DEF\u7531\u8DF3\u8F6C"),ss=s("input\u8F93\u5165\u8054\u60F3"),as=s("\u5C0F\u7A0B\u5E8F\u81EA\u5B9A\u4E49\u5BFC\u822A\u680F"),ts=s("\u5BFC\u822A\u680F\u5206\u6790"),ps=s("\u5BFC\u822A\u680F\u56FE\u89E3"),es=s("\u7EC4\u4EF6\u5C01\u88C5"),os=s("\u7EC4\u4EF6\u4F7F\u7528"),cs=s("\u5C0F\u7A0B\u5E8F\u590D\u5236\u6587\u672C\u5230\u5230\u7C98\u8D34\u677F"),ls=s("\u5C0F\u7A0B\u5E8F\u591A\u9009\u5217\u8868\u5F00\u53D1\u7968\u7EC4\u4EF6"),is=s("\u5C0F\u7A0B\u5E8F\u4F7F\u7528canvas\u65CB\u8F6C\u56FE\u7247"),us=s("\u5C0F\u7A0B\u5E8F\u8C03\u7528\u5FAE\u4FE1\u4F01\u4E1A\u5BA2\u670D"),ks=s("\u5C0F\u7A0B\u5E8F\u5185\u76F4\u63A5\u4F7F\u7528"),rs=s("\u5C0F\u7A0B\u5E8Fweb-view\u9875\u9762\u4F7F\u7528"),ds=o(`<h2 id="\u5C0F\u7A0B\u5E8F\u516C\u5171\u5F39\u7A97\u7EC4\u4EF6\u5C01\u88C5" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u516C\u5171\u5F39\u7A97\u7EC4\u4EF6\u5C01\u88C5" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u516C\u5171\u5F39\u7A97\u7EC4\u4EF6\u5C01\u88C5</h2><h3 id="\u4EE3\u7801\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#\u4EE3\u7801\u5B9E\u73B0" aria-hidden="true">#</a> \u4EE3\u7801\u5B9E\u73B0</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!--
  @description: \u516C\u5171\u5F39\u7A97\u7EC4\u4EF6
  @author: hhd (2023-02-13)
  @update: 
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>wxs</span> <span class="token attr-name">module</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>filter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../../app.wxs<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>wxs</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page-pop<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{ common_box.show }}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>card-pop<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title-pop<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u63D0\u793A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon-box-pop<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{common_box.success === 1}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{filter.buildStatic(<span class="token punctuation">&#39;</span>/map/mapServe/success-red-icon.png<span class="token punctuation">&#39;</span>)}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>\u63D0\u4EA4\u6210\u529F<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content-pop<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ common_box.title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button-pop<span class="token punctuation">&quot;</span></span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>confirmCommonBox<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ common_box.confirm_text }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">common_box</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  
    <span class="token doc-comment comment">/**
     * \u7EC4\u4EF6\u7684\u65B9\u6CD5\u5217\u8868
     */</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">showCommonBox</span><span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> close <span class="token operator">=</span> config<span class="token punctuation">.</span>close
            <span class="token keyword">if</span> <span class="token punctuation">(</span>close <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                close <span class="token operator">=</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                close <span class="token operator">=</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">let</span> common_box <span class="token operator">=</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token literal-property property">title</span><span class="token operator">:</span> config<span class="token punctuation">.</span>title <span class="token operator">||</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">confirm_text</span><span class="token operator">:</span> config<span class="token punctuation">.</span>confirmText <span class="token operator">||</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">callback</span><span class="token operator">:</span> config<span class="token punctuation">.</span>callback <span class="token operator">||</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
                <span class="token literal-property property">success</span><span class="token operator">:</span> config<span class="token punctuation">.</span>success <span class="token operator">||</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">rightBottomText</span><span class="token operator">:</span> config<span class="token punctuation">.</span>rightBottomText <span class="token operator">||</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">rightBottomCallback</span><span class="token operator">:</span> config<span class="token punctuation">.</span>rightBottomCallback <span class="token operator">||</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
                <span class="token literal-property property">fontWeight</span><span class="token operator">:</span> config<span class="token punctuation">.</span>fontWeight <span class="token operator">||</span> <span class="token string">&#39;bold&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">type</span><span class="token operator">:</span> config<span class="token punctuation">.</span>type <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">,</span>
                close
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                common_box
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">rightBottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>common_box<span class="token punctuation">.</span>rightBottomCallback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>common_box<span class="token punctuation">.</span><span class="token function">rightBottomCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>rightBottomCallback <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">closeCommonBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">confirmCommonBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">closeCommonBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>common_box<span class="token punctuation">.</span>callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>common_box<span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>callback <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">closeCommonBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>common_box<span class="token punctuation">.</span>show <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">common_box</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>common_box
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.page-pop</span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.6<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 999<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.page-pop .card-pop</span><span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span>-50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 670rpx<span class="token punctuation">;</span>
  <span class="token property">min-height</span><span class="token punctuation">:</span> 100rpx<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #ffffff<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 15rpx<span class="token punctuation">;</span>
  <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 30rpx  <span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.card-pop .title-pop</span><span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 28rpx<span class="token punctuation">;</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #333333<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.card-pop .icon-box-pop</span><span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 90rpx<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 28rpx<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #db343e<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.card-pop .icon-box-pop image</span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto 12rpx<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 52rpx<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 52rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.card-pop .content-pop</span><span class="token punctuation">{</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 35rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.card-pop .button-pop</span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 610rpx<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 90rpx<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #db343e<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 15rpx<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 35rpx auto 0<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 28rpx<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 90rpx<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #ffffff<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4F7F\u7528\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u65B9\u6CD5" aria-hidden="true">#</a> \u4F7F\u7528\u65B9\u6CD5</h3><h4 id="\u7EC4\u4EF6\u5F15\u7528" tabindex="-1"><a class="header-anchor" href="#\u7EC4\u4EF6\u5F15\u7528" aria-hidden="true">#</a> \u7EC4\u4EF6\u5F15\u7528</h4><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;usingComponents&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dialog&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/mycomponents/dialog/index&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u7EC4\u4EF6\u6CE8\u5165" tabindex="-1"><a class="header-anchor" href="#\u7EC4\u4EF6\u6CE8\u5165" aria-hidden="true">#</a> \u7EC4\u4EF6\u6CE8\u5165</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- dialog\u7EC4\u4EF6 --&gt;</span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dialog</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dialog</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>dialog <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">selectComponent</span><span class="token punctuation">(</span><span class="token string">&#39;#dialog&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u7EC4\u4EF6\u8C03\u7528" tabindex="-1"><a class="header-anchor" href="#\u7EC4\u4EF6\u8C03\u7528" aria-hidden="true">#</a> \u7EC4\u4EF6\u8C03\u7528</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>dialog<span class="token punctuation">.</span><span class="token function">showCommonBox</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;\u63D0\u4EA4\u6210\u529F\uFF0C\u5BA1\u6838\u901A\u8FC7\u540E3-5\u5929\u540C\u6B65\u5230\u5730\u56FE&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">confirmText</span><span class="token operator">:</span> <span class="token string">&quot;\u786E\u5B9A&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">success</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token string-property property">&#39;callback&#39;</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u786E\u8BA4\u6309\u94AE\u56DE\u8C03</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8Fmap\u5730\u56FE\u663E\u793A\u7EC4\u4EF6\u4F7F\u7528\u6848\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8Fmap\u5730\u56FE\u663E\u793A\u7EC4\u4EF6\u4F7F\u7528\u6848\u4F8B" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8Fmap\u5730\u56FE\u663E\u793A\u7EC4\u4EF6\u4F7F\u7528\u6848\u4F8B</h2>`,14),vs=s("\u6587\u6863\u5730\u5740\uFF1A"),ms={href:"https://developers.weixin.qq.com/miniprogram/dev/component/map.html",target:"_blank",rel:"noopener noreferrer"},bs=s("https://developers.weixin.qq.com/miniprogram/dev/component/map.html"),gs=o(`<div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!--wxml--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>map</span>
  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myMap<span class="token punctuation">&quot;</span></span>
  <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span>
  <span class="token attr-name">latitude</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{latitude}}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">longitude</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{longitude}}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">markers</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{markers}}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">enable-scroll</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{false}}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">show-location</span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>map</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">latitude</span><span class="token operator">:</span> <span class="token number">23.099994</span><span class="token punctuation">,</span> <span class="token comment">// \u7EAC\u5EA6</span>
    <span class="token literal-property property">longitude</span><span class="token operator">:</span> <span class="token number">113.324520</span><span class="token punctuation">,</span> <span class="token comment">// \u7ECF\u5EA6</span>
     <span class="token literal-property property">markers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>  <span class="token comment">// \u6807\u8BB0\u70B9\u4FE1\u606F</span>
      <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">&#39;40px&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// \u5FC5\u586B</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">&#39;26px&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// \u5FC5\u586B</span>
      <span class="token literal-property property">latitude</span><span class="token operator">:</span> <span class="token number">23.099994</span><span class="token punctuation">,</span>
      <span class="token literal-property property">longitude</span><span class="token operator">:</span> <span class="token number">113.324520</span><span class="token punctuation">,</span>
      <span class="token literal-property property">iconPath</span><span class="token operator">:</span> <span class="token string">&#39;...location-icon.png&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u81EA\u5B9A\u4E49\u6807\u8BB0\u70B9icon</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8F\u4F7F\u7528\u817E\u8BAF\u5730\u56FE\u9009\u70B9\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u4F7F\u7528\u817E\u8BAF\u5730\u56FE\u9009\u70B9\u7EC4\u4EF6" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u4F7F\u7528\u817E\u8BAF\u5730\u56FE\u9009\u70B9\u7EC4\u4EF6</h2>`,3),hs=s("\u5B98\u65B9\u6587\u6863\uFF1A"),ys={href:"https://mp.weixin.qq.com/wxopen/plugindevdoc?appid=wx76a9a06e5b4e693e",target:"_blank",rel:"noopener noreferrer"},fs=s("https://mp.weixin.qq.com/wxopen/plugindevdoc?appid=wx76a9a06e5b4e693e"),ws=o(`<h3 id="\u4EE3\u7801\u5B9E\u73B0-1" tabindex="-1"><a class="header-anchor" href="#\u4EE3\u7801\u5B9E\u73B0-1" aria-hidden="true">#</a> \u4EE3\u7801\u5B9E\u73B0</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token comment">// \u53D6\u503C</span>
 <span class="token function">onShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1111111</span><span class="token punctuation">)</span>
    <span class="token comment">// \u4ECE\u5730\u56FE\u9009\u70B9\u63D2\u4EF6\u8FD4\u56DE\u540E\uFF0C\u5728\u9875\u9762\u7684onShow\u751F\u547D\u5468\u671F\u51FD\u6570\u4E2D\u80FD\u591F\u8C03\u7528\u63D2\u4EF6\u63A5\u53E3\uFF0C\u53D6\u5F97\u9009\u70B9\u7ED3\u679C\u5BF9\u8C61</span>
    <span class="token comment">// \u5982\u679C\u70B9\u51FB\u786E\u8BA4\u9009\u70B9\u6309\u94AE\uFF0C\u5219\u8FD4\u56DE\u9009\u70B9\u7ED3\u679C\u5BF9\u8C61\uFF0C\u5426\u5219\u8FD4\u56DEnull</span>
    <span class="token keyword">const</span> location <span class="token operator">=</span> chooseLocation<span class="token punctuation">.</span><span class="token function">getLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>location<span class="token punctuation">,</span><span class="token number">11111</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">let</span> data_options <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>data_options<span class="token punctuation">;</span>
      data_options<span class="token punctuation">.</span>address <span class="token operator">=</span> location<span class="token punctuation">.</span>address<span class="token punctuation">;</span>
      <span class="token keyword">let</span> markers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">&#39;40px&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">&#39;26px&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">latitude</span><span class="token operator">:</span> location<span class="token punctuation">.</span>latitude<span class="token punctuation">,</span>
        <span class="token literal-property property">longitude</span><span class="token operator">:</span> location<span class="token punctuation">.</span>longitude<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">]</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">latitude</span><span class="token operator">:</span> location<span class="token punctuation">.</span>latitude<span class="token punctuation">,</span>
        <span class="token literal-property property">longitude</span><span class="token operator">:</span> location<span class="token punctuation">.</span>longitude<span class="token punctuation">,</span>
        data_options<span class="token punctuation">,</span>
        markers
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


<span class="token doc-comment comment">/**
 * \u6253\u5F00\u5730\u56FE\u9009\u70B9\u7EC4\u4EF6
 */</span>
<span class="token function">toMapSelect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> key <span class="token operator">=</span> &#39;<span class="token constant">H3GBZ</span><span class="token operator">...</span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">;</span> <span class="token comment">//\u4F7F\u7528\u5728\u817E\u8BAF\u4F4D\u7F6E\u670D\u52A1\u7533\u8BF7\u7684key</span>
  <span class="token keyword">const</span> referer <span class="token operator">=</span> <span class="token string">&#39;\u7ACB\u4FE1\u8BA1\u5212&#39;</span><span class="token punctuation">;</span> <span class="token comment">// \u8C03\u7528\u63D2\u4EF6\u7684app\u7684\u540D\u79F0</span>
  <span class="token keyword">const</span> location <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">latitude</span><span class="token operator">:</span> <span class="token number">39.89631551</span><span class="token punctuation">,</span>
    <span class="token literal-property property">longitude</span><span class="token operator">:</span> <span class="token number">116.323459711</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> category <span class="token operator">=</span> <span class="token string">&#39;\u5176\u4ED6&#39;</span><span class="token punctuation">;</span>
  wx<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;plugin://chooseLocation/index?key=&#39;</span>
            <span class="token operator">+</span> key <span class="token operator">+</span> <span class="token string">&#39;&amp;referer=&#39;</span> <span class="token operator">+</span> referer <span class="token operator">+</span> <span class="token string">&#39;&amp;location=&#39;</span>
            <span class="token operator">+</span> location <span class="token operator">+</span> <span class="token string">&#39;&amp;category=&#39;</span> <span class="token operator">+</span> category
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8F\u767B\u5F55\u72B6\u6001\u7BA1\u7406-\u539F\u751F" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u767B\u5F55\u72B6\u6001\u7BA1\u7406-\u539F\u751F" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u767B\u5F55\u72B6\u6001\u7BA1\u7406\uFF08\u539F\u751F\uFF09</h2><h3 id="\u7BA1\u5BB6\u5C0F\u7A0B\u5E8F\u767B\u5F55\u6D41\u7A0B\u5206\u6790" tabindex="-1"><a class="header-anchor" href="#\u7BA1\u5BB6\u5C0F\u7A0B\u5E8F\u767B\u5F55\u6D41\u7A0B\u5206\u6790" aria-hidden="true">#</a> \u7BA1\u5BB6\u5C0F\u7A0B\u5E8F\u767B\u5F55\u6D41\u7A0B\u5206\u6790</h3><p><img src="`+d+`" alt="\u56FE\u7247"></p><h3 id="\u89E3\u51B3\u65B9\u6848" tabindex="-1"><a class="header-anchor" href="#\u89E3\u51B3\u65B9\u6848" aria-hidden="true">#</a> \u89E3\u51B3\u65B9\u6848</h3><h4 id="\u77ED\u4FE1\u2014\u2014\u51B7\u542F\u52A8-app-js" tabindex="-1"><a class="header-anchor" href="#\u77ED\u4FE1\u2014\u2014\u51B7\u542F\u52A8-app-js" aria-hidden="true">#</a> \u77ED\u4FE1\u2014\u2014\u51B7\u542F\u52A8 app.js</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  globalData<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u7BA1\u5BB6\u5C0F\u7A0B\u5E8F\u5168\u5C40\u53D8\u91CF</span>
    userParam<span class="token operator">:</span> <span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u6279\u6B21id</span>
      uid<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u7528\u6237id</span>
      token<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u767B\u5F55token</span>
      digest<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u4F01\u4E1Adigest</span>
      product_type<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u7248\u672C\u7C7B\u578B</span>
      phone<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u624B\u673A\u53F7\u7801</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  
    
  <span class="token function-variable function">onLaunch</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token doc-comment comment">/**
       * \u5168\u5C40\u767B\u5F55\u7ED1\u5B9A\u72B6\u6001\u7BA1\u7406
       * <span class="token keyword">@param</span> <span class="token punctuation">{</span>object<span class="token punctuation">}</span> options \u521D\u59CB\u5316\u53C2\u6570
       * <span class="token keyword">@param</span> <span class="token parameter">shuidi_user_map_status</span> \u4F01\u4E1A\u7ED1\u5B9A\u72B6\u6001 \u503C\uFF1A\u5F53\u524D\u7528\u6237id
       */</span>
      <span class="token function-variable function">bindUserInfo</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//\u77E5\u6653\u54EA\u4E2A\u7528\u6237\u767B\u5F55\uFF0C\u5E76\u7ED1\u5B9A\u516C\u53F8\u7528\u6237</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>wx<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">&#39;shuidi_user_map_status&#39;</span><span class="token punctuation">)</span> <span class="token operator">!=</span> options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>uid<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>uid <span class="token operator">=</span> options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>uid<span class="token punctuation">;</span>
            wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&quot;shuidi_user_id&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>uid<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>token<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>token <span class="token operator">=</span> options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>token<span class="token punctuation">;</span>
            wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&quot;shuidi_uid_token&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>id <span class="token operator">=</span> options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
            wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&quot;shuidi_assoc_id&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>product_type<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>product_type <span class="token operator">=</span> options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>product_type<span class="token punctuation">;</span>
            wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&quot;shuidi_product_type&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>product_type<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>digest<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>digest <span class="token operator">=</span> options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>digest<span class="token punctuation">;</span>
            wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&quot;shuidi_digest&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>digest<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>uid <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>token <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>digest <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>product_type<span class="token punctuation">)</span><span class="token punctuation">{</span>
            api<span class="token punctuation">.</span><span class="token function">save_user_company_map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              digest<span class="token operator">:</span> options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>digest<span class="token punctuation">,</span>
              source<span class="token operator">:</span> options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>product_type<span class="token punctuation">,</span>
              kp_id<span class="token operator">:</span> options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token operator">?</span>options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token operator">:</span><span class="token string">&#39;&#39;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
              <span class="token keyword">if</span><span class="token punctuation">(</span>res <span class="token operator">&amp;&amp;</span> res<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&#39;shuidi_user_map_status&#39;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
              api<span class="token punctuation">.</span><span class="token function">user_info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>res <span class="token operator">&amp;&amp;</span> <span class="token operator">+</span>res<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                  <span class="token keyword">this</span><span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>phone <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token operator">?.</span>phone <span class="token operator">??</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
                  wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&quot;user_name&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>phone<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>uid <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>query<span class="token punctuation">.</span>token<span class="token punctuation">)</span><span class="token punctuation">{</span>    
            api<span class="token punctuation">.</span><span class="token function">user_info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
              <span class="token keyword">if</span><span class="token punctuation">(</span>res <span class="token operator">&amp;&amp;</span> <span class="token operator">+</span>res<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>phone <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token operator">?.</span>phone <span class="token operator">??</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
                wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&quot;user_name&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>phone<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u77ED\u4FE1\u2014\u2014\u70ED\u542F\u52A8-shuidi-page-js" tabindex="-1"><a class="header-anchor" href="#\u77ED\u4FE1\u2014\u2014\u70ED\u542F\u52A8-shuidi-page-js" aria-hidden="true">#</a> \u77ED\u4FE1\u2014\u2014\u70ED\u542F\u52A8 shuidi-page.js</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">getApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> api <span class="token operator">=</span> app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>api<span class="token punctuation">;</span>


<span class="token doc-comment comment">/**
 * \u91CD\u5199 Page \u5BF9\u8C61
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>*<span class="token punctuation">}</span> pageConfig \u4FEE\u6539\u9875\u9762 page \u5BF9\u8C61
 * @\u4F7F\u7528\u65B9\u5F0F\uFF1A
    \u5BFC\u5165\uFF1A import Page from &#39;/common/shuidi-page&#39;
 */</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">ShuidiPage</span><span class="token punctuation">(</span>pageConfig<span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token comment">// onLond\u51FD\u6570\u8D4B\u503C</span>
    <span class="token keyword">let</span> onLoad <span class="token operator">=</span> pageConfig<span class="token punctuation">.</span>onLoad<span class="token punctuation">;</span>
    pageConfig<span class="token punctuation">.</span><span class="token function-variable function">onLoad</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">{</span>

        <span class="token doc-comment comment">/**
         * \u5168\u5C40\u767B\u5F55\u7ED1\u5B9A\u72B6\u6001\u7BA1\u7406
         * <span class="token keyword">@param</span> <span class="token punctuation">{</span>object<span class="token punctuation">}</span> options \u521D\u59CB\u5316\u53C2\u6570
         * <span class="token keyword">@param</span> <span class="token parameter">shuidi_user_map_status</span> \u4F01\u4E1A\u7ED1\u5B9A\u72B6\u6001 \u503C\uFF1A\u5F53\u524D\u7528\u6237id
         */</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>wx<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">&#39;shuidi_user_map_status&#39;</span><span class="token punctuation">)</span> <span class="token operator">!=</span> options<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>uid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>uid <span class="token operator">=</span> options<span class="token punctuation">.</span>uid<span class="token punctuation">;</span>
              wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&quot;shuidi_user_id&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>uid<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>token <span class="token operator">=</span> options<span class="token punctuation">.</span>token<span class="token punctuation">;</span>
              wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&quot;shuidi_uid_token&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>id <span class="token operator">=</span> options<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
              wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&quot;shuidi_assoc_id&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>product_type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>product_type <span class="token operator">=</span> options<span class="token punctuation">.</span>product_type<span class="token punctuation">;</span>
              wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&quot;shuidi_product_type&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>product_type<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>digest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>digest <span class="token operator">=</span> options<span class="token punctuation">.</span>digest<span class="token punctuation">;</span>
              wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&quot;shuidi_digest&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>digest<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>uid <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>token <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>digest <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>product_type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              api<span class="token punctuation">.</span><span class="token function">save_user_company_map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                  digest<span class="token operator">:</span> options<span class="token punctuation">.</span>digest<span class="token punctuation">,</span>
                  source<span class="token operator">:</span> options<span class="token punctuation">.</span>product_type<span class="token punctuation">,</span>
                  kp_id<span class="token operator">:</span> options<span class="token punctuation">.</span>id <span class="token operator">?</span> options<span class="token punctuation">.</span>id <span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                  <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">&amp;&amp;</span> res<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                      wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&#39;shuidi_user_map_status&#39;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
                  <span class="token punctuation">}</span>
                  api<span class="token punctuation">.</span><span class="token function">user_info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>res <span class="token operator">&amp;&amp;</span> <span class="token operator">+</span>res<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                      app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>phone <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token operator">?.</span>phone <span class="token operator">??</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
                      wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&quot;user_name&quot;</span><span class="token punctuation">,</span> app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>phone<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>uid <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            api<span class="token punctuation">.</span><span class="token function">user_info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
              <span class="token keyword">if</span><span class="token punctuation">(</span>res <span class="token operator">&amp;&amp;</span> <span class="token operator">+</span>res<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>phone <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token operator">?.</span>phone <span class="token operator">??</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
                wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&quot;user_name&quot;</span><span class="token punctuation">,</span> app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>phone<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>

      
        <span class="token function">onLoad</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">Page</span><span class="token punctuation">(</span>pageConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> ShuidiPage<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u6388\u6743\u767B\u5F55api-js" tabindex="-1"><a class="header-anchor" href="#\u6388\u6743\u767B\u5F55api-js" aria-hidden="true">#</a> \u6388\u6743\u767B\u5F55api.js</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>    <span class="token comment">// \u62E6\u622A decode_data \u6388\u6743\u767B\u5F55\u83B7\u53D6\u767B\u5F55\u4FE1\u606F\u63A5\u53E3</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token operator">?.</span>user_token<span class="token operator">?.</span>user_id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">getApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>uid <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>user_token<span class="token punctuation">.</span>user_id<span class="token punctuation">;</span>
        wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&quot;shuidi_user_id&quot;</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>user_token<span class="token punctuation">.</span>user_id<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token operator">?.</span>user_token<span class="token operator">?.</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">getApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>token <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>user_token<span class="token punctuation">.</span>token<span class="token punctuation">;</span>
          wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&quot;shuidi_uid_token&quot;</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>user_token<span class="token punctuation">.</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token operator">?.</span>phoneNumber<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">getApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>phone <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>phoneNumber<span class="token punctuation">;</span>
        wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&quot;user_name&quot;</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>phoneNumber<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      http<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>config<span class="token punctuation">.</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/mobile/active/base</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">{</span> action<span class="token operator">:</span> <span class="token string">&#39;home&#39;</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token operator">?.</span>data<span class="token operator">?.</span>digest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">getApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>digest <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>digest<span class="token punctuation">;</span>
          wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&quot;shuidi_digest&quot;</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>digest<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u9000\u51FA\u767B\u5F55\u6E05\u9664\u5168\u5C40\u548C\u7F13\u5B58" tabindex="-1"><a class="header-anchor" href="#\u9000\u51FA\u767B\u5F55\u6E05\u9664\u5168\u5C40\u548C\u7F13\u5B58" aria-hidden="true">#</a> \u9000\u51FA\u767B\u5F55\u6E05\u9664\u5168\u5C40\u548C\u7F13\u5B58</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>wx<span class="token punctuation">.</span><span class="token function">clearStorage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u4F7F\u7528-\u767B\u5F55\u72B6\u6001\u6570\u636E\u83B7\u53D6" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-\u767B\u5F55\u72B6\u6001\u6570\u636E\u83B7\u53D6" aria-hidden="true">#</a> \u4F7F\u7528\uFF1A \u767B\u5F55\u72B6\u6001\u6570\u636E\u83B7\u53D6</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">getApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> api <span class="token operator">=</span> app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>api<span class="token punctuation">;</span>

<span class="token comment">/*
  @description: \u5168\u5C40\u53C2\u6570\u83B7\u53D6\u5C01\u88C5
  @author: hhd (2022-06-17)
  @\u4F7F\u7528\u65B9\u5F0F\uFF1A
    \u5BFC\u5165\uFF1A import getData from &#39;...../common/getData&#39;;
    \u8C03\u7528\u83B7\u53D6\u5168\u5C40\u53D8\u91CF\uFF1A getData.getUid()
 */</span>


<span class="token keyword">var</span> getData <span class="token operator">=</span> <span class="token punctuation">{</span>

  <span class="token doc-comment comment">/*************** \u83B7\u53D6\u5168\u5C40\u53C2\u6570 *****************/</span>
  <span class="token doc-comment comment">/**
   * \u83B7\u53D6user_id
   * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>string, number<span class="token punctuation">}</span>
   */</span>
  <span class="token function-variable function">getUid</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>uid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>uid
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> wx<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">&#39;shuidi_user_id&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token doc-comment comment">/**
   * \u83B7\u53D6token
   * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>string, number<span class="token punctuation">}</span>
   */</span>
  <span class="token function-variable function">getToken</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>token
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> wx<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">&#39;shuidi_uid_token&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token doc-comment comment">/**
   * \u83B7\u53D6id
   * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>string, number<span class="token punctuation">}</span>
   */</span>
  <span class="token function-variable function">getId</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>id
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> wx<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">&#39;shuidi_assoc_id&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token doc-comment comment">/**
   * \u83B7\u53D6product_type
   * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>string, number<span class="token punctuation">}</span>
   */</span>
  <span class="token function-variable function">getProductType</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>product_type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>product_type
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> wx<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">&#39;shuidi_product_type&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token doc-comment comment">/**
   * \u83B7\u53D6digest
   * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>string, number<span class="token punctuation">}</span>
   */</span>
  <span class="token function-variable function">getDigest</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>digest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>digest
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> wx<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">&#39;shuidi_digest&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token doc-comment comment">/**
   * \u83B7\u53D6\u624B\u673A\u53F7\u7801: phone
   * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>string, number<span class="token punctuation">}</span>
   */</span>
  <span class="token function-variable function">getPhone</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>digest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>userParam<span class="token punctuation">.</span>phone
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> wx<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">&#39;user_name&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> getData<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8F\u672C\u5730\u7F13\u5B58\u4E8C\u6B21\u5C01\u88C5-\u8FC7\u671F-\u7EED\u671F-\u83B7\u53D6\u5168\u90E8" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u672C\u5730\u7F13\u5B58\u4E8C\u6B21\u5C01\u88C5-\u8FC7\u671F-\u7EED\u671F-\u83B7\u53D6\u5168\u90E8" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u672C\u5730\u7F13\u5B58\u4E8C\u6B21\u5C01\u88C5\uFF08\u8FC7\u671F\uFF0C\u7EED\u671F\uFF0C\u83B7\u53D6\u5168\u90E8\uFF09</h2><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">/*
  @description: \u672C\u5730\u7F13\u5B58\u4E8C\u6B21\u5C01\u88C5
  @title: wxCache.js
  @author: hhd
  @Time: 2022-6-27 17:30
  @last: 2022-6-30 10:00
  @\u5BFC\u5165\u65B9\u5F0F\uFF1A
    import wxCache from &#39;./common/wxCache.js&#39; // \u5BFC\u5165wxCache.js
    App({
      data:{},
      wxCache: new wxCache(), // \u5168\u5C40\u5BFC\u5165
    })
  @\u4F7F\u7528\u65B9\u5F0F\uFF1A
    app.wxCache.set(&#39;time&#39;,&#39;123&#39;, 1, true);
    app.wxCache.get(&#39;time&#39;);

  @\u5C40\u90E8\u5F15\u7528\uFF1A 
    import wxCache from &#39;/common/wxCache.js&#39;
    wxCache.set(&#39;time&#39;,&#39;123&#39;, 1, true)
 */</span>

<span class="token comment">// export default class WxCache {   // undifend</span>

<span class="token keyword">var</span> wxCache <span class="token operator">=</span> <span class="token punctuation">{</span>

  <span class="token doc-comment comment">/**
   * \u8BBE\u7F6E\u7F13\u5B58\u6570\u636E
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>String<span class="token punctuation">}</span> key \u7F13\u5B58\u5B57\u6BB5\u540D
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>*<span class="token punctuation">}</span> value \u7F13\u5B58\u5B57\u6BB5\u503C
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>Number<span class="token punctuation">}</span> expire  \u7F13\u5B58\u8FC7\u671F\u65F6\u95F4 \u5355\u4F4D\uFF1A\u79D2
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>Boolean<span class="token punctuation">}</span> isRenewal \u662F\u5426\u5F00\u542F\u6301\u7EED\u4F7F\u7528\u4E2D\u7EED\u671F\uFF1A\u9ED8\u8BA4\u5F00\u542F
   */</span>
  <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> expire<span class="token punctuation">,</span> isRenewal<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>expire<span class="token punctuation">)</span>
      value <span class="token operator">=</span> value <span class="token operator">??</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>key<span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;key cannot be empty&quot;</span><span class="token punctuation">)</span> 

      <span class="token keyword">let</span> data<span class="token punctuation">;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>expire<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span>expire<span class="token punctuation">)</span> <span class="token operator">||</span> expire <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Expire must be a number&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">let</span> expirefrom <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>expire<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u79D2\u8F6C\u5316\u6BEB\u79D2</span>
        data <span class="token operator">=</span> <span class="token punctuation">{</span>
          value<span class="token operator">:</span> value<span class="token punctuation">,</span> <span class="token comment">// \u5B58\u50A8\u503C</span>
          time<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// \u5B58\u50A8\u65F6\u65F6\u95F4\u6233</span>
          expire<span class="token operator">:</span> expirefrom<span class="token punctuation">,</span> <span class="token comment">// \u8FC7\u671F\u65F6\u95F4</span>
          isRenewal<span class="token punctuation">,</span> <span class="token comment">// \u662F\u5426\u5F00\u542F\u7EED\u671F\u529F\u80FD</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        data <span class="token operator">=</span> value<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  

  <span class="token doc-comment comment">/**
   * \u83B7\u53D6\u7F13\u5B58\u6570\u636E
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>String<span class="token punctuation">}</span> key \u7F13\u5B58\u5B57\u6BB5\u540D
   * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>String<span class="token punctuation">}</span>
   */</span>
  <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>wx<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">// \u5224\u65ADkey\u662F\u5426\u5B58\u5728</span>
      <span class="token keyword">const</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u83B7\u53D6\u5F53\u524D\u65F6\u95F4</span>
      <span class="token keyword">let</span> storage<span class="token punctuation">;</span>
      <span class="token keyword">try</span><span class="token punctuation">{</span>
        storage <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>wx<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// \u83B7\u53D6\u7F13\u5B58\u6570\u636EJSON</span>
      <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">{</span>
        storage <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token comment">// \u83B7\u53D6\u7F13\u5B58\u6570\u636E\u975EJSON</span>
      <span class="token punctuation">}</span>
      
    <span class="token keyword">if</span><span class="token punctuation">(</span>storage<span class="token operator">?.</span>expire<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>storage<span class="token operator">?.</span>time <span class="token operator">+</span> storage<span class="token operator">?.</span>expire<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> now <span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// \u672A\u8FC7\u671F\u671F\u95F4\u88AB\u8C03\u7528 \u5219\u81EA\u52A8\u7EED\u671F \u8FDB\u884C\u4FDD\u6D3B</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>storage<span class="token operator">?.</span>isRenewal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            storage<span class="token punctuation">.</span>time <span class="token operator">=</span> now<span class="token punctuation">;</span>
            wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>storage<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token comment">// \u672A\u8FC7\u671F\u83B7\u53D6</span>
          <span class="token keyword">return</span> storage<span class="token operator">?.</span>value
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token comment">// \u5DF2\u8FC7\u671F\u5220\u9664</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u6CA1\u6709\u8BBE\u7F6E\u65F6\u95F4\u5904\u7406\u8FD4\u56DE</span>
        <span class="token keyword">return</span> storage
    <span class="token punctuation">}</span>

  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token doc-comment comment">/**
   * \u83B7\u53D6\u5168\u90E8storage
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string<span class="token punctuation">}</span> dataType \u8FD4\u56DE\u6570\u636E\u7C7B\u578B object(\u9ED8\u8BA4), array
   * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>object,array<span class="token punctuation">}</span> 
   */</span>
  <span class="token function-variable function">getAll</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>dataType<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> info <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">getStorageInfoSync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">let</span> allStorageArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> allStorageObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> info<span class="token punctuation">.</span>keys<span class="token punctuation">)</span><span class="token punctuation">{</span>
        allStorageArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          key<span class="token operator">:</span> item<span class="token punctuation">,</span>
          value<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        allStorageObj<span class="token punctuation">[</span>item<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>dataType <span class="token operator">===</span> <span class="token string">&quot;array&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> allStorageArr
      <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> allStorageObj
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token doc-comment comment">/**
   * \u79FB\u9664\u7F13\u5B58\u6570\u636E
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>String<span class="token punctuation">}</span> key 
   */</span>
  <span class="token function-variable function">remove</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      wx<span class="token punctuation">.</span><span class="token function">removeStorageSync</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token doc-comment comment">/**
   * \u6E05\u7A7A\u6240\u6709\u7F13\u5B58\u6570\u636E
   */</span>
  <span class="token function-variable function">clearAll</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    wx<span class="token punctuation">.</span><span class="token function">clearStorageSync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> wxCache<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8F\u9875\u9762\u6808" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u9875\u9762\u6808" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u9875\u9762\u6808</h2><h3 id="\u89E3\u51B3\u5C0F\u7A0B\u5E8F\u8FD4\u56DE\u6309\u94AE\u548C\u7269\u7406\u8FD4\u56DE\u8DF3\u8F6C\u6307\u5B9A\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#\u89E3\u51B3\u5C0F\u7A0B\u5E8F\u8FD4\u56DE\u6309\u94AE\u548C\u7269\u7406\u8FD4\u56DE\u8DF3\u8F6C\u6307\u5B9A\u9875\u9762" aria-hidden="true">#</a> \u89E3\u51B3\u5C0F\u7A0B\u5E8F\u8FD4\u56DE\u6309\u94AE\u548C\u7269\u7406\u8FD4\u56DE\u8DF3\u8F6C\u6307\u5B9A\u9875\u9762</h3><ul><li>A -&gt; B</li><li>\u70B9\u51FB\u5934\u90E8 navigator \u8FD4\u56DE\u952E\u53EF\u901A\u8FC7\u91CD\u5199 navigator bar \u81EA\u5B9A\u4E49\u8FD4\u56DE\u952E handler \u8FDB\u884C\u62E6\u622A</li><li>\u4FA7\u6ED1\u3001\u5B89\u5353\u673A\u5E95\u90E8\u7269\u7406\u8FD4\u56DE\u952E\u53EF\u4EE5\u5728 B \u9875 onUnload \u751F\u547D\u5468\u671F\u901A\u8FC7\u4E8B\u4EF6\u6216\u5176\u4ED6\u65B9\u6CD5 \u901A\u77E5\u524D\u7F6E A \u9875\u5F53\u524D\u53D1\u751F\u56DE\u9000\u884C\u4E3A\uFF0C\u5728 A \u9875 onShow \u751F\u547D\u5468\u671F\u89E6\u53D1\u62E6\u622A\u5982\u518D\u6B21\u8FD4\u56DE B \u9875\uFF0C \u867D\u7136\u903B\u8F91\u5C42\u53D1\u751F\u4E86\u56DE\u9000\u4F46\u4ECE\u4EA4\u4E92\u3001\u89C6\u89C9\u89D2\u5EA6\u5F53\u524D\u4ECD\u505C\u7559\u5728 B \u9875</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> pages <span class="token operator">=</span> <span class="token function">getCurrentPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//\u83B7\u53D6\u5F53\u524D\u9875\u9762\u4FE1\u606F\u6808</span>
<span class="token keyword">const</span> prevPage1 <span class="token operator">=</span> pages<span class="token punctuation">[</span>pages<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>     <span class="token comment">//\u83B7\u53D6\u5F53\u524D\u9875\u9762\u4FE1\u606F</span>
<span class="token keyword">const</span> prevPage2 <span class="token operator">=</span> pages<span class="token punctuation">[</span>pages<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span>     <span class="token comment">//\u83B7\u53D6\u4E0A\u4E00\u4E2A\u9875\u9762\u4FE1\u606F</span>

<span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token function">getCurrentPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  page<span class="token punctuation">[</span>page<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    \u6536\u8D27\u4EBA<span class="token operator">:</span> \u9009\u4E2D\u7684\u67D0\u4E2A\u6536\u8D27\u4EBA\u8BE6\u60C5   <span class="token comment">//[object]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  wx<span class="token punctuation">.</span><span class="token function">navigateBack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    delta<span class="token operator">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u9875\u9762\u6808\u4FE1\u606F <img src="`+v+'" alt="\u56FE\u7247"></li></ul><h3 id="\u4E2D\u8F6C\u9875\u65B9\u6848-\u4E2D\u8F6C\u9875\u2014\u2014\u76EE\u6807\u9875" tabindex="-1"><a class="header-anchor" href="#\u4E2D\u8F6C\u9875\u65B9\u6848-\u4E2D\u8F6C\u9875\u2014\u2014\u76EE\u6807\u9875" aria-hidden="true">#</a> \u4E2D\u8F6C\u9875\u65B9\u6848\uFF08\u4E2D\u8F6C\u9875\u2014\u2014\u76EE\u6807\u9875\uFF09</h3><h3 id="\u9875\u9762\u6808\u8BE6\u60C5" tabindex="-1"><a class="header-anchor" href="#\u9875\u9762\u6808\u8BE6\u60C5" aria-hidden="true">#</a> \u9875\u9762\u6808\u8BE6\u60C5</h3><p><img src="'+m+'" alt="\u56FE\u7247"><img src="'+b+'" alt="\u56FE\u7247"><img src="'+g+'" alt="\u56FE\u7247"></p><h2 id="\u5C0F\u7A0B\u5E8F\u6027\u80FD\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u6027\u80FD\u4F18\u5316" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u6027\u80FD\u4F18\u5316</h2><p><img src="'+l+'" alt="\u56FE\u7247"></p><h3 id="\u56FE\u7247\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#\u56FE\u7247\u4F18\u5316" aria-hidden="true">#</a> \u56FE\u7247\u4F18\u5316</h3><ul><li>\u4F7F\u7528\u56FE\u7247\u61D2\u52A0\u8F7D\uFF0C\u672A\u663E\u793A\u7684\u90E8\u5206\u4E0D\u52A0\u8F7D\uFF08\u9002\u7528\u4E8E\u6ED1\u52A8\u52A0\u8F7D\u957F\u9875\u9762\uFF09</li><li>\u96EA\u78A7\u56FE\u6280\u672F\uFF0C\u6574\u5F20\u56FE\u7247\u5207\u51FAicon\uFF08\u4E0D\u5229\u4E8E\u540E\u671F\u7EF4\u62A4\uFF09</li><li>\u62C6\u5206\u57DF\u540D\uFF0C\u63A5\u53E3\uFF0C\u6587\u4EF6\uFF0C\u56FE\u7247\u4F7F\u7528\u4E0D\u540C\u57DF\u540D \uFF08\u56FE\u7247\u5355\u72EC\u57DF\u540D\uFF09</li><li>cdn\u5185\u5BB9\u5206\u53D1 \uFF08\u5DF2\u4F7F\u7528\uFF09</li><li>\u56FE\u7247\u5F00\u542Fhttp\u7F13\u5B58\uFF0C\u5728\u670D\u52A1\u5668\u7AEF\u914D\u7F6E\u8BF7\u6C42\u5934cache-control\uFF08\u5DF2\u914D\u7F6E\uFF09</li><li>\u5F00\u53D1\u9636\u6BB5\u5C3D\u91CF\u63A7\u5236\u56FE\u7247\u8BF7\u6C42\u91CF\uFF0Cicon\u7528\u5B57\u4F53\u6216\u8005\u7EC4\u4EF6\u5E93\u4EE3\u66FF</li><li>\u5F00\u53D1\u56FE\u7247icon\u8F6C\u5B57\u4F53\u63D2\u4EF6,\u51CF\u5C11http\u8BF7\u6C42\u548C\u672C\u5730\u8D44\u6E90\u5927\u5C0F (\u672A\u5B9E\u73B0\uFF09</li></ul><h3 id="\u672A\u4F7F\u7528\u4F9D\u8D56\u6E05\u9664" tabindex="-1"><a class="header-anchor" href="#\u672A\u4F7F\u7528\u4F9D\u8D56\u6E05\u9664" aria-hidden="true">#</a> \u672A\u4F7F\u7528\u4F9D\u8D56\u6E05\u9664</h3><ul><li>\u4F9D\u8D56\u5206\u6790\u548C\u6E05\u9664 <img src="'+i+`" alt="\u56FE\u7247"></li><li><ul><li>\u5206\u5305echarts,\u5B8C\u6210\u624B\u5199\u8718\u86DB\u56FE\u540E\u66FF\u6362 \u66FF\u6362\u540E\u51CF\u5C11960kb\uFF08\u5DF2\u5B8C\u6210\uFF09</li></ul></li></ul><h3 id="\u51CF\u91CD\u540E\u6570\u636E\u7EDF\u8BA1" tabindex="-1"><a class="header-anchor" href="#\u51CF\u91CD\u540E\u6570\u636E\u7EDF\u8BA1" aria-hidden="true">#</a> \u51CF\u91CD\u540E\u6570\u636E\u7EDF\u8BA1</h3><ul><li>\uFF08\u4F7F\u7528\u5C0F\u7A0B\u5E8F\u52A9\u624B\u6570\u636E\u5206\u6790\uFF09</li><li>\u51CF\u91CD\u540E\u6570\u636E\u7EDF\u8BA1\uFF1A\u51CF\u91CD\u6BD4\u4F8B\uFF1A42%\uFF1B</li><li>\u51CF\u91CD\u91CF\uFF1A3253-1892=1361KB</li><li>\u6253\u5F00\u7387\uFF1A\u4ECE\u5E73\u574792%\u201494%\u4EE5\u4E0A \uFF1B \u4F4E\u7AEF\u673A\u4ECE\u4F4E\u4E8E88%\u201490%\u4EE5\u4E0A</li><li>\u5C0F\u7A0B\u5E8F\u603B\u4F53\u542F\u52A8\u65F6\u95F4\uFF1A\u4ECE\u5E73\u57474.7s\u20144.4s; \u5B89\u5353\u673A\u4ECE5.3s\u20145\u79D2\u4EE5\u5185</li></ul><h3 id="\u6253\u5F00\u5C0F\u7A0B\u5E8F\u6309\u9700\u6CE8\u5165" tabindex="-1"><a class="header-anchor" href="#\u6253\u5F00\u5C0F\u7A0B\u5E8F\u6309\u9700\u6CE8\u5165" aria-hidden="true">#</a> \u6253\u5F00\u5C0F\u7A0B\u5E8F\u6309\u9700\u6CE8\u5165</h3><ul><li>\u4F7F\u7528\u771F\u673A\u8C03\u8BD5\u67E5\u770B\u6CE8\u5165\u91CF</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// app.json\u6587\u4EF6</span>
<span class="token punctuation">{</span>
  lazyCodeLoading<span class="token operator">:</span> <span class="token string">&quot;requiredComponents&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4F7F\u7528\u5206\u5305\u52A0\u8F7D" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u5206\u5305\u52A0\u8F7D" aria-hidden="true">#</a> \u4F7F\u7528\u5206\u5305\u52A0\u8F7D</h3><ul><li>\u72EC\u7ACB\u5206\u5305\u65E0\u6CD5\u4F7F\u7528\u4E3B\u5305\u5185\u516C\u5171\u4F9D\u8D56\u548C\u7EC4\u4EF6</li><li>\u5206\u5305\u9884\u52A0\u8F7D\u4F7F\u7528\u5C40\u9650\u8F83\u5927\uFF0C\u4E0D\u9002\u7528\u4FE1\u7528\u7BA1\u5BB6\u9879\u76EE</li></ul><h3 id="\u6570\u636E\u9884\u62C9\u53D6" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u9884\u62C9\u53D6" aria-hidden="true">#</a> \u6570\u636E\u9884\u62C9\u53D6</h3><ul><li>\u8BF4\u660E\uFF1A\u5728\u51B7\u542F\u52A8\u65F6\u901A\u8FC7\u5FAE\u4FE1\u540E\u53F0\u5411\u670D\u52A1\u5668\u62C9\u53D6\u4E1A\u52A1\u6570\u636E\uFF0C\u51CF\u5C11\u4E86\u9996\u5C4F\u6E32\u67D3\u7B49\u5F85\u65F6\u95F4\uFF1B</li><li>\u9664\u9996\u9875\u5176\u4ED6\u9875\u63A5\u53E3\u91CF\u8F83\u5C0F</li></ul><h3 id="\u6570\u636E\u6301\u4E45\u5316-\u5168\u5C40\u6570\u636E\u548C\u7F13\u5B58\u7684\u5408\u7406\u5229\u7528" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u6301\u4E45\u5316-\u5168\u5C40\u6570\u636E\u548C\u7F13\u5B58\u7684\u5408\u7406\u5229\u7528" aria-hidden="true">#</a> \u6570\u636E\u6301\u4E45\u5316\uFF1A\u5168\u5C40\u6570\u636E\u548C\u7F13\u5B58\u7684\u5408\u7406\u5229\u7528</h3><h3 id="\u5C0F\u7A0B\u5E8F\u72B6\u6001\u7BA1\u7406" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u72B6\u6001\u7BA1\u7406" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u72B6\u6001\u7BA1\u7406</h3><h2 id="\u5C0F\u7A0B\u5E8F\u4F53\u9A8C\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u4F53\u9A8C\u4F18\u5316" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u4F53\u9A8C\u4F18\u5316</h2><p>1.\u53D6\u6D88 :active\u4F7F\u7528\uFF0C\u6ED1\u52A8\u9875\u9762\u65F6\u6548\u679C\u4E0D\u6E05\u9664</p><ul><li>\u7528hover-class=&quot;&quot; \u4EE3\u66FF</li></ul><p>2.\u8BBE\u7F6E\u9875\u9762\u6EDA\u52A8 overflow:scroll\u8981\u540C\u65F6\u5F00\u542F\u60EF\u6027\u6EDA\u52A8</p><ul><li>-webkit-overflow-scrolling: touch (\u9002\u914Dios\u7AEF\uFF09</li></ul><p>3.\u53EF\u70B9\u51FB\u533A\u57DF\u8FC7\u5C0F\u95EE\u9898</p><ul><li>\u70B9\u51FBicon\u5BBD\u9AD8\u5E94\u8BE5\u5927\u4E8E20px</li></ul><p>4.\u5B58\u5728\u5B9A\u65F6\u5668\u672A\u56DE\u6536\u7684\u95EE\u9898\uFF0C\u5B9A\u65F6\u5668\u662F\u5168\u5C40\u7684\uFF0C\u9700\u8981\u624B\u52A8\u56DE\u6536\uFF08\u672A\u751F\u6548\uFF09</p><ul><li>\u8DF3\u8F6C\u4E0B\u4E00\u9875\u662F\u6E05\u9664\u4E0A\u4E00\u9875\u5B9A\u65F6\u5668</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">let</span> interval1 <span class="token operator">=</span> <span class="token keyword">null</span>
interval1 <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span>_<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">start2</span><span class="token punctuation">(</span><span class="token operator">++</span>time2<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>  

<span class="token function-variable function">onUnload</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u6E05\u9664\u5B9A\u65F6\u5668</span>
    interval1 <span class="token operator">&amp;&amp;</span> <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval1<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>5.setData\u4F7F\u7528\u8FC7\u4E8E\u9891\u7E41\uFF0C\u51CF\u5C11setData\u4F7F\u7528\u9891\u6B21\uFF0C\u964D\u4F4E\u6027\u80FD\u6D88\u8017</p><h2 id="\u5C0F\u7A0B\u5E8Fcanvas\u5B9E\u73B0\u591A\u8FB9\u5F62\u96F7\u8FBE\u56FE-\u8718\u86DB\u56FE" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8Fcanvas\u5B9E\u73B0\u591A\u8FB9\u5F62\u96F7\u8FBE\u56FE-\u8718\u86DB\u56FE" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8Fcanvas\u5B9E\u73B0\u591A\u8FB9\u5F62\u96F7\u8FBE\u56FE\uFF0C\u8718\u86DB\u56FE</h2><p><img src="`+h+`" alt="\u56FE\u7247"></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">/*
  @description: \u591A\u8FB9\u5F62\uFF0C\u96F7\u8FBE\u56FE\uFF0C\u8718\u86DB\u56FEcanvas\u7EC4\u4EF6
  @author: hhd (2021-12-17)
  @\u4F7F\u7528\u65B9\u5F0F\uFF1A
    \u5BFC\u5165\uFF1A import myCanvas from &#39;/common/myCanvas&#39;;
    \u96F7\u8FBE\u56FE\u6570\u636E\u914D\u7F6E\uFF1A
        const configData = {
          canvasW: 700, // canvas\u5BBD
          canvasH: 600, // canvas\u9AD8
          canvasRadius: 200, // \u5916\u6846\u534A\u5F84
          canvasLineWidth: 2, // \u5916\u6846\u7EBF\u5BBD
          rBorderColor: &#39;#999&#39;, // \u5916\u6846\u989C\u8272
          rBorderBg: &#39;#e8f9f0&#39;, // \u5916\u6846\u80CC\u666F\u989C\u8272
          rLinklineColor: &#39;#999&#39;, // \u8FDE\u63A5\u7EBF\u989C\u8272
          titleFont: 26, // \u5B57\u4F53\u5927\u5C0F
          titleColor: &#39;#999&#39;, // \u5B57\u4F53\u989C\u8272
          radarData : [  // \u96F7\u8FBE\u56FE\u914D\u7F6E radarData\u6570\u91CF = \u96F7\u8FBE\u56FE\u6570\u91CF
            {
              color : &#39;#63d798&#39;, // \u96F7\u8FBE\u56FE1\u989C\u8272
              lineWidth: 2, // \u96F7\u8FBE\u56FE1\u7EBF\u5BBD
              isFull: false, // \u662F\u5426\u586B\u5145\u80CC\u666F
              mData : [ // mData\u6570\u91CF = \u96F7\u8FBE\u56FE\u8FB9\u6570
                { title: &quot;\u8BDA\u4FE1\u610F\u613F&quot;, score: 10, fullScore: 10},
                { title: &quot;\u5408\u89C4\u5C65\u7EA6&quot;, score: 9, fullScore: 10 },
                { title: &quot;\u7ECF\u8425\u80FD\u529B&quot;, score: 6, fullScore: 10 },
              ]
            },
            {
              color : &#39;#dd3239&#39;, // \u96F7\u8FBE\u56FE2\u989C\u8272
              lineWidth: 2, // \u96F7\u8FBE\u56FE2\u7EBF\u5BBD
              isFull: false, // \u662F\u5426\u586B\u5145\u80CC\u666F
              mData : [
                { title: &quot;\u8BDA\u4FE1\u610F\u613F&quot;, score: 10, fullScore: 10},
                { title: &quot;\u5408\u89C4\u5C65\u7EA6&quot;, score: 1, fullScore: 10 },
                { title: &quot;\u7ECF\u8425\u80FD\u529B&quot;, score: 2, fullScore: 10 },
              ]
            },
          ]
        }
    \u8C03\u7528\uFF1A myCanvas.radar(configData)
 */</span>


<span class="token keyword">var</span> myCanvas <span class="token operator">=</span> <span class="token punctuation">{</span> 

    <span class="token function">radar</span><span class="token punctuation">(</span>configData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> ctx <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">createCanvasContext</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> canvasW <span class="token operator">=</span> configData<span class="token punctuation">.</span>canvasW <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRatio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// canvas\u5BBD</span>
        <span class="token keyword">const</span> canvasH <span class="token operator">=</span> configData<span class="token punctuation">.</span>canvasH <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRatio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//canvas\u9AD8</span>
        <span class="token keyword">const</span> <span class="token constant">L_RADIUS</span> <span class="token operator">=</span> configData<span class="token punctuation">.</span>canvasRadius <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRatio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u5927\u5706\u534A\u5F84</span>
        <span class="token keyword">const</span> <span class="token constant">LINE_WIDTH</span> <span class="token operator">=</span> configData<span class="token punctuation">.</span>canvasLineWidth <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRatio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u7EBF\u5BBD</span>
        <span class="token keyword">const</span> rBorderColor <span class="token operator">=</span> configData<span class="token punctuation">.</span>renderBorder<span class="token punctuation">;</span> <span class="token comment">// \u5916\u6846\u989C\u8272</span>
        <span class="token keyword">const</span> rBorderBg <span class="token operator">=</span> configData<span class="token punctuation">.</span>rBorderBg<span class="token punctuation">;</span> <span class="token comment">// \u5916\u6846\u80CC\u666F\u8272</span>
        <span class="token keyword">const</span> rLinklineColor <span class="token operator">=</span> configData<span class="token punctuation">.</span>rLinklineColor<span class="token punctuation">;</span> <span class="token comment">// \u8FDE\u63A5\u7EBF\u989C\u8272</span>
        <span class="token keyword">const</span> titleFont <span class="token operator">=</span> configData<span class="token punctuation">.</span>titleFont<span class="token punctuation">;</span> <span class="token comment">// \u5B57\u4F53\u5927\u5C0F</span>
        <span class="token keyword">const</span> titleColor <span class="token operator">=</span> configData<span class="token punctuation">.</span>titleColor<span class="token punctuation">;</span> <span class="token comment">// \u5B57\u4F53\u5927\u5C0F</span>

        <span class="token comment">//\u6E05\u7A7A\u753B\u5E03</span>
        ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> canvasW<span class="token punctuation">,</span> canvasH<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u91CD\u65B0\u6620\u5C04 canvas\u7684 (0, 0)\uFF0C\u6620\u5C04\u7684\u7ED3\u679C\u662F\u8BA9canvas\u7684\u5750\u6807\u539F\u70B9\u4F4D\u4E8E canvas\u7684\u4E2D\u5FC3\u4F4D</span>
        ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>canvasW <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> canvasH <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u591A\u8FB9\u5F62\u7684\u8FB9\u6570</span>
        <span class="token keyword">const</span> mCount <span class="token operator">=</span> configData<span class="token punctuation">.</span>radarData<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mData<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token comment">// \u9700\u8981\u65CB\u8F6C\u591A\u5C11\u5EA6\uFF0C\u624D\u80FD\u5C06\u591A\u8FB9\u5F62\u65CB\u8F6C\u5230\u5E95\u8FB9\u5E73\u884C\u4E8E X\u8F74\uFF0C\u5947\u591A\u8FB9\u5F62\u624D\u9700\u8981\uFF0C\u5076\u591A\u8FB9\u5F62\u4E0D\u9700\u8981\u65CB\u8F6C</span>
        <span class="token keyword">const</span> sAngle <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">90</span> <span class="token operator">/</span> mCount <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> rotateAngle <span class="token operator">=</span> mCount <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> sAngle <span class="token operator">*</span> <span class="token punctuation">(</span>mCount <span class="token operator">%</span> <span class="token number">4</span> <span class="token operator">===</span> <span class="token number">3</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u5E95\u8FB9\u5E73\u884Cx\u8F74</span>
        <span class="token comment">// \u591A\u8FB9\u5F62\u5916\u63A5\u5706\u534A\u5F84</span>
        <span class="token keyword">const</span> lCoordinates <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getCoordinatesByRadius</span><span class="token punctuation">(</span><span class="token constant">L_RADIUS</span><span class="token punctuation">,</span>mCount<span class="token punctuation">,</span><span class="token operator">-</span>rotateAngle<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u7ED8\u5236\u8FB9\u6846\u7EBF</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderBorder</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span>rBorderColor<span class="token punctuation">,</span> <span class="token constant">LINE_WIDTH</span><span class="token punctuation">,</span> <span class="token constant">L_RADIUS</span><span class="token punctuation">,</span> <span class="token operator">-</span>rotateAngle<span class="token punctuation">,</span> mCount<span class="token punctuation">,</span>rBorderBg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u7ED8\u5236\u8FDE\u63A5\u7EBF</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderLinkLine</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>lCoordinates<span class="token punctuation">,</span>rLinklineColor<span class="token punctuation">,</span><span class="token constant">LINE_WIDTH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u7ED8\u5236\u6587\u5B57</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">drawText</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span>lCoordinates<span class="token punctuation">,</span> configData<span class="token punctuation">.</span>radarData<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mData<span class="token punctuation">,</span> titleFont <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRatio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>titleColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u7ED8\u5236\u96F7\u8FBE\u56FE</span>
        configData<span class="token punctuation">.</span>radarData<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">drawRadar</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span>item<span class="token punctuation">.</span>mData<span class="token punctuation">,</span><span class="token constant">L_RADIUS</span><span class="token punctuation">,</span><span class="token operator">-</span>rotateAngle<span class="token punctuation">,</span>item<span class="token punctuation">.</span>color<span class="token punctuation">,</span>item<span class="token punctuation">.</span>lineWidth<span class="token punctuation">,</span>item<span class="token punctuation">.</span>isFull<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    

      <span class="token doc-comment comment">/**
       * \u83B7\u53D6\u591A\u8FB9\u5F62\u5750\u6807
       * <span class="token keyword">@param</span> <span class="token parameter">mRadius</span> \u534A\u5F84
       * <span class="token keyword">@param</span> <span class="token parameter">mCount</span> \u8FB9\u6570
       * <span class="token keyword">@param</span> <span class="token parameter">rotateAngle</span> \u65CB\u8F6C\u89D2\u5EA6
       * <span class="token keyword">@return</span> <span class="token punctuation">{</span>Array<span class="token punctuation">}</span>
       */</span>
      <span class="token function">getCoordinatesByRadius</span><span class="token punctuation">(</span>mRadius<span class="token punctuation">,</span> mCount<span class="token punctuation">,</span> rotateAngle <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> mAngle <span class="token operator">=</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">/</span> mCount<span class="token punctuation">;</span>
        <span class="token keyword">let</span> coordinates <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> mCount <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> x <span class="token operator">=</span> mRadius <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>mAngle <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> rotateAngle<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">let</span> y <span class="token operator">=</span> mRadius <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>mAngle <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> rotateAngle<span class="token punctuation">)</span><span class="token punctuation">;</span>
          coordinates<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> coordinates<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    
      <span class="token doc-comment comment">/**
       * \u7ED8\u5236\u8FB9\u6846
       * <span class="token keyword">@param</span> <span class="token parameter">cxt</span> \u4E0A\u4E0B\u6587
       * <span class="token keyword">@param</span> <span class="token parameter">color</span> \u7EBF\u6846\u989C\u8272
       * <span class="token keyword">@param</span> <span class="token parameter">lineWidth</span> \u7EBF\u5BBD
       * <span class="token keyword">@param</span> <span class="token parameter">radius</span> \u534A\u5F84
       * <span class="token keyword">@param</span> <span class="token parameter">rotateAngle</span> \u65CB\u8F6C\u89D2\u5EA6
       * <span class="token keyword">@param</span> <span class="token parameter">background</span> \u80CC\u666F\u8272
       */</span>
      <span class="token function">renderBorder</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span>color<span class="token punctuation">,</span>lineWidth<span class="token punctuation">,</span>radius<span class="token punctuation">,</span>rotateAngle<span class="token punctuation">,</span>mCount<span class="token punctuation">,</span>background<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> coordinates <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getCoordinatesByRadius</span><span class="token punctuation">(</span>radius<span class="token punctuation">,</span>mCount<span class="token punctuation">,</span>rotateAngle<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        coordinates<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>coordinate<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">setStrokeStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">setLineWidth</span><span class="token punctuation">(</span>lineWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>background<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          ctx<span class="token punctuation">.</span><span class="token function">setFillStyle</span><span class="token punctuation">(</span>background<span class="token punctuation">)</span><span class="token punctuation">;</span>
          ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    
      <span class="token doc-comment comment">/**
       * \u7ED8\u5236\u8FDE\u63A5\u7EBF
       * <span class="token keyword">@param</span> <span class="token parameter">ctx</span> \u4E0A\u4E0B\u6587
       * <span class="token keyword">@param</span> <span class="token parameter">centerX</span> \u4E2D\u5FC3x
       * <span class="token keyword">@param</span> <span class="token parameter">centerY</span> \u4E2D\u5FC3y
       * <span class="token keyword">@param</span> <span class="token parameter">coordinates</span> \u5916\u8FB9\u6846\u5750\u6807
       * <span class="token keyword">@param</span> <span class="token parameter">color</span> \u8FDE\u7EBF\u989C\u8272
       * <span class="token keyword">@param</span> <span class="token parameter">lineWidth</span> \u8FDE\u7EBF\u5BBD\u5EA6
       */</span>
      <span class="token function">renderLinkLine</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> centerX<span class="token punctuation">,</span> centerY<span class="token punctuation">,</span> coordinates<span class="token punctuation">,</span> color<span class="token punctuation">,</span> lineWidth<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        coordinates<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>coordinate<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>centerX<span class="token punctuation">,</span> centerY<span class="token punctuation">)</span><span class="token punctuation">;</span>
          ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          ctx<span class="token punctuation">.</span><span class="token function">setStrokeStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
          ctx<span class="token punctuation">.</span><span class="token function">setLineWidth</span><span class="token punctuation">(</span>lineWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
          ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    
      <span class="token doc-comment comment">/**
       * \u7ED8\u5236\u96F7\u8FBE\u56FE
       * <span class="token keyword">@param</span> <span class="token parameter">ctx</span> \u4E0A\u4E0B\u6587
       * <span class="token keyword">@param</span> <span class="token parameter">mData</span> \u4F01\u4E1A\u53C2\u6570
       * <span class="token keyword">@param</span> <span class="token parameter">lRadius</span> \u534A\u5F84
       * <span class="token keyword">@param</span> <span class="token parameter">rotateAngle</span> \u65CB\u8F6C\u89D2\u5EA6
       * <span class="token keyword">@param</span> <span class="token parameter">color</span> \u96F7\u8FBE\u56FE\u989C\u8272
       * <span class="token keyword">@param</span> <span class="token parameter">lineWidth</span> \u96F7\u8FBE\u56FE\u7EBF\u5BBD
       * <span class="token keyword">@param</span> <span class="token parameter">isFill</span> \u662F\u5426\u586B\u5145
       */</span>
      <span class="token function">drawRadar</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> mData<span class="token punctuation">,</span> lRadius<span class="token punctuation">,</span> rotateAngle <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> color<span class="token punctuation">,</span>lineWidth <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> isFill <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> mCount <span class="token operator">=</span> mData<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">let</span> radius <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        mData<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          radius<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>score <span class="token operator">/</span> item<span class="token punctuation">.</span>fullScore<span class="token punctuation">)</span> <span class="token operator">*</span> lRadius<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        radius<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span>mData<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>score <span class="token operator">/</span> mData<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>fullScore<span class="token punctuation">)</span> <span class="token operator">*</span> lRadius<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> mAngle <span class="token operator">=</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">/</span> mCount<span class="token punctuation">;</span>
        <span class="token keyword">let</span> coordinates <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> mCount <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> x <span class="token operator">=</span> radius<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>mAngle <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> rotateAngle<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">let</span> y <span class="token operator">=</span> radius<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>mAngle <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> rotateAngle<span class="token punctuation">)</span><span class="token punctuation">;</span>
          coordinates<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        coordinates<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>coordinate<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">setStrokeStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">setLineWidth</span><span class="token punctuation">(</span>lineWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>isFill<span class="token punctuation">)</span><span class="token punctuation">{</span>
          ctx<span class="token punctuation">.</span><span class="token function">setFillStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
          ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">drawCircle</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span>coordinates<span class="token punctuation">,</span>color<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    

      <span class="token doc-comment comment">/**
       * \u7ED8\u5236\u5706\u70B9
       * <span class="token keyword">@param</span> <span class="token parameter">ctx</span> \u4E0A\u4E0B\u6587
       * <span class="token keyword">@param</span> <span class="token parameter">coordinates</span> \u5706\u70B9\u5750\u6807
       * <span class="token keyword">@param</span> <span class="token parameter">color</span> \u5706\u70B9\u989C\u8272
       */</span>
      <span class="token function-variable function">drawCircle</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span>coordinates<span class="token punctuation">,</span>color<span class="token punctuation">)</span><span class="token punctuation">{</span>
        ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> color<span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        coordinates<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>coordinate<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    
      <span class="token doc-comment comment">/**
       * \u7ED8\u5236\u6587\u5B57
       * <span class="token keyword">@param</span> <span class="token parameter">ctx</span> \u4E0A\u4E0B\u6587
       * <span class="token keyword">@param</span> <span class="token parameter">coordinates</span> \u6587\u5B57\u5750\u6807
       * <span class="token keyword">@param</span> <span class="token parameter">mData</span> \u6587\u5B57\u6570\u636E
       * <span class="token keyword">@param</span> <span class="token parameter">fontSize</span> \u6587\u5B57\u5927\u5C0F
       * <span class="token keyword">@param</span> <span class="token parameter">color</span> \u6587\u5B57\u989C\u8272
       */</span>
      <span class="token function">drawText</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> coordinates<span class="token punctuation">,</span> mData<span class="token punctuation">,</span> fontSize<span class="token punctuation">,</span> color<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> yArr <span class="token operator">=</span> coordinates<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>coordinate <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> maxY <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>yArr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u6700\u9AD8\u70B9</span>
        <span class="token keyword">const</span> minY <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token operator">...</span>yArr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u6700\u4F4E\u70B9</span>
        <span class="token keyword">const</span> moveDistance <span class="token operator">=</span> <span class="token number">15</span> <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRatio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">setFontSize</span><span class="token punctuation">(</span>fontSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">setFillStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
        coordinates<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>coordinate<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>mData<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> x <span class="token operator">=</span> coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> y <span class="token operator">=</span> coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>maxY <span class="token operator">==</span> coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              y <span class="token operator">+=</span> moveDistance<span class="token punctuation">;</span>
              ctx<span class="token punctuation">.</span><span class="token function">setTextAlign</span><span class="token punctuation">(</span><span class="token string">&quot;center&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              ctx<span class="token punctuation">.</span><span class="token function">setTextBaseline</span><span class="token punctuation">(</span><span class="token string">&quot;top&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>minY <span class="token operator">==</span> coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              ctx<span class="token punctuation">.</span><span class="token function">setTextBaseline</span><span class="token punctuation">(</span><span class="token string">&quot;bottom&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              ctx<span class="token punctuation">.</span><span class="token function">setTextAlign</span><span class="token punctuation">(</span><span class="token string">&quot;center&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              y <span class="token operator">-=</span> moveDistance<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              ctx<span class="token punctuation">.</span><span class="token function">setTextAlign</span><span class="token punctuation">(</span><span class="token string">&quot;right&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              ctx<span class="token punctuation">.</span><span class="token function">setTextBaseline</span><span class="token punctuation">(</span><span class="token string">&quot;middle&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              x <span class="token operator">-=</span> moveDistance<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              ctx<span class="token punctuation">.</span><span class="token function">setTextAlign</span><span class="token punctuation">(</span><span class="token string">&quot;left&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              ctx<span class="token punctuation">.</span><span class="token function">setTextBaseline</span><span class="token punctuation">(</span><span class="token string">&quot;middle&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              x <span class="token operator">+=</span> moveDistance<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span>mData<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>title<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>


      <span class="token doc-comment comment">/**
       * \u83B7\u53D6\u7CFB\u7EDF\u4FE1\u606F
       */</span>
      <span class="token function">getRatio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> systemInfo <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">getSystemInfoSync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> ratio <span class="token operator">=</span> <span class="token number">750</span> <span class="token operator">/</span> systemInfo<span class="token punctuation">.</span>windowWidth<span class="token punctuation">;</span> <span class="token comment">// rpx/px\u6BD4\u4F8B</span>
        <span class="token keyword">return</span> ratio<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token punctuation">}</span>


module<span class="token punctuation">.</span>exports <span class="token operator">=</span> myCanvas<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u63A5\u53E3\u6570\u636E\u7F13\u5B58\u65B9\u6848" tabindex="-1"><a class="header-anchor" href="#\u63A5\u53E3\u6570\u636E\u7F13\u5B58\u65B9\u6848" aria-hidden="true">#</a> \u63A5\u53E3\u6570\u636E\u7F13\u5B58\u65B9\u6848</h2><h3 id="data\u6570\u636E\u7F13\u5B58" tabindex="-1"><a class="header-anchor" href="#data\u6570\u636E\u7F13\u5B58" aria-hidden="true">#</a> data\u6570\u636E\u7F13\u5B58</h3><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// \u58F0\u660EMap\u5BF9\u8C61\u7F13\u5B58\u6570\u636E******</span>
<span class="token keyword">const</span> dataCache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">let</span> key <span class="token operator">=</span> name
    <span class="token comment">// \u4ECEdata \u7F13\u5B58\u4E2D\u83B7\u53D6 \u6570\u636E******</span>
    <span class="token keyword">let</span> data <span class="token operator">=</span> dataCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// \u8FD4\u56DE\u7F13\u5B58\u6570\u636E******</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Promise</span></span> <span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">resolve</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
      <span class="token comment">// \u6CA1\u6709\u7F13\u5B58\u91CD\u65B0\u8BF7\u6C42\u63A5\u53E3******</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dataCache<span class="token punctuation">)</span>
      
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Promise</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        http<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>
        <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            
          dataCache<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token comment">// \u8BBE\u7F6E\u7F13\u5B58******</span>
          
          <span class="token keyword">return</span> <span class="token function">resolve</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>err <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            
          dataCache<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token comment">// \u6E05\u9664\u5F02\u5E38\u6570\u636E******</span>
          
          <span class="token function">hideLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token keyword">return</span> <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u63A5\u53E3\u7F13\u5B58promise\u65B9\u6848" tabindex="-1"><a class="header-anchor" href="#\u63A5\u53E3\u7F13\u5B58promise\u65B9\u6848" aria-hidden="true">#</a> \u63A5\u53E3\u7F13\u5B58promise\u65B9\u6848</h3><ul><li>\u5F00\u5173\u63A7\u5236\uFF0C\u8BBE\u7F6E\u6709\u6548\u671F\uFF0C\u60F0\u6027+\u4E3B\u52A8\u5220\u9664\u8FC7\u671F\u6570\u636E\uFF0Ckey\u540D=\u63A5\u53E3\u540D+\u53C2\u6570\uFF0Cmap()\uFF0Cpromise\u7F13\u5B58\u540C\u4E00\u65F6\u95F4\u540C\u4E00\u63A5\u53E3\u5E76\u53D1</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// promise\u65B9\u6848</span>

<span class="token keyword">class</span> <span class="token class-name">ItemCache</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>promise<span class="token punctuation">,</span> timeout<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// data\u53EF\u5B58\u8FD4\u56DE\u6570\u636E\uFF0C\u4E5F\u53EF\u5B58promise</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>promise <span class="token operator">=</span> promise
      <span class="token comment">// \u8BBE\u5B9A\u8D85\u65F6\u65F6\u95F4\uFF0C\u8BBE\u5B9A\u4E3A\u591A\u5C11\u79D2</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>timeout <span class="token operator">=</span> timeout
      <span class="token comment">// \u521B\u5EFA\u5BF9\u8C61\u65F6\u5019\u7684\u65F6\u95F4\uFF0C\u5927\u7EA6\u8BBE\u5B9A\u4E3A\u6570\u636E\u83B7\u5F97\u7684\u65F6\u95F4</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>cacheTime <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">ExpriesCache</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5B9A\u4E49\u9759\u6001\u6570\u636Emap\u6765\u4F5C\u4E3A\u7F13\u5B58\u6C60</span>
  <span class="token keyword">static</span> cacheMap <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// \u6570\u636E\u662F\u5426\u8D85\u65F6</span>
  <span class="token keyword">static</span> <span class="token function">isOverTime</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> promise <span class="token operator">=</span> ExpriesCache<span class="token punctuation">.</span>cacheMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
      <span class="token comment">// \u6CA1\u6709\u6570\u636E \u5224\u5B9A\u8D85\u65F6</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>promise<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span>
      <span class="token comment">// \u83B7\u53D6\u7CFB\u7EDF\u5F53\u524D\u65F6\u95F4\u6233</span>
      <span class="token keyword">const</span> currentTime <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        
      <span class="token comment">// \u83B7\u53D6\u5F53\u524D\u65F6\u95F4\u4E0E\u5B58\u50A8\u65F6\u95F4\u7684\u8FC7\u53BB\u7684\u79D2\u6570</span>
      <span class="token keyword">const</span> overTime <span class="token operator">=</span> <span class="token punctuation">(</span>currentTime <span class="token operator">-</span> promise<span class="token punctuation">.</span>cacheTime<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span>
      <span class="token comment">// \u5982\u679C\u8FC7\u53BB\u7684\u79D2\u6570\u5927\u4E8E\u5F53\u524D\u7684\u8D85\u65F6\u65F6\u95F4\uFF0C\u4E5F\u8FD4\u56DEnull\u8BA9\u5176\u53BB\u670D\u52A1\u7AEF\u53D6\u6570\u636E</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>overTime<span class="token punctuation">)</span> <span class="token operator">&gt;</span> promise<span class="token punctuation">.</span>timeout<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// \u60F0\u6027\u6E05\u9664\u8FC7\u671F\u6570\u636E</span>
          ExpriesCache<span class="token punctuation">.</span>cacheMap<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
          <span class="token keyword">return</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// \u4E0D\u8D85\u65F6</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u5F53\u524Ddata\u5728 cache \u4E2D\u662F\u5426\u8D85\u65F6</span>
  <span class="token keyword">static</span> <span class="token function">has</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token operator">!</span>ExpriesCache<span class="token punctuation">.</span><span class="token function">isOverTime</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u5220\u9664 cache \u4E2D\u7684 data</span>
  <span class="token keyword">static</span> <span class="token keyword">delete</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> ExpriesCache<span class="token punctuation">.</span>cacheMap<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> 
  <span class="token punctuation">}</span>
  <span class="token comment">// \u83B7\u53D6\u7F13\u5B58</span>
  <span class="token keyword">static</span> <span class="token function">get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> isDataOverTiem <span class="token operator">=</span> ExpriesCache<span class="token punctuation">.</span><span class="token function">isOverTime</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>isDataOverTiem<span class="token punctuation">)</span>
      <span class="token comment">//\u5982\u679C \u6570\u636E\u8D85\u65F6\uFF0C\u8FD4\u56DEnull\uFF0C\u4F46\u662F\u6CA1\u6709\u8D85\u65F6\uFF0C\u8FD4\u56DEpromise</span>
      <span class="token keyword">return</span> isDataOverTiem <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> ExpriesCache<span class="token punctuation">.</span>cacheMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span>promise
  <span class="token punctuation">}</span>
  <span class="token comment">// \u8BBE\u7F6E\u5B58\u50A8\uFF0C\u9ED8\u8BA4\u8FC7\u671F\u65F6\u95F4600\u79D2</span>
  <span class="token keyword">static</span> <span class="token function">set</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> promise<span class="token punctuation">,</span> timeout <span class="token operator">=</span> <span class="token number">600</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u8BBE\u7F6E itemCache</span>
      <span class="token keyword">const</span> itemCache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ItemCache</span><span class="token punctuation">(</span>promise<span class="token punctuation">,</span> timeout<span class="token punctuation">)</span>
      <span class="token comment">// \u7F13\u5B58</span>
      ExpriesCache<span class="token punctuation">.</span>cacheMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> itemCache<span class="token punctuation">)</span>
      <span class="token comment">// \u5B9A\u65F6\u5668\u4E3B\u52A8\u6E05\u9664\u8FC7\u671F\u6570\u636E</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u5220\u9664\u6539\u8FC7\u671F\u6570\u636E&#39;</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span>
        ExpriesCache<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> timeout<span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ExpriesCache<span class="token punctuation">.</span>cacheMap<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u58F0\u660Ekey\u63A5\u53E3\u540D name+\u53C2\u6570\u62FC\u63A5</span>
  <span class="token keyword">static</span> <span class="token function">getName</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>params<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> paramsUrl <span class="token operator">=</span> tool<span class="token punctuation">.</span><span class="token function">paramsUrl</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span>
    <span class="token keyword">const</span> key <span class="token operator">=</span> name <span class="token operator">+</span> paramsUrl
    <span class="token keyword">return</span> key
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


actions<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> name <span class="token operator">=</span> item<span class="token punctuation">.</span>name <span class="token operator">||</span> item<span class="token punctuation">.</span>action<span class="token punctuation">;</span>
  api<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">async</span> params <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    params <span class="token operator">=</span> params <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">in</span> params<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      params<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> params<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">?</span> params<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">&#39;&#39;</span> <span class="token operator">:</span> params<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> api<span class="token punctuation">.</span><span class="token function">getopenid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> opendata <span class="token operator">=</span> <span class="token punctuation">{</span>
      openid<span class="token operator">:</span> result<span class="token punctuation">[</span><span class="token string">&quot;openid&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      sign<span class="token operator">:</span> result<span class="token punctuation">[</span><span class="token string">&quot;sign&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>action <span class="token operator">===</span> <span class="token string">&#39;get_union_id&#39;</span> <span class="token operator">||</span> item<span class="token punctuation">.</span>action <span class="token operator">===</span> <span class="token string">&#39;wx_decode_data&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      opendata<span class="token punctuation">[</span><span class="token string">&quot;session_key&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> result<span class="token punctuation">[</span><span class="token string">&#39;session_key&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// \u662F\u5426\u5F00\u542F\u7F13\u5B58,\u83B7\u53D6\u5C5E\u6027\u540E\u5220\u9664</span>
    <span class="token comment">// let isCache = params &amp;&amp; params.isCache</span>
    <span class="token comment">// params &amp;&amp; params.isCache &amp;&amp; delete params.isCache</span>

    <span class="token keyword">let</span> isCache <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token comment">// \u751F\u6210key</span>
    <span class="token keyword">let</span> key <span class="token operator">=</span> ExpriesCache<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u83B7\u5F97\u6570\u636E</span>
    <span class="token keyword">let</span> promise <span class="token operator">=</span> ExpriesCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>isCache <span class="token operator">&amp;&amp;</span> promise<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// \u8FD4\u56DE\u7F13\u5B58\u6570\u636E******</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
      <span class="token keyword">return</span> promise
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
      <span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Promise</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        http<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          url<span class="token operator">:</span> item<span class="token punctuation">.</span>url<span class="token punctuation">,</span>
          data<span class="token operator">:</span> <span class="token punctuation">{</span>
            action<span class="token operator">:</span> item<span class="token punctuation">.</span>action<span class="token punctuation">,</span>
            t<span class="token operator">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token operator">...</span>opendata<span class="token punctuation">,</span>
            <span class="token operator">...</span>params<span class="token punctuation">,</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token function">resolve</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>err <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">hideLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token keyword">return</span> <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token comment">// \u6DFB\u52A0\u8BF7\u6C42\u72B6\u6001</span>
      isCache <span class="token operator">&amp;&amp;</span> ExpriesCache<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> promise<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token punctuation">)</span> 
      <span class="token keyword">return</span> promise
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8F\u5DE5\u5177\u51FD\u6570\u5C01\u88C5" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u5DE5\u5177\u51FD\u6570\u5C01\u88C5" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u5DE5\u5177\u51FD\u6570\u5C01\u88C5</h2><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">/*
  @description: \u5DE5\u5177\u51FD\u6570\u6A21\u5757
  @author: hhd (2021-11-23)
  @\u4F7F\u7528\u65B9\u5F0F\uFF1A
    \u5BFC\u5165\uFF1A import tool from &#39;/common/tool&#39;;
    \u8C03\u7528\uFF1A tool.isTelMobile(this.data.phone)
 */</span>


<span class="token keyword">var</span> tool <span class="token operator">=</span> <span class="token punctuation">{</span> 

  <span class="token doc-comment comment">/************************ \u6B63\u5219\u9A8C\u8BC1\u51FD\u6570 ***********************/</span>
  <span class="token doc-comment comment">/**
   * \u8EAB\u4EFD\u8BC1\u53F7\u7801\u9A8C\u8BC1
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>number<span class="token punctuation">}</span> value 
   * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>boolean<span class="token punctuation">}</span>
   */</span>
  <span class="token function-variable function">checkIdCard</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(\\d|X|x)$)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token doc-comment comment">/**
   * \u624B\u673A\u53F7\u7801+\u56FA\u5B9A\u7535\u8BDD\u9A8C\u8BC1
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>number<span class="token punctuation">}</span> value 
   * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>boolean<span class="token punctuation">}</span>
   */</span>
  <span class="token function-variable function">isTelMobile</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^1\\d{10}$|^(0\\d{2,3}-?|\\(0\\d{2,3}\\))?[1-9]\\d{4,7}(-\\d{1,8})?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token doc-comment comment">/**
   * \u624B\u673A\u53F7\u7801\u9A8C\u8BC1
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>number<span class="token punctuation">}</span> value 
   * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>boolean<span class="token punctuation">}</span>
   */</span>
  <span class="token function-variable function">isMobile</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^1[3456789]\\d{9}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token doc-comment comment">/**
   * \u56FA\u5B9A\u7535\u8BDD\u9A8C\u8BC1
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>number<span class="token punctuation">}</span> value 
   * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>boolean<span class="token punctuation">}</span>
   */</span>
  <span class="token function-variable function">isTel</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^0\\d{2,3}-?\\d{7,8}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token doc-comment comment">/**
   * \u90AE\u7BB1\u9A8C\u8BC1
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>number<span class="token punctuation">}</span> value 
   * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>boolean<span class="token punctuation">}</span>
   */</span>
  <span class="token function-variable function">isEmail</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-z0-9]+([._\\\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token doc-comment comment">/**
   * \u6570\u5B57\u9A8C\u8BC1
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>number<span class="token punctuation">}</span> value 
   * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>boolean<span class="token punctuation">}</span>
   */</span>
  <span class="token function-variable function">isNumber</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[0-9]*$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token doc-comment comment">/**
   * \u4E2D\u6587\u6C49\u5B57\u9A8C\u8BC1
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>number<span class="token punctuation">}</span> value 
   * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>boolean<span class="token punctuation">}</span>
   */</span>
  <span class="token function-variable function">isChinese</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[\\u4e00-\\u9fa5]{0,}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token doc-comment comment">/************************* \u5B57\u7B26\u4E32\u5904\u7406\u51FD\u6570 ************************/</span>
  <span class="token doc-comment comment">/**
   * \u624B\u673A\u53F7\u4E2D\u95F4\u56DB\u4F4D\u53D8\u6210*, \u624B\u673A\u53F7\u9690\u85CF
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string,number<span class="token punctuation">}</span> value 
   * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>string<span class="token punctuation">}</span>
   */</span> 
  <span class="token function-variable function">telFormat</span> <span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> tel <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">return</span> tel<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;****&quot;</span> <span class="token operator">+</span> tel<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token doc-comment comment">/**
   * \u83B7\u53D6url\u94FE\u63A5\u53C2\u6570\uFF0C\u8FD4\u56DE\u53C2\u6570\u5BF9\u8C61
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string<span class="token punctuation">}</span> url 
   * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>object<span class="token punctuation">}</span>
   */</span>  
  <span class="token function-variable function">getUrlOptions</span> <span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> params <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    params<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> obj<span class="token punctuation">[</span>item<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> obj
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token doc-comment comment">/**
   * \u952E\u503C\u5BF9\u62FC\u63A5\u6210URL\u53C2\u6570
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>object<span class="token punctuation">}</span> obj \u952E\u503C\u5BF9\u53C2\u6570
   * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>string<span class="token punctuation">}</span> url\u53C2\u6570
   */</span>  
  <span class="token function-variable function">paramsUrl</span> <span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> params <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
     <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       params<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> params<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;&amp;&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token doc-comment comment">/************************** \u65F6\u95F4\u64CD\u4F5C\u51FD\u6570 ************************/</span>
  <span class="token doc-comment comment">/**
   * \u83B7\u53D6\u5F53\u524D\u65F6\u95F4
   * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>string<span class="token punctuation">}</span>
   */</span>  
  <span class="token function-variable function">getNowTime</span> <span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> year <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> month <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> date <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">10</span> <span class="token operator">?</span> now<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token string">&#39;0&#39;</span> <span class="token operator">+</span> now<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> hour <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">10</span> <span class="token operator">?</span> now<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token string">&#39;0&#39;</span> <span class="token operator">+</span> now<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> miu <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">10</span> <span class="token operator">?</span> now<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token string">&#39;0&#39;</span> <span class="token operator">+</span> now<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> sec <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">10</span> <span class="token operator">?</span> now<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token string">&#39;0&#39;</span> <span class="token operator">+</span> now<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token operator">+</span>year <span class="token operator">+</span> <span class="token string">&quot;\u5E74&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>month <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\u6708&quot;</span> <span class="token operator">+</span> date <span class="token operator">+</span> <span class="token string">&quot;\u65E5 &quot;</span> <span class="token operator">+</span> hour <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> miu <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> sec<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token doc-comment comment">/**
   * \u683C\u5F0F\u5316\u65F6\u95F4
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string<span class="token punctuation">}</span> formater \u65F6\u95F4\u683C\u5F0F YYYY-MM-DD HH:mm:ss
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string,Date<span class="token punctuation">}</span> time \u4F20\u5165\u65F6\u95F4
   * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>string<span class="token punctuation">}</span>
   * <span class="token keyword">@description</span> dateFormater(&#39;YYYY-MM-DD HH:mm:ss&#39;)  \u9ED8\u8BA4\u53D6\u5F53\u524D\u65F6\u95F4
   * <span class="token keyword">@description</span> dateFormater(&#39;YYYY\u5E74MM\u6708DD\u65E5&#39;, this.data.time)
   */</span>  
  <span class="token function-variable function">dateFormater</span> <span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>formater<span class="token punctuation">,</span> time<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> date <span class="token operator">=</span> time <span class="token operator">?</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token constant">Y</span> <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    <span class="token constant">M</span> <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token constant">D</span> <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token constant">H</span> <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    m <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    s <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> formater<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">YYYY|yyyy</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token constant">Y</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">YY|yy</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token constant">Y</span><span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">MM</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token constant">M</span><span class="token operator">&lt;</span><span class="token number">10</span> <span class="token operator">?</span> <span class="token string">&#39;0&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token constant">M</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">DD</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token constant">D</span><span class="token operator">&lt;</span><span class="token number">10</span> <span class="token operator">?</span> <span class="token string">&#39;0&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token constant">D</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">HH|hh</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token constant">H</span><span class="token operator">&lt;</span><span class="token number">10</span> <span class="token operator">?</span> <span class="token string">&#39;0&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token constant">H</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">mm</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token punctuation">(</span>m<span class="token operator">&lt;</span><span class="token number">10</span> <span class="token operator">?</span> <span class="token string">&#39;0&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token operator">+</span> m<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ss</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token punctuation">(</span>s<span class="token operator">&lt;</span><span class="token number">10</span> <span class="token operator">?</span> <span class="token string">&#39;0&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token operator">+</span> s<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> tool<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5168\u5C40loading\u89E3\u51B3\u65B9\u6848" tabindex="-1"><a class="header-anchor" href="#\u5168\u5C40loading\u89E3\u51B3\u65B9\u6848" aria-hidden="true">#</a> \u5168\u5C40loading\u89E3\u51B3\u65B9\u6848</h2><ul><li>\u672A\u89E3\u51B3\u540C\u6B65\u8BF7\u6C42\u95EA\u70C1\u95EE\u9898</li><li>\u53EF\u4EE5\u7528axios\u62E6\u622A\u5668\uFF0C\u6216\u8005\u51FD\u6570\u5DE5\u5177\u5C01\u88C5</li><li>\u6269\u5C55\uFF1A\u8BBE\u7F6E\u4E00\u4E2A\u5EF6\u8FDF\u5173\u95ED\u65F6\u95F4\uFF0C\u8BBE\u7F6E 500 \u53CAloading\u81F3\u5C11\u5C55\u793A\u534A\u79D2\uFF0C\u9632\u95EA\u70C1\uFF1B\u6216\u8005\u4F7F\u7528\u9632\u6296\uFF1B</li><li>\u6269\u5C55\uFF1A\u6216\u8005\u53EA\u4F7F\u7528 loadingCount \u63A7\u5236\uFF0C\u518D\u7ED9\u5B9A\u4E00\u4E2A\u8D85\u65F6\u5173\u95EDloading\u7684\u65F6\u95F4\u3002</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">let</span> loadingCount <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">// \u8BB0\u5F55\u5F53\u524D\u6B63\u5728\u8BF7\u6C42\u7684\u6570\u91CF</span>
<span class="token keyword">let</span> isLoading <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token comment">// \u662F\u5426\u5B58\u7740loading</span>
<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Promise</span></span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>res<span class="token punctuation">,</span> rej<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>loadingCount <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>isLoading<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    wx<span class="token punctuation">.</span><span class="token function">showLoading</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      title<span class="token operator">:</span> <span class="token string">&#39;\u52A0\u8F7D\u4E2D&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    isLoading <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
  loadingCount <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  wx<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    url<span class="token operator">:</span> obj<span class="token punctuation">.</span>url <span class="token operator">?</span> obj<span class="token punctuation">.</span>url <span class="token operator">:</span> baseApi<span class="token punctuation">,</span>
    data<span class="token operator">:</span> obj<span class="token punctuation">.</span>data <span class="token operator">?</span> obj<span class="token punctuation">.</span>data <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    method<span class="token operator">:</span> obj<span class="token punctuation">.</span>method <span class="token operator">?</span> obj<span class="token punctuation">.</span>method <span class="token operator">:</span> <span class="token string">&#39;GET&#39;</span><span class="token punctuation">,</span>
    header<span class="token operator">:</span> header<span class="token punctuation">,</span>
    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">res</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">fail</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">rej</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">complete</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>loadingCount <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>loadingCount<span class="token punctuation">)</span>
      loadingCount <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>loadingCount <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> isLoading<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        wx<span class="token punctuation">.</span><span class="token function">hideLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        isLoading <span class="token operator">=</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u626B\u7801\u8FDB\u5165\u5C0F\u7A0B\u5E8F\u53C2\u6570\u89E3\u6790" tabindex="-1"><a class="header-anchor" href="#\u626B\u7801\u8FDB\u5165\u5C0F\u7A0B\u5E8F\u53C2\u6570\u89E3\u6790" aria-hidden="true">#</a> \u626B\u7801\u8FDB\u5165\u5C0F\u7A0B\u5E8F\u53C2\u6570\u89E3\u6790</h2><ul><li>\u5728<code>onLoad(options)</code>\u4E2D\u83B7\u53D6<code>options.q</code>\uFF0Cq\u662F\u8F6C\u7801\u540E\u7684url\uFF0C\uFF08http://sjdk.com?dad=1&amp;ds=2)</li><li>deCode\u89E3\u7801url\u540E\uFF0C\u8C03\u7528url\u83B7\u53C2\u51FD\u6570\uFF0C\u5C06url\u4E2D\u7684\u53C2\u6570\u8F6C\u4E3A\u5BF9\u8C61\uFF0C\u91CD\u65B0\u590D\u5236\u7ED9options</li></ul><p><img src="`+y+`" alt="\u56FE\u7247"></p><h2 id="\u5C0F\u7A0B\u5E8Finput\u53CC\u5411\u7ED1\u5B9A" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8Finput\u53CC\u5411\u7ED1\u5B9A" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8Finput\u53CC\u5411\u7ED1\u5B9A</h2><ul><li>\u6A21\u62DF\u8BED\u6CD5\u7CD6 \u7ED1\u5B9A<code>bindinput</code>\u8F93\u5165\u4E8B\u4EF6 \u7ED1\u5B9A<code>value=&quot;{{}}&quot;</code>\u4E2D\u7684\u53D8\u91CF</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weui-input<span class="token punctuation">&quot;</span></span> 
       <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span> 
       <span class="token attr-name">bindinput</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getCredit<span class="token punctuation">&quot;</span></span> 
       <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{credit_no}}<span class="token punctuation">&quot;</span></span> 
       <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u8BE5\u4F01\u4E1A\u7684\u7EB3\u7A0E\u8BC6\u522B\u53F7<span class="token punctuation">&quot;</span></span> 
<span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>input\u4E2Dvalue\u503C\u8D4B\u503C\u7ED9\u53D8\u91CF</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token function">getCredit</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      credit_no<span class="token operator">:</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5168\u8868\u5355\u53CC\u5411\u7ED1\u5B9A" tabindex="-1"><a class="header-anchor" href="#\u5168\u8868\u5355\u53CC\u5411\u7ED1\u5B9A" aria-hidden="true">#</a> \u5168\u8868\u5355\u53CC\u5411\u7ED1\u5B9A</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input-box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title-box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u5C5E\u4E8E\u514D\u5F81\u7EB3\u7A0E\u5BF9\u8C61 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>radio-group</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">bindchange</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radioChange<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>is_no_tax_group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>radio</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#1ec56a<span class="token punctuation">&quot;</span></span> <span class="token attr-name">checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{data_options.is_no_tax_group==<span class="token punctuation">&#39;</span>1<span class="token punctuation">&#39;</span>}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>\u662F<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>radio</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#1ec56a<span class="token punctuation">&quot;</span></span> <span class="token attr-name">checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{data_options.is_no_tax_group==<span class="token punctuation">&#39;</span>0<span class="token punctuation">&#39;</span>}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>\u5426<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>radio-group</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input input2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span> \u7EB3\u7A0E\u603B\u989D <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
        <span class="token attr-name">bindinput</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bindInput<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">bindfocus</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inputFocus<span class="token punctuation">&quot;</span></span> 
        <span class="token attr-name">data-item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>total_tax_amount<span class="token punctuation">&quot;</span></span> 
        <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{data_options.total_tax_amount}}<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">placeholder-style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>color:#999<span class="token punctuation">&quot;</span></span> 
        <span class="token attr-name">disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{totalTaxDisabled}}<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>digit<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u8BF7\u8F93\u5165\u91D1\u989D<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u5143<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code> <span class="token doc-comment comment">/*********** \u8868\u5355\u5185\u5BB9data\u6570\u636E ************/</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    data_options<span class="token operator">:</span><span class="token punctuation">{</span> <span class="token punctuation">}</span> <span class="token comment">// \u8868\u5355\u5BF9\u8C61</span>
 <span class="token punctuation">}</span>
  
  
  <span class="token doc-comment comment">/**
   * \u8868\u5355\u53CC\u5411\u7ED1\u5B9A
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string<span class="token punctuation">}</span> e.currentTarget.dataset.item\uFF1A Input\u6807\u8BC6
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string<span class="token punctuation">}</span> e.detail.value\uFF1A\u8F93\u5165\u503C
   */</span>
  <span class="token keyword">function</span> <span class="token function">bindInput</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> item<span class="token operator">=</span>e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>item<span class="token punctuation">;</span> <span class="token comment">// \u7ED1\u5B9A\u4E0D\u540C\u6807\u8BC6</span>
    <span class="token keyword">const</span> data_options<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>data_options
    data_options<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token operator">=</span>e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>value <span class="token comment">// \u5BF9\u8C61\u52A8\u6001\u8D4B\u503C</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span> data_options <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>


  <span class="token doc-comment comment">/**
   * \u5355\u9009\u6309\u94AE\u53CC\u5411\u7ED1\u5B9A
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string<span class="token punctuation">}</span> e.currentTarget.dataset.item\uFF1A radio\u6807\u8BC6
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string<span class="token punctuation">}</span> e.detail.value\uFF1A\u9009\u4E2D\u503C
   */</span>
  <span class="token keyword">function</span> <span class="token function">radioChange</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> item<span class="token operator">=</span>e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>item<span class="token punctuation">;</span>  <span class="token comment">// \u7ED1\u5B9A\u4E0D\u540C\u6807\u8BC6</span>
    <span class="token keyword">const</span> data_options<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>data_options
    data_options<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token operator">=</span>e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>value <span class="token comment">// \u5BF9\u8C61\u52A8\u6001\u8D4B\u503C</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span> data_options <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>item <span class="token operator">==</span> <span class="token string">&#39;is_no_tax_group&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isNOTax</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// \u662F\u5426\u514D\u5F81\u7EB3\u7A0E\u63A7\u5236</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8Fswitchtab\u8DF3\u8F6C\u4F20\u53C2\u548C\u5237\u65B0\u9875\u9762\u89E3\u51B3\u65B9\u6848" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8Fswitchtab\u8DF3\u8F6C\u4F20\u53C2\u548C\u5237\u65B0\u9875\u9762\u89E3\u51B3\u65B9\u6848" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8FswitchTab\u8DF3\u8F6C\u4F20\u53C2\u548C\u5237\u65B0\u9875\u9762\u89E3\u51B3\u65B9\u6848</h2><h3 id="\u4F7F\u7528wx-relaunch" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528wx-relaunch" aria-hidden="true">#</a> \u4F7F\u7528wx.reLaunch</h3><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token doc-comment comment">/** 
   * \u67E5\u8001\u8D56\u2014\u2014\u524D\u5F80\u8BA4\u9886\u652F\u4ED8
   */</span> 
  <span class="token keyword">function</span> <span class="token function">toCreditCheck</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">homeClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// \u9996\u9875\u6309\u94AE\u662F\u5426\u70B9\u51FB\u7EDF\u8BA1</span>
    wx<span class="token punctuation">.</span><span class="token function">reLaunch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/pages/center/index?product_type=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>product_type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;digest=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>digest<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u8C03\u7528\u9875\u9762\u6808\u5237\u65B0\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#\u8C03\u7528\u9875\u9762\u6808\u5237\u65B0\u9875\u9762" aria-hidden="true">#</a> \u8C03\u7528\u9875\u9762\u6808\u5237\u65B0\u9875\u9762</h3><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// \u8C03\u7528\u9875\u9762\u6808\u5237\u65B0\u9875\u9762</span>
wx<span class="token punctuation">.</span><span class="token function">switchTab</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      url<span class="token operator">:</span> <span class="token string">&quot;/pages/classify/classify&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// \u6B64\u65B9\u6CD5\u76F8\u5F53\u4E8E\u5237\u65B0\u9875\u9762</span>
        <span class="token keyword">var</span> page <span class="token operator">=</span> <span class="token function">getCurrentPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u83B7\u53D6\u5F53\u524D\u9875\u9762\u6808</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>page <span class="token operator">==</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> page <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        page<span class="token punctuation">.</span><span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// onShow\u6267\u884Cthis.onLoad\u5237\u65B0</span>
<span class="token function-variable function">onShow</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4F7F\u7528\u5168\u5C40\u53D8\u91CF\u548C\u7F13\u5B58" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u5168\u5C40\u53D8\u91CF\u548C\u7F13\u5B58" aria-hidden="true">#</a> \u4F7F\u7528\u5168\u5C40\u53D8\u91CF\u548C\u7F13\u5B58</h3><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// 1\u3001\u8BBE\u7F6E\u5168\u5C40\u53D8\u91CF\u4F20\u53C2</span>
<span class="token comment">// \u8BBE\u7F6E\u53C2\u6570\uFF1A</span>
<span class="token function">getApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>index <span class="token operator">=</span> <span class="token number">12321</span>
<span class="token comment">// \u83B7\u53D6\u53C2\u6570\uFF1A</span>
<span class="token keyword">let</span> index<span class="token operator">=</span><span class="token function">getApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>index

<span class="token comment">// \u672C\u5730\u7F13\u5B58</span>
<span class="token keyword">let</span> risk_data <span class="token operator">=</span> <span class="token punctuation">{</span>
    product_type <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>product_type<span class="token punctuation">,</span> 
    digest <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>digest<span class="token punctuation">,</span> 
    id <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>id<span class="token punctuation">,</span> 
<span class="token punctuation">}</span> 
wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&#39;risk_data&#39;</span><span class="token punctuation">,</span>risk_data<span class="token punctuation">)</span>

risk_data <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">&#39;risk_data&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  digest<span class="token operator">:</span> risk_data<span class="token punctuation">.</span>digest<span class="token punctuation">,</span>
  kp_id<span class="token operator">:</span> risk_data<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
  product_type<span class="token operator">:</span> risk_data<span class="token punctuation">.</span>product_type<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
wx<span class="token punctuation">.</span><span class="token function">removeStorageSync</span><span class="token punctuation">(</span><span class="token string">&#39;risk_data&#39;</span><span class="token punctuation">)</span>  <span class="token comment">// \u5220\u9664\u7F13\u5B58</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u4F2A\u5143\u7D20\u653E\u5927\u70B9\u51FB\u533A\u57DF" tabindex="-1"><a class="header-anchor" href="#\u4F2A\u5143\u7D20\u653E\u5927\u70B9\u51FB\u533A\u57DF" aria-hidden="true">#</a> \u4F2A\u5143\u7D20\u653E\u5927\u70B9\u51FB\u533A\u57DF</h2><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fater<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>focus<span class="token punctuation">&quot;</span></span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeAgreeCheck<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-scss ext-scss line-numbers-mode"><pre class="language-scss"><code><span class="token comment">/* \u653E\u5927\u70B9\u51FB\u533A\u57DF\u529F\u80FD\u7C7B */</span>
<span class="token selector">.focus</span><span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span>relative<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.focus::after</span><span class="token punctuation">{</span>
  <span class="token property">content</span><span class="token punctuation">:</span><span class="token string">&#39;&#39;</span><span class="token punctuation">;</span> 
  <span class="token property">position</span><span class="token punctuation">:</span>absolute<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span>60rpx<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span>60rpx<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span>50%<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span>50%<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span>-50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.fater .focus::after</span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span>30rpx<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span>30rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8F\u89C4\u907F\u5BA1\u6838\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u89C4\u907F\u5BA1\u6838\u65B9\u6CD5" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u89C4\u907F\u5BA1\u6838\u65B9\u6CD5</h2><h3 id="\u95EE\u9898\u5206\u6790" tabindex="-1"><a class="header-anchor" href="#\u95EE\u9898\u5206\u6790" aria-hidden="true">#</a> \u95EE\u9898\u5206\u6790</h3><ul><li>\u8D37\u6B3E\uFF1A\u6DFB\u52A0\u8D37\u6B3E\u7C7B\u76EE\uFF1A\u9700\u8981\u76F8\u5173\u8D44\u8D28</li><li>\u50AC\u503A\uFF1A\u4E0D\u53EF\u53D1\u5E03\u76F8\u5173\u5185\u5BB9</li></ul><h3 id="\u5BA1\u6838\u673A\u5236" tabindex="-1"><a class="header-anchor" href="#\u5BA1\u6838\u673A\u5236" aria-hidden="true">#</a> \u5BA1\u6838\u673A\u5236</h3><ul><li>\u4E1A\u52A1\u64CD\u4F5C\u6F14\u793A</li><li>\u4EE3\u7801\u5185\u5BB9\u5BA1\u6838\uFF08\u53EF\u80FD\u6709\u5173\u952E\u8BCD\u68C0\u7D22\uFF0C\u6216\u8005\u5355\u72EC\u6253\u5F00\u67D0\u9875\u9762\uFF09</li><li>\u4E0D\u80FD\u6709\u7A7A\u4E0D\u529F\u80FD\u4E0D\u5168\u7684\u5185\u5BB9\uFF08\u9700\u8981\u6709\u5047\u4E1A\u52A1\u903B\u8F91\u4EE3\u66FF\uFF09</li><li>\u4E3B\u8981\u5173\u6CE8\u8BE5\u7248\u672C\u4E0A\u7EBF\u5185\u5BB9\uFF0C\u4E0E\u5176\u4ED6\u4E1A\u52A1\u540C\u65F6\u4E0A\u7EBF\u6210\u529F\u7387\u66F4\u597D\uFF08\u5355\u72EC\u4E0A\u7EBF\u8FDD\u89C4\u5185\u5BB9\u4F1A\u88AB\u9488\u5BF9\uFF09</li><li>\u540C\u4E00\u7248\u672C\u5BA1\u6838\u4E0D\u901A\u8FC7\u53EF\u80FD\u4F1A\u6709\u6807\u8BB0\uFF0C\u6700\u597D\u8DF3\u8FC7\u4E00\u4E2A\u7248\u672C\u518D\u63D0\u5BA1</li></ul><h3 id="\u65B9\u6CD5\u603B\u7ED3" tabindex="-1"><a class="header-anchor" href="#\u65B9\u6CD5\u603B\u7ED3" aria-hidden="true">#</a> \u65B9\u6CD5\u603B\u7ED3</h3><ul><li>\u540E\u53F0\u6570\u636E\u63A7\u5236\uFF1A\u53BB\u6389\u524D\u7AEF\u5173\u952E\u5B57\uFF0C\u6CE8\u91CA\uFF0C\u540E\u7AEF\u8FD4\u56DE\u6570\u636E\u4EE3\u66FF\uFF1B</li><li>\u7ED9\u5BA1\u6838\u4EBA\u5458\u770B\u4E00\u5957\uFF1A\u8BBE\u7F6E\u5012\u8BA1\u65F6\uFF1A1\u5929\u540E\u6253\u5F00\uFF0C\u6216\u8005\u7ED1\u5B9A\u4F01\u4E1A\u624D\u53EF\u89C1</li><li>\u53CD\u590D\u4E0D\u901A\u8FC7\u5C1D\u8BD5\u8DF3\u8FC7\u8FD9\u4E2A\u7248\u672C\uFF0C\u518D\u53D1\u5E03\u5BA1\u6838\uFF08\u672A\u901A\u8FC7\uFF09</li></ul><h3 id="\u89E3\u51B3\u65B9\u6848-1" tabindex="-1"><a class="header-anchor" href="#\u89E3\u51B3\u65B9\u6848-1" aria-hidden="true">#</a> \u89E3\u51B3\u65B9\u6848</h3><ul><li>\u503A\u52A1\u5173\u952E\u4FE1\u606F\u5185\u5BB9\uFF0C\u540E\u53F0\u63A5\u53E3\u8FD4\u56DE\uFF1B\u8D37\u6B3E\u94FE\u63A5\u540E\u53F0\u63A5\u53E3\u8FD4\u56DE\uFF1B\u63D0\u5BA1\u5C0F\u7A0B\u5E8F\u901A\u8FC7\u540E\uFF0C\u540E\u53F0\u518D\u53D1\u5E03\uFF0C</li><li>\u540E\u7EED\u5982\u9047\u5230\u5BA1\u6838\u4E0D\u901A\u8FC7\uFF0C\u4FEE\u6539\u540E\u53F0\u72B6\u6001\u91CD\u590D\u4E0A\u9762\u6B65\u9AA4</li></ul><h2 id="\u5C0F\u7A0B\u5E8Fechart\u56FE\u8868\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8Fechart\u56FE\u8868\u4F7F\u7528" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8Fechart\u56FE\u8868\u4F7F\u7528</h2>`,99),xs=s("github\u4E0B\u8F7D\u5730\u5740: "),qs={href:"https://github.com/ecomfe/echarts-for-weixin",target:"_blank",rel:"noopener noreferrer"},_s=s("echarts-for-weixin"),Cs=n("li",null,[s("\u4E0B\u8F7D"),n("code",null,"ec-canvas"),s("\u5305\u5728\u5C0F\u7A0B\u5E8F\u5185")],-1),Ss=o('<p><img src="'+f+`" alt="\u56FE\u7247"></p><ul><li><code>index.json</code>\u6CE8\u5165\u7EC4\u4EF6</li></ul><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;usingComponents&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;ec-canvas&quot;</span><span class="token operator">:</span> <span class="token string">&quot;../../../../ec-canvas/ec-canvas&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u4F7F\u7528</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>echarts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">hidden</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>{{submitFlag}}<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ec-canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mychart<span class="token punctuation">&quot;</span></span> <span class="token attr-name">canvas-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>mychart-line<span class="token punctuation">&#39;</span></span> <span class="token attr-name">ec</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{ec}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ec-canvas</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> echarts <span class="token keyword">from</span> <span class="token string">&#39;../../../../ec-canvas/echarts&#39;</span><span class="token punctuation">;</span>

<span class="token function-variable function">onLoad</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u56FE\u6807\u521D\u59CB\u5316</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>echartsComponnet <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">selectComponent</span><span class="token punctuation">(</span><span class="token string">&#39;#mychart&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init_echarts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u6784\u5EFAechart</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>


<span class="token doc-comment comment">/**
 * \u56FE\u8868\u521D\u59CB\u5316
 */</span>
<span class="token function-variable function">init_echarts</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>echartsComponnet<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u521D\u59CB\u5316\u56FE\u8868</span>
    <span class="token keyword">const</span> Chart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      width<span class="token operator">:</span> width<span class="token punctuation">,</span>
      height<span class="token operator">:</span> height
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Chart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getOption</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u6CE8\u610F\u8FD9\u91CC\u4E00\u5B9A\u8981\u8FD4\u56DE chart \u5B9E\u4F8B\uFF0C\u5426\u5219\u4F1A\u5F71\u54CD\u4E8B\u4EF6\u5904\u7406\u7B49</span>
    <span class="token keyword">return</span> Chart<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>


<span class="token doc-comment comment">/**
 *\u914D\u7F6E\u6570\u636E
 */</span>
<span class="token function-variable function">getOption</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token comment">// \u5904\u7406\u6570\u636E </span>
  <span class="token keyword">let</span> myCompanyValue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  myCompanyValue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>myCompany<span class="token punctuation">.</span>operate_score<span class="token punctuation">)</span>
  myCompanyValue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>myCompany<span class="token punctuation">.</span>risk_score<span class="token punctuation">)</span>
  myCompanyValue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>myCompany<span class="token punctuation">.</span>honesty_score<span class="token punctuation">)</span>
  <span class="token keyword">let</span> otherCompanyValue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  otherCompanyValue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>otherCompany<span class="token punctuation">.</span>operate_score<span class="token punctuation">)</span>
  otherCompanyValue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>otherCompany<span class="token punctuation">.</span>risk_score<span class="token punctuation">)</span>
  otherCompanyValue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>otherCompany<span class="token punctuation">.</span>honesty_score<span class="token punctuation">)</span>

  <span class="token keyword">var</span> option <span class="token operator">=</span> <span class="token punctuation">{</span>
    backgroundColor<span class="token operator">:</span> <span class="token string">&quot;rgba(0,0,0,0)&quot;</span><span class="token punctuation">,</span>
    color<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;#63d798&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;#dd3239&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    tooltip<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
      show<span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
      show<span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    radar<span class="token operator">:</span> <span class="token punctuation">{</span>
      indicator<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&#39;\u7ECF\u8425\u80FD\u529B&#39;</span><span class="token punctuation">,</span>
        max<span class="token operator">:</span> <span class="token number">164</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          name<span class="token operator">:</span> <span class="token string">&#39;\u5408\u89C4\u5C65\u7EA6&#39;</span><span class="token punctuation">,</span>
          max<span class="token operator">:</span> <span class="token number">173</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          name<span class="token operator">:</span> <span class="token string">&#39;\u8BDA\u4FE1\u610F\u613F&#39;</span><span class="token punctuation">,</span>
          max<span class="token operator">:</span> <span class="token number">163</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>myCompany<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> vs </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>otherCompany<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
      type<span class="token operator">:</span> <span class="token string">&#39;radar&#39;</span><span class="token punctuation">,</span>
      data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        value<span class="token operator">:</span> myCompanyValue<span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>myCompany<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          value<span class="token operator">:</span> otherCompanyValue<span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>otherCompany<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> option<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8F\u5185\u8DF3\u8F6C\u5176\u4ED6\u5C0F\u7A0B\u5E8F" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u5185\u8DF3\u8F6C\u5176\u4ED6\u5C0F\u7A0B\u5E8F" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u5185\u8DF3\u8F6C\u5176\u4ED6\u5C0F\u7A0B\u5E8F</h2><h3 id="navigatetominiprogram-api\u8DF3\u8F6C" tabindex="-1"><a class="header-anchor" href="#navigatetominiprogram-api\u8DF3\u8F6C" aria-hidden="true">#</a> navigateToMiniProgram api\u8DF3\u8F6C</h3><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// \u6253\u5F00\u6C34\u6EF4\u5C0F\u7A0B\u5E8F</span>
wx<span class="token punctuation">.</span><span class="token function">navigateToMiniProgram</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  appId<span class="token operator">:</span> <span class="token string">&#39;wxdc49880077ff6a04&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// appid \u5FC5\u586B</span>
  path<span class="token operator">:</span> <span class="token string">&#39;/pages/home/home&#39;</span><span class="token punctuation">,</span><span class="token comment">// path \u975E\u5FC5\u586B\uFF1A\u9ED8\u8BA4\u5230\u9996\u9875</span>
  extraData<span class="token operator">:</span> <span class="token punctuation">{</span>navType<span class="token operator">:</span> <span class="token string">&quot;shuidimin&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// \u53C2\u6570</span>
  envVersion<span class="token operator">:</span> <span class="token string">&#39;release&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u5F00\u53D1\u7248:develop  \u4F53\u9A8C\u7248:trial  \u6B63\u5F0F\u7248:release  </span>
  <span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// \u6253\u5F00\u6210\u529F\u56DE\u8C03</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="navigator\u6807\u7B7E\u8DF3\u8F6C" tabindex="-1"><a class="header-anchor" href="#navigator\u6807\u7B7E\u8DF3\u8F6C" aria-hidden="true">#</a> navigator\u6807\u7B7E\u8DF3\u8F6C</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>navigator</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>miniProgram<span class="token punctuation">&quot;</span></span> <span class="token attr-name">open-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navigate<span class="token punctuation">&quot;</span></span> <span class="token attr-name">app-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>release<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>navigator</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u6CE8\u610F\u4E8B\u9879" tabindex="-1"><a class="header-anchor" href="#\u6CE8\u610F\u4E8B\u9879" aria-hidden="true">#</a> \u6CE8\u610F\u4E8B\u9879</h3><ul><li>\u4ECE 2.3.0 \u7248\u672C\u5F00\u59CB\uFF0C\u82E5\u7528\u6237\u672A\u70B9\u51FB\u5C0F\u7A0B\u5E8F\u9875\u9762\u4EFB\u610F\u4F4D\u7F6E\uFF0C\u5219\u5F00\u53D1\u8005\u5C06\u65E0\u6CD5\u8C03\u7528\u6B64\u63A5\u53E3\u81EA\u52A8\u8DF3\u8F6C\u81F3\u5176\u4ED6\u5C0F\u7A0B\u5E8F\u3002</li><li>\u9700\u8981\u7528\u6237\u786E\u8BA4\u8DF3\u8F6C;\u5728\u8DF3\u8F6C\u81F3\u5176\u4ED6\u5C0F\u7A0B\u5E8F\u524D\uFF0C\u5C06\u7EDF\u4E00\u589E\u52A0\u5F39\u7A97\uFF0C\u8BE2\u95EE\u662F\u5426\u8DF3\u8F6C\uFF0C\u7528\u6237\u786E\u8BA4\u540E\u624D\u53EF\u4EE5\u8DF3\u8F6C\u5176\u4ED6\u5C0F\u7A0B\u5E8F\u3002\u5982\u679C\u7528\u6237\u70B9\u51FB\u53D6\u6D88\uFF0C\u5219\u56DE\u8C03 fail cancel\u3002</li></ul><h2 id="\u5C0F\u7A0B\u5E8F\u56FE\u7247\u4E0A\u4F20" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u56FE\u7247\u4E0A\u4F20" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u56FE\u7247\u4E0A\u4F20</h2><h3 id="wux-uploader\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#wux-uploader\u7EC4\u4EF6" aria-hidden="true">#</a> wux-uploader\u7EC4\u4EF6</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>upload<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>wux-upload</span> 
    <span class="token attr-name">listType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>picture-card<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name">sizeType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{ compressed }}<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">fileList</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{ fileList }}<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name">controlled</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.........di.cn/uploadimage<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name"><span class="token namespace">bind:</span>change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onChange<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name"><span class="token namespace">bind:</span>success</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onSuccess<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name"><span class="token namespace">bind:</span>fail</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onFail<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name"><span class="token namespace">bind:</span>complete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onComplete<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name"><span class="token namespace">bind:</span>preview</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onPreview<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name"><span class="token namespace">bind:</span>remove</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onRemove<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>wux-upload</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>buttons<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>\u4E0A\u4F20\u4EA4\u6613\u622A\u56FE\u6216\u5408\u540C\u8D44\u6599<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>\u8D44\u6599\u4EC5\u7528\u4E8E\u9A8C\u8BC1\uFF0C\u4E0D\u516C\u5F00\u5C55\u793A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>wux-upload</span> 
      <span class="token attr-name">fileList</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{ fileList }}<span class="token punctuation">&quot;</span></span> 
      <span class="token attr-name">controlled</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.........di.cn/uploadimage<span class="token punctuation">&quot;</span></span> 
      <span class="token attr-name">sizeType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{compressed}}<span class="token punctuation">&quot;</span></span> 
      <span class="token attr-name"><span class="token namespace">bind:</span>change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onChange<span class="token punctuation">&quot;</span></span> 
      <span class="token attr-name"><span class="token namespace">bind:</span>success</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onSuccess<span class="token punctuation">&quot;</span></span> 
      <span class="token attr-name"><span class="token namespace">bind:</span>fail</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onFail<span class="token punctuation">&quot;</span></span> 
      <span class="token attr-name"><span class="token namespace">bind:</span>complete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onComplete<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{filter.buildStatic(<span class="token punctuation">&#39;</span>/center/debt/upload-icon.png<span class="token punctuation">&#39;</span>)}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>\u4E0A\u4F20<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>wux-upload</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  data<span class="token punctuation">{</span>
      <span class="token literal-property property">fileList</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// \u4E0A\u4F20\u56FE\u7247\u96C6\u5408</span>
      <span class="token literal-property property">compressed</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;compressed&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// \u56FE\u7247\u5C3A\u5BF8\u8BBE\u7F6E</span>
  <span class="token punctuation">}</span>


  <span class="token doc-comment comment">/**
   * \u4E0A\u4F20\u56FE\u7247\u529F\u80FD\u6A21\u5757
   */</span>
  <span class="token function">onChange</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> file<span class="token punctuation">,</span> fileList <span class="token punctuation">}</span> <span class="token operator">=</span> e<span class="token punctuation">.</span>detail
    <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">&#39;uploading&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">progress</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        wx<span class="token punctuation">.</span><span class="token function">showLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">&#39;done&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">imageUrl</span><span class="token operator">:</span> file<span class="token punctuation">.</span>url<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span> fileList <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// \u6210\u529F\u56DE\u8C03</span>
  <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;onSuccess&#39;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// \u5931\u8D25\u56DE\u8C03</span>
  <span class="token function">onFail</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;onFail&#39;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// \u4E0A\u4F20\u5B8C\u6210</span>
  <span class="token function">onComplete</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      wx<span class="token punctuation">.</span><span class="token function">hideLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// \u4E0A\u4F20\u8FDB\u5EA6</span>
  <span class="token function">onProgress</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">progress</span><span class="token operator">:</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>file<span class="token punctuation">.</span>progress<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// \u9884\u89C8\u56FE\u7247</span>
  <span class="token function">onPreview</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span> file<span class="token punctuation">,</span> fileList <span class="token punctuation">}</span> <span class="token operator">=</span> e<span class="token punctuation">.</span>detail
      wx<span class="token punctuation">.</span><span class="token function">previewImage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">current</span><span class="token operator">:</span> file<span class="token punctuation">.</span>url<span class="token punctuation">,</span>
          <span class="token literal-property property">urls</span><span class="token operator">:</span> fileList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> n<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// \u5220\u9664\u56FE\u7247</span>
  <span class="token function">onRemove</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;remove&#39;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5FAE\u4FE1uploader\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5FAE\u4FE1uploader\u7EC4\u4EF6" aria-hidden="true">#</a> \u5FAE\u4FE1uploader\u7EC4\u4EF6</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img-view<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mp-cells</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mp-cell</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mp-uploader</span> 
              <span class="token attr-name">bindfail</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uploadError<span class="token punctuation">&quot;</span></span> 
              <span class="token attr-name">bindsuccess</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uploadSuccess<span class="token punctuation">&quot;</span></span> 
              <span class="token attr-name">binddelete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>deleteFile<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{selectFile}}<span class="token punctuation">&quot;</span></span> 
              <span class="token attr-name">upload</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{uplaodFile}}<span class="token punctuation">&quot;</span></span> 
              <span class="token attr-name">files</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{files}}<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">delete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">max-count</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>9<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u56FE\u7247\u4E0A\u4F20<span class="token punctuation">&quot;</span></span> 
              <span class="token attr-name">tips</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u56FE\u7247\u4E0A\u4F20\u63D0\u793A<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mp-uploader</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mp-cell</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mp-cells</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code> data<span class="token operator">:</span> <span class="token punctuation">{</span>
    files<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      url<span class="token operator">:</span> <span class="token string">&#39;https://hbimg.huabanimg.com/7dba3ddeccf5953d5845f3c76057806f771983a777e79-uRDtUA_fw658/format/webp&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    urls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// \u8FD4\u56DE\u56FE\u7247\u96C6\u5408\uFF0C\u591A\u56FE</span>
  <span class="token punctuation">}</span>
  
  <span class="token doc-comment comment">/**
   * \u751F\u547D\u5468\u671F\u51FD\u6570--\u76D1\u542C\u9875\u9762\u52A0\u8F7D
   */</span>
  <span class="token function-variable function">onLoad</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      selectFile<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">selectFile</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      uplaodFile<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">uplaodFile</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>  
  
  <span class="token comment">// \u9009\u62E9\u56FE\u7247</span>
  <span class="token function-variable function">chooseImage</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    wx<span class="token punctuation">.</span><span class="token function">chooseImage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        sizeType<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;original&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;compressed&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// \u53EF\u4EE5\u6307\u5B9A\u662F\u539F\u56FE\u8FD8\u662F\u538B\u7F29\u56FE\uFF0C\u9ED8\u8BA4\u4E8C\u8005\u90FD\u6709</span>
        sourceType<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;album&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;camera&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// \u53EF\u4EE5\u6307\u5B9A\u6765\u6E90\u662F\u76F8\u518C\u8FD8\u662F\u76F8\u673A\uFF0C\u9ED8\u8BA4\u4E8C\u8005\u90FD\u6709</span>
        count<span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// \u6700\u591A\u53EF\u9009\u56FE\u7247\u5F20\u6570</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
            that<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                files<span class="token operator">:</span> that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>files<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>tempFilePaths<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// \u9884\u89C8\u56FE\u7247</span>
  <span class="token function-variable function">previewImage</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
      wx<span class="token punctuation">.</span><span class="token function">previewImage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          current<span class="token operator">:</span> e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token comment">// \u5F53\u524D\u663E\u793A\u56FE\u7247\u7684http\u94FE\u63A5</span>
          urls<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>files <span class="token comment">// \u9700\u8981\u9884\u89C8\u7684\u56FE\u7247http\u94FE\u63A5\u5217\u8868</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token function">selectFile</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;files&#39;</span><span class="token punctuation">,</span> files<span class="token punctuation">)</span>
      <span class="token comment">// \u8FD4\u56DEfalse\u53EF\u4EE5\u963B\u6B62\u67D0\u6B21\u6587\u4EF6\u4E0A\u4F20</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token function">uplaodFile</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;upload files&#39;</span><span class="token punctuation">,</span> files<span class="token punctuation">)</span>
    <span class="token comment">// \u6587\u4EF6\u4E0A\u4F20\u7684\u51FD\u6570\uFF0C\u8FD4\u56DE\u4E00\u4E2Apromise</span>
    <span class="token keyword">let</span> that <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Promise</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>index<span class="token punctuation">,</span>item<span class="token punctuation">]</span> <span class="token keyword">of</span> files<span class="token punctuation">.</span>tempFilePaths<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
        <span class="token comment">//\u4E0A\u4F20\u56FE\u7247</span>
        wx<span class="token punctuation">.</span><span class="token function">uploadFile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token comment">//\u8BF7\u6C42\u540E\u53F0\u7684\u8DEF\u5F84</span>
          url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">..........di.cn/uploadimage</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
          <span class="token comment">//\u5C0F\u7A0B\u5E8F\u672C\u5730\u7684\u8DEF\u5F84</span>
          filePath<span class="token operator">:</span> item<span class="token punctuation">,</span>
          <span class="token comment">//\u540E\u53F0\u83B7\u53D6\u6211\u4EEC\u56FE\u7247\u7684key</span>
          name<span class="token operator">:</span> <span class="token string">&#39;file&#39;</span><span class="token punctuation">,</span>
          <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token string">&#39;https://filecdn.shuidi.cn/img/&#39;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span>path <span class="token operator">+</span> <span class="token string">&#39;/&#39;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span>width <span class="token operator">+</span> <span class="token string">&#39;x&#39;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span>height<span class="token operator">+</span> <span class="token string">&#39;.jpg&#39;</span>
            that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>urls<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>urls<span class="token punctuation">)</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>index<span class="token operator">+</span><span class="token number">1</span> <span class="token operator">==</span> files<span class="token punctuation">.</span>tempFilePaths<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>
              <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                urls<span class="token operator">:</span> that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>urls
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
              <span class="token comment">//\u4E0A\u4F20\u6210\u529F</span>
              wx<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                title<span class="token operator">:</span> <span class="token string">&#39;\u4E0A\u4F20\u6210\u529F&#39;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function-variable function">fail</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//\u4E0A\u4F20\u5931\u8D25</span>
            <span class="token function">reject</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
            wx<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              title<span class="token operator">:</span> <span class="token string">&#39;\u4E0A\u4F20\u5931\u8D25&#39;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token function">uploadError</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;upload error&#39;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">uploadSuccess</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;upload success&#39;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">deleteFile</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;upload delete&#39;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>files<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>files<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span>index <span class="token operator">=&gt;</span> index <span class="token operator">==</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8F\u5206\u4EAB\u65B9\u6848" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u5206\u4EAB\u65B9\u6848" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u5206\u4EAB\u65B9\u6848</h2><h3 id="button\u7EC4\u4EF6\u65B9\u6848" tabindex="-1"><a class="header-anchor" href="#button\u7EC4\u4EF6\u65B9\u6848" aria-hidden="true">#</a> button\u7EC4\u4EF6\u65B9\u6848</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">data-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>shareBtn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">open-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>share<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>share share2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u56DE\u8C03\u51FD\u6570\u65B9\u6848" tabindex="-1"><a class="header-anchor" href="#\u56DE\u8C03\u51FD\u6570\u65B9\u6848" aria-hidden="true">#</a> \u56DE\u8C03\u51FD\u6570\u65B9\u6848</h3><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token doc-comment comment">/**
   * \u81EA\u5B9A\u4E49\u5206\u4EAB\u5C0F\u7A0B\u5E8F
   * <span class="token keyword">@html</span>:  &lt;button data-name=&quot;shareBtn&quot; open-type=&quot;share&quot;&gt;&lt;/button&gt;
   * <span class="token keyword">@param</span> <span class="token parameter">from</span>: button:\u9875\u9762\u5185\u8F6C\u53D1\u6309\u94AE\uFF0Cmenu\u53F3\u4E0A\u89D2\u83DC\u5355\u8F6C\u53D1
   * <span class="token keyword">@param</span> <span class="token parameter">title</span>: \u8F6C\u53D1\u6807\u9898
   * <span class="token keyword">@param</span> <span class="token parameter">path</span>\uFF1A\u8F6C\u53D1\u8DEF\u5F84\uFF08\u5FC5\u987B\u5DF2/\u5F00\u5934\u5B8C\u6574\u8DEF\u5F84\uFF09
   * <span class="token keyword">@param</span> <span class="token parameter">imageUrl</span>: \u56FE\u7247\u8DEF\u5F84\u957F\u5BBD\u6BD45:4
   */</span>
  <span class="token function-variable function">onShareAppMessage</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Pa<span class="token punctuation">.</span><span class="token function">fire</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>abnormalStatus <span class="token operator">==</span> <span class="token boolean">true</span> <span class="token operator">?</span> <span class="token number">2523</span> <span class="token operator">:</span> <span class="token number">2531</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>openid<span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>from <span class="token operator">==</span> <span class="token string">&#39;button&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">var</span> title<span class="token operator">=</span><span class="token string">&quot;\u4F01\u4E1A\u4FE1\u7528\u7BA1\u5BB6&quot;</span>
      <span class="token keyword">var</span> path<span class="token operator">=</span><span class="token string">&quot;/pages/center/manageAbnormal/index&quot;</span>
      <span class="token keyword">var</span> imageUrl<span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">../../../img/center/manAbnormal/share-bg.png</span><span class="token template-punctuation string">\`</span></span>
      <span class="token keyword">return</span><span class="token punctuation">{</span>
        title<span class="token operator">:</span>title<span class="token punctuation">,</span>
        path<span class="token operator">:</span>path<span class="token punctuation">,</span>
        imageUrl<span class="token operator">:</span>imageUrl<span class="token punctuation">,</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">fail</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5206\u4EAB\u52A8\u6001\u56FE\u7247" tabindex="-1"><a class="header-anchor" href="#\u5206\u4EAB\u52A8\u6001\u56FE\u7247" aria-hidden="true">#</a> \u5206\u4EAB\u52A8\u6001\u56FE\u7247</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- \u5206\u4EAB\u56FE\u7247\u5F39\u7A97 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>shareImg<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{shareImgFlag}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>share-bg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{filter.buildStatic(<span class="token punctuation">&#39;</span>/center/debt/bg-img2.png<span class="token punctuation">&#39;</span>)}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text-box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>\u5DF2\u52A9\u529B<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{debt_total}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>\u7B14\u503A\u52A1\u8FFD\u56DE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code> <span class="token doc-comment comment">/**
   * \u81EA\u5B9A\u4E49\u5206\u4EAB\u5C0F\u7A0B\u5E8F
   * <span class="token keyword">@html</span>:  &lt;button data-name=&quot;shareBtn&quot; open-type=&quot;share&quot;&gt;&lt;/button&gt;
   * <span class="token keyword">@param</span> <span class="token parameter">from</span>: button:\u9875\u9762\u5185\u8F6C\u53D1\u6309\u94AE\uFF0Cmenu\u53F3\u4E0A\u89D2\u83DC\u5355\u8F6C\u53D1
   * <span class="token keyword">@param</span> <span class="token parameter">title</span>: \u8F6C\u53D1\u6807\u9898
   * <span class="token keyword">@param</span> <span class="token parameter">path</span>\uFF1A\u8F6C\u53D1\u8DEF\u5F84\uFF08\u5FC5\u987B\u5DF2/\u5F00\u5934\u5B8C\u6574\u8DEF\u5F84\uFF09
   * <span class="token keyword">@param</span> <span class="token parameter">imageUrl</span>: \u56FE\u7247\u8DEF\u5F84\u957F\u5BBD\u6BD45:4
   * <span class="token keyword">@param</span> <span class="token parameter">shareImgFlag</span>: \u5F39\u7A97\u56FE\u63A7\u5236
   */</span>
  <span class="token function-variable function">onShareAppMessage</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Pa<span class="token punctuation">.</span><span class="token function">fire</span><span class="token punctuation">(</span><span class="token number">3858</span><span class="token punctuation">)</span> <span class="token comment">// \u767B\u8BB0\u9875\u5206\u4EAB\u91CF\u603B\u548C</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span> shareImgFlag<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span> shareImgFlag<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>from <span class="token operator">==</span> <span class="token string">&#39;button&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">var</span> title<span class="token operator">=</span><span class="token string">&quot;\u503A\u52A1\u767B\u8BB0&quot;</span>
      <span class="token keyword">var</span> path<span class="token operator">=</span><span class="token string">&quot;/packageA/pages/center/debt/form/index&quot;</span>
      <span class="token keyword">return</span><span class="token punctuation">{</span>
        title<span class="token operator">:</span>title<span class="token punctuation">,</span>
        path<span class="token operator">:</span>path<span class="token punctuation">,</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">fail</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8F\u6570\u636E\u76D1\u542C\u5C01\u88C5-watch" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u6570\u636E\u76D1\u542C\u5C01\u88C5-watch" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u6570\u636E\u76D1\u542C\u5C01\u88C5 watch</h2><h3 id="\u76D1\u542C\u57FA\u672C\u6570\u636E\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#\u76D1\u542C\u57FA\u672C\u6570\u636E\u7C7B\u578B" aria-hidden="true">#</a> \u76D1\u542C\u57FA\u672C\u6570\u636E\u7C7B\u578B</h3><ul><li><code>app.js</code>\u6587\u4EF6</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// \u6570\u636E\u76D1\u542C\u5668</span>
  <span class="token function">initWatch</span><span class="token punctuation">(</span>_page<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>_page<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;\u672A\u68C0\u6D4B\u5230Page\u5BF9\u8C61,\u8BF7\u5C06\u5F53\u524Dpage\u4F20\u5165\u8BE5\u51FD\u6570&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>_page<span class="token punctuation">.</span>watch<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//\u5224\u65AD\u662F\u5426\u6709\u9700\u8981\u76D1\u542C\u7684\u5B57\u6BB5</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;\u672A\u68C0\u6D4B\u5230Page.watch\u5B57\u6BB5(\u5982\u679C\u4E0D\u9700\u8981\u76D1\u542C\uFF0C\u8BF7\u79FB\u9664initWatch\u7684\u8C03\u7528\u7247\u6BB5)&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> _dataKey <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>_page<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>_page<span class="token punctuation">.</span>watch<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_key<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">//\u904D\u5386\u9700\u8981\u76D1\u542C\u7684\u5B57\u6BB5</span>
      _page<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token string">&#39;__&#39;</span> <span class="token operator">+</span> _key<span class="token punctuation">]</span> <span class="token operator">=</span> _page<span class="token punctuation">.</span>data<span class="token punctuation">[</span>_key<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//\u5B58\u50A8\u76D1\u542C\u7684\u6570\u636E</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>_dataKey<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>_key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//\u5982\u679C\u8BE5\u5B57\u6BB5\u5B58\u5728\u4E8EPage.data\u4E2D\uFF0C\u8BF4\u660E\u5408\u6CD5</span>
        Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span>_page<span class="token punctuation">.</span>data<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token punctuation">[</span>_key<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">//\u88AB\u76D1\u542C\u7684\u5B57\u6BB5</span>
            enumerable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            configurable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">let</span> oldVal <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token string">&#39;__&#39;</span> <span class="token operator">+</span> _key<span class="token punctuation">]</span><span class="token punctuation">;</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">!==</span> oldVal<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//\u5982\u679C\u65B0\u8BBE\u7F6E\u7684\u503C\u4E0E\u539F\u503C\u4E0D\u7B49\uFF0C\u5219\u89E6\u53D1\u76D1\u542C\u51FD\u6570</span>
                <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//\u4E3A\u4E86\u540C\u6B65,\u5426\u5219\u5982\u679C\u56DE\u8C03\u51FD\u6570\u4E2D\u6709\u83B7\u53D6\u8BE5\u5B57\u6BB5\u503C\u6570\u636E\u65F6\u5C06\u4E0D\u540C\u6B65,\u83B7\u53D6\u5230\u7684\u662F\u65E7\u503C</span>
                  _page<span class="token punctuation">.</span>watch<span class="token punctuation">[</span>_key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>_page<span class="token punctuation">,</span> oldVal<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u8BBE\u7F6E\u76D1\u542C\u51FD\u6570\u7684\u4E0A\u4E0B\u6587\u5BF9\u8C61\u4E3A\u5F53\u524D\u7684Page\u5BF9\u8C61\u5E76\u6267\u884C</span>
                <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
              <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token string">&#39;__&#39;</span> <span class="token operator">+</span> _key<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token string">&#39;__&#39;</span> <span class="token operator">+</span> _key<span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;\u76D1\u542C\u7684\u5C5E\u6027[&#39;</span> <span class="token operator">+</span> _key <span class="token operator">+</span> <span class="token string">&#39;]\u5728Page.data\u4E2D\u672A\u627E\u5230\uFF0C\u8BF7\u68C0\u67E5~&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u4F7F\u7528\u65B9\u6CD5</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// \u521D\u59CB\u5316\u9700\u8981\u76D1\u542C\u7684\u5B57\u6BB5</span>
  <span class="token function-variable function">onLoad</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    app<span class="token punctuation">.</span><span class="token function">initWatch</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> 
  <span class="token punctuation">}</span>
  
  watch<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">//\u9700\u8981\u76D1\u542C\u7684\u5B57\u6BB5</span>
    <span class="token string-property property">&#39;showPop&#39;</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>value<span class="token operator">==</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span> isTiptrue<span class="token operator">:</span><span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span> isTiptrue<span class="token operator">:</span><span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u590D\u6742\u7C7B\u578B\u76D1\u542C" tabindex="-1"><a class="header-anchor" href="#\u590D\u6742\u7C7B\u578B\u76D1\u542C" aria-hidden="true">#</a> \u590D\u6742\u7C7B\u578B\u76D1\u542C</h3><ul><li>\u6A21\u5757\u5C01\u88C5<code>class.js</code></li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Watch</span><span class="token punctuation">{</span>
  <span class="token doc-comment comment">/**
   * 
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>*Object<span class="token punctuation">}</span> obj \u8981\u76D1\u542C\u7684\u96C6\u5408 
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>*String<span class="token punctuation">}</span> key \u8981\u76D1\u542C\u7684\u5B57\u6BB5
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>*Function<span class="token punctuation">}</span> fn \u53D1\u751F\u6539\u53D8\u4E4B\u540E\u901A\u77E5\u7684\u51FD\u6570
   */</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>key<span class="token punctuation">,</span>fn<span class="token punctuation">)</span><span class="token punctuation">{</span> 
      <span class="token keyword">this</span><span class="token punctuation">.</span>obj <span class="token operator">=</span> obj
      <span class="token keyword">this</span><span class="token punctuation">.</span>key <span class="token operator">=</span> key
      <span class="token keyword">this</span><span class="token punctuation">.</span>fn <span class="token operator">=</span> fn
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loop_</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token doc-comment comment">/**
   * loop_ \u662F\u4E3A\u4E86\u6DF1\u5EA6\u904D\u5386\u96C6\u5408\uFF0C\u6784\u9020\u6BCF\u4E00\u4E2A\u5B50\u96C6\u5408
   */</span>
  <span class="token function">loop_</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>obj<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>key<span class="token punctuation">]</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">==</span> <span class="token string">&#39;object&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
              <span class="token keyword">new</span> <span class="token class-name">Watch</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>fn<span class="token punctuation">)</span>  <span class="token comment">//\u904D\u5386\u5176\u4E0B\u6240\u6709\u96C6\u5408\uFF0C\u518D\u8FDB\u884C\u6784\u9020</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">define_</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>obj<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>key<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>fn<span class="token punctuation">)</span> <span class="token comment">//\u5F00\u59CB\u8FDB\u884C\u6570\u636E\u52AB\u6301 </span>
  <span class="token punctuation">}</span>

  <span class="token comment">//\u6570\u636E\u52AB\u6301</span>
  <span class="token function">define_</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>key<span class="token punctuation">,</span>fn<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">let</span> val <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
      Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>key<span class="token punctuation">,</span><span class="token punctuation">{</span>
          <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
              <span class="token keyword">return</span> val
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function">set</span><span class="token punctuation">(</span>new_<span class="token punctuation">)</span><span class="token punctuation">{</span>
              <span class="token comment">// \u6B64\u65F6\u7531\u4E8E\u6BCF\u4E2A\u5B50\u96C6\u5408\u90FD\u6302\u8F7D\u4E86fn,\u5E76\u4E14\u90FD\u6709\u4E86prototype\u5C5E\u6027\uFF0C</span>
              <span class="token comment">// \u5982\u679C\u65B0\u8BBE\u7F6E\u7684\u503C\u4E0E\u539F\u503C\u4E0D\u7B49\uFF0C\u5219\u89E6\u53D1\u76D1\u542C\u51FD\u6570</span>
              <span class="token keyword">if</span><span class="token punctuation">(</span>fn <span class="token operator">&amp;&amp;</span> val <span class="token operator">!==</span> new_<span class="token punctuation">)</span><span class="token function">fn</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span>new_<span class="token punctuation">)</span>  
              val <span class="token operator">=</span> new_  <span class="token comment">// \u6240\u4EE5\uFF0C\u6539\u53D8\u4EFB\u4F55\u4E00\u9879\u90FD\u4F1A\u8FDB\u884C\u901A\u77E5\u3002</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>


<span class="token keyword">export</span> <span class="token keyword">default</span> Watch<span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u4F7F\u7528\u65B9\u6CD5</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// \u5BFC\u5165class\u7C7B</span>
<span class="token keyword">import</span> Watch <span class="token keyword">from</span> <span class="token string">&#39;../class.js&#39;</span>

<span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    obj <span class="token operator">:</span><span class="token punctuation">{</span>
      melo<span class="token operator">:</span><span class="token punctuation">{</span>
          Denver<span class="token operator">:</span><span class="token punctuation">{</span>
            first<span class="token operator">:</span><span class="token number">95</span><span class="token punctuation">,</span>
           second<span class="token operator">:</span><span class="token number">92</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         Portland<span class="token operator">:</span><span class="token punctuation">{</span>
          first<span class="token operator">:</span><span class="token number">82</span><span class="token punctuation">,</span>
          second<span class="token operator">:</span><span class="token number">82</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// param1: \u76D1\u542C\u5BF9\u8C61, param2: \u76D1\u542C\u5BF9\u8C61\u5C5E\u6027\uFF0Cparam3: \u76D1\u542C\u540E\u56DE\u8C03\u51FD\u6570 </span>
      <span class="token comment">// var: \u65E7\u503C\uFF0Cnew_\uFF1A\u65B0\u503C </span>
      <span class="token keyword">new</span> <span class="token class-name">Watch</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>obj<span class="token punctuation">.</span>melo<span class="token punctuation">.</span>Portland<span class="token punctuation">,</span><span class="token string">&#39;second&#39;</span><span class="token punctuation">,</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span>new_<span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token operator">+</span><span class="token string">&#39;\u7684\u65B0\u503C\u662F\uFF1A&#39;</span><span class="token operator">+</span> new_<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  
  <span class="token comment">// \u6539\u53D8\u6570\u636E  </span>
  <span class="token function">addObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>obj<span class="token punctuation">.</span>melo<span class="token punctuation">.</span>Portland<span class="token punctuation">.</span>second<span class="token operator">++</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8F\u8FD4\u56DE\u4E0A\u4E00\u9875\u4F20\u53C2" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u8FD4\u56DE\u4E0A\u4E00\u9875\u4F20\u53C2" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u8FD4\u56DE\u4E0A\u4E00\u9875\u4F20\u53C2</h2><ul><li>A-B\u9875\u9762</li><li>A\u9875\u9762\u83B7\u53D6\u53C2\u6570</li><li></li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>  <span class="token keyword">var</span> pages <span class="token operator">=</span> <span class="token function">getCurrentPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> currPage <span class="token operator">=</span> pages<span class="token punctuation">[</span>pages<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token keyword">let</span> value <span class="token operator">=</span> currPage<span class="token punctuation">.</span>data<span class="token punctuation">.</span>backData <span class="token operator">||</span> <span class="token string">&#39;&#39;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>value <span class="token operator">==</span> <span class="token string">&#39;detail&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">var</span> pages <span class="token operator">=</span> <span class="token function">getCurrentPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">let</span> prevPage <span class="token operator">=</span> pages<span class="token punctuation">[</span>pages<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
      prevPage<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    
        backData<span class="token operator">:</span> <span class="token string">&#39;&#39;</span>   <span class="token comment">// \u6E05\u7A7A\u53C2\u6570</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      wx<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/packageA/pages/credit/detail2?digest=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>digest<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>A\u9875\u9762\u8DF3\u8F6C\u4E0B\u4E00\u9875\u4F20\u53C2\u6570\u636E\u7F6E\u7A7A</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token function">onUnload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> pages <span class="token operator">=</span> <span class="token function">getCurrentPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> prevPage <span class="token operator">=</span> pages<span class="token punctuation">[</span>pages<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span>
  prevPage<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    backData<span class="token operator">:</span> <span class="token string">&#39;&#39;</span>   <span class="token comment">// \u6E05\u7A7A\u53C2\u6570</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>B\u9875\u9762\u9500\u6BC1\u65F6\u7ED9\u4E0A\u4E00\u9875\u8BBE\u7F6E\u53C2\u6570</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>  <span class="token comment">// \u8FD4\u56DE\u4E0A\u4E00\u9875\u4F20\u53C2</span>
  <span class="token keyword">let</span> pages <span class="token operator">=</span> <span class="token function">getCurrentPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// \u83B7\u53D6\u5F53\u524D\u7684\u9875\u9762\u6808</span>
  <span class="token keyword">let</span> prevPage <span class="token operator">=</span> pages<span class="token punctuation">[</span>pages<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span>
  prevPage<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    
    backData<span class="token operator">:</span> <span class="token string">&#39;detail&#39;</span>   <span class="token comment">// \u9700\u8981\u4F20\u9012\u7684\u503C</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u8FDB\u5EA6\u7403\u6CE2\u6D6A\u52A8\u753B\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u8FDB\u5EA6\u7403\u6CE2\u6D6A\u52A8\u753B\u7EC4\u4EF6" aria-hidden="true">#</a> \u8FDB\u5EA6\u7403\u6CE2\u6D6A\u52A8\u753B\u7EC4\u4EF6</h2><p><img src="`+w+`" alt="\u56FE\u7247"></p><h3 id="canvas\u52A8\u753B\u7EC4" tabindex="-1"><a class="header-anchor" href="#canvas\u52A8\u753B\u7EC4" aria-hidden="true">#</a> canvas\u52A8\u753B\u7EC4</h3><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token doc-comment comment">/**
 * \u753B\u5E03\u7C7B\u65B9\u6CD5\u5C01\u88C5
 */</span>

<span class="token keyword">var</span> Canvas <span class="token operator">=</span> <span class="token punctuation">{</span> 

  <span class="token doc-comment comment">/**
   * canvas\u7ED8\u5236\u6CE2\u6D6A\u52A8\u753B\u8FDB\u5EA6\u7403\u63D2\u4EF6
   * <span class="token keyword">@description</span> :
   *  &lt;canvas canvas-id=&#39;canvasArcCir&#39; width=&#39;250&#39; height=&#39;250&#39;&gt;&lt;/canvas&gt;
   *  const ctx = wx.createCanvasContext(&#39;canvasArcCir&#39;)
   *  wave(ctx, 40);
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>*<span class="token punctuation">}</span> ctx : \u521B\u5EFA\u7684\u753B\u5E03 wx.createCanvasContext(&#39;canvasArcCir&#39;)
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>number<span class="token punctuation">}</span> oRange \uFF1A\u8FDB\u5EA6\u503C\uFF1A100 = 100%
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>number<span class="token punctuation">}</span> size \uFF1A\u8FDB\u5EA6\u7403\u5927\u5C0F
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string<span class="token punctuation">}</span> color \uFF1A\u8FDB\u5EA6\u7403\u989C\u8272 #892394
   * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string<span class="token punctuation">}</span> bgColor: \u8FDB\u5EA6\u7403\u80CC\u666F\u989C\u8272 #892394
   */</span>
  <span class="token function">wave</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> oRange<span class="token punctuation">,</span> size<span class="token punctuation">,</span> color<span class="token punctuation">,</span> bgColor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> tid<span class="token punctuation">;</span>
    <span class="token keyword">var</span> <span class="token constant">M</span> <span class="token operator">=</span> Math<span class="token punctuation">;</span>
    <span class="token keyword">var</span> Sin <span class="token operator">=</span> <span class="token constant">M</span><span class="token punctuation">.</span>sin<span class="token punctuation">;</span>
    <span class="token keyword">var</span> Cos <span class="token operator">=</span> <span class="token constant">M</span><span class="token punctuation">.</span>cos<span class="token punctuation">;</span>
    <span class="token keyword">var</span> Sqrt <span class="token operator">=</span> <span class="token constant">M</span><span class="token punctuation">.</span>sqrt<span class="token punctuation">;</span>
    <span class="token keyword">var</span> Pow <span class="token operator">=</span> <span class="token constant">M</span><span class="token punctuation">.</span>pow<span class="token punctuation">;</span>
    <span class="token keyword">var</span> <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token constant">M</span><span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> Round <span class="token operator">=</span> <span class="token constant">M</span><span class="token punctuation">.</span>round<span class="token punctuation">;</span>
    <span class="token keyword">var</span> oW <span class="token operator">=</span>  size <span class="token operator">?</span> size <span class="token operator">:</span> <span class="token number">150</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> oH <span class="token operator">=</span>  size <span class="token operator">?</span> size <span class="token operator">:</span> <span class="token number">150</span><span class="token punctuation">;</span>
    <span class="token comment">// \u7EBF\u5BBD</span>
    <span class="token keyword">var</span> lineWidth <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token comment">// \u5927\u534A\u5F84</span>
    <span class="token keyword">var</span> r <span class="token operator">=</span> <span class="token punctuation">(</span>oW <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> cR <span class="token operator">=</span> r <span class="token operator">-</span> <span class="token number">10</span> <span class="token operator">*</span> lineWidth<span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> lineWidth<span class="token punctuation">;</span>
    <span class="token comment">// \u6C34\u6CE2\u52A8\u753B\u521D\u59CB\u53C2\u6570</span>
    <span class="token keyword">var</span> axisLength <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> r <span class="token operator">-</span> <span class="token number">16</span> <span class="token operator">*</span> lineWidth<span class="token punctuation">;</span>  <span class="token comment">// Sin \u56FE\u5F62\u957F\u5EA6</span>
    <span class="token keyword">var</span> unit <span class="token operator">=</span> axisLength <span class="token operator">/</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">// \u6CE2\u6D6A\u5BBD</span>
    <span class="token keyword">var</span> range <span class="token operator">=</span> <span class="token number">.4</span> <span class="token comment">// \u6D6A\u5E45</span>
    <span class="token keyword">var</span> nowrange <span class="token operator">=</span> range<span class="token punctuation">;</span>
    <span class="token keyword">var</span> xoffset <span class="token operator">=</span> <span class="token number">8</span> <span class="token operator">*</span> lineWidth<span class="token punctuation">;</span> <span class="token comment">// x \u8F74\u504F\u79FB\u91CF</span>
    <span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token operator">~</span><span class="token operator">~</span><span class="token punctuation">(</span>oRange<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">;</span>   <span class="token comment">// \u6570\u636E\u91CF</span>
    <span class="token keyword">var</span> sp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// \u5468\u671F\u504F\u79FB\u91CF</span>
    <span class="token keyword">var</span> nowdata <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> waveupsp <span class="token operator">=</span> <span class="token number">0.006</span><span class="token punctuation">;</span> <span class="token comment">// \u6C34\u6CE2\u4E0A\u6DA8\u901F\u5EA6</span>
    <span class="token comment">// \u5706\u52A8\u753B\u521D\u59CB\u53C2\u6570</span>
    <span class="token keyword">var</span> arcStack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// \u5706\u6808</span>
    <span class="token keyword">var</span> bR <span class="token operator">=</span> r <span class="token operator">-</span> <span class="token number">8</span> <span class="token operator">*</span> lineWidth<span class="token punctuation">;</span>
    <span class="token keyword">var</span> soffset <span class="token operator">=</span> <span class="token operator">-</span><span class="token punctuation">(</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u5706\u52A8\u753B\u8D77\u59CB\u4F4D\u7F6E</span>
    <span class="token keyword">var</span> circleLock <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// \u8D77\u59CB\u52A8\u753B\u9501</span>
    <span class="token comment">// \u83B7\u53D6\u5706\u52A8\u753B\u8F68\u8FF9\u70B9\u96C6</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> soffset<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> soffset <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token constant">PI</span><span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">1</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">8</span> <span class="token operator">*</span> <span class="token constant">PI</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      arcStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        r <span class="token operator">+</span> bR <span class="token operator">*</span> <span class="token function">Cos</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span>
        r <span class="token operator">+</span> bR <span class="token operator">*</span> <span class="token function">Sin</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// \u5706\u8D77\u59CB\u70B9</span>
    <span class="token keyword">var</span> cStartPoint <span class="token operator">=</span> arcStack<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;#1c86d1&quot;</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>cStartPoint<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cStartPoint<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u5F00\u59CB\u6E32\u67D3</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**************\u5706\u5708\u5185\u90E8\u6E32\u67D3 *****************/</span>
    <span class="token keyword">function</span> <span class="token function">drawSine</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> Stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// \u8BB0\u5F55\u8D77\u59CB\u70B9\u548C\u7EC8\u70B9\u5750\u6807</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> xoffset<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> xoffset <span class="token operator">+</span> axisLength<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">20</span> <span class="token operator">/</span> axisLength<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> x <span class="token operator">=</span> sp <span class="token operator">+</span> <span class="token punctuation">(</span>xoffset <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token operator">/</span> unit<span class="token punctuation">;</span>
        <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token function">Sin</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">*</span> nowrange<span class="token punctuation">;</span>
        <span class="token keyword">var</span> dx <span class="token operator">=</span> i<span class="token punctuation">;</span>
        <span class="token keyword">var</span> dy <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> cR <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> nowdata<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>r <span class="token operator">-</span> cR<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token punctuation">(</span>unit <span class="token operator">*</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>dx<span class="token punctuation">,</span> dy<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span>dx<span class="token punctuation">,</span> dy<span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// \u83B7\u53D6\u521D\u59CB\u70B9\u548C\u7ED3\u675F\u70B9</span>
      <span class="token keyword">var</span> startP <span class="token operator">=</span> Stack<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
      <span class="token keyword">var</span> endP <span class="token operator">=</span> Stack<span class="token punctuation">[</span>Stack<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
      ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>xoffset <span class="token operator">+</span> axisLength<span class="token punctuation">,</span> oW<span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>xoffset<span class="token punctuation">,</span> oW<span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>startP<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> startP<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token doc-comment comment">/******** \u5713\u5708\u5167\u90E8\u984F\u8272 ********/</span>
      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> color <span class="token operator">?</span> color <span class="token operator">:</span> <span class="token string">&quot;#4D6DE3&quot;</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/***************** \u5B57\u4F53\u914D\u7F6E ********************/</span>
    <span class="token keyword">function</span> <span class="token function">drawText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ctx<span class="token punctuation">.</span>globalCompositeOperation <span class="token operator">=</span> <span class="token string">&#39;source-over&#39;</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> size <span class="token operator">=</span> <span class="token number">0.5</span> <span class="token operator">*</span> cR<span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">&#39;bold &#39;</span> <span class="token operator">+</span> size <span class="token operator">+</span> <span class="token string">&#39;px Microsoft Yahei&#39;</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token punctuation">(</span>nowdata<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// var txt = number+ &#39;%&#39;;</span>
      <span class="token keyword">var</span> txt <span class="token operator">=</span> <span class="token string">&#39;\u826F\u597D&#39;</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> fonty <span class="token operator">=</span> r <span class="token operator">+</span> size <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> fontx <span class="token operator">=</span> r <span class="token operator">-</span> size <span class="token operator">*</span> <span class="token number">0.8</span><span class="token punctuation">;</span>
      <span class="token doc-comment comment">/******** \u5B57\u4F53\u989C\u8272 *******/</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token builtin">number</span> <span class="token operator">&gt;=</span> <span class="token number">50</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
        ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#FFFFFF&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">else</span><span class="token punctuation">{</span>
        ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#FFFFFF&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      ctx<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token string">&#39;center&#39;</span><span class="token punctuation">;</span>
      <span class="token comment">// ctx.strokeText(txt,r + 0, r + 8);</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span>txt<span class="token punctuation">,</span> r <span class="token operator">+</span> <span class="token number">0</span><span class="token punctuation">,</span> r <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/**************** \u8FB9\u6846\u5706\u5708 *****************/</span>
    <span class="token keyword">function</span> <span class="token function">grayCircle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token doc-comment comment">/******* \u8FB9\u6846\u989C\u8272 *******/</span>
      ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> color <span class="token operator">?</span> color <span class="token operator">:</span> <span class="token string">&#39;#4D6DE3&#39;</span><span class="token punctuation">;</span>
      <span class="token doc-comment comment">/*** cR-x\u63A7\u5236\u8FB9\u6846\u5927\u5C0F ***/</span>
      ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> r<span class="token punctuation">,</span> cR <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/********** \u8FDB\u5EA6\u7403\u80CC\u666F *********/</span>
    <span class="token keyword">function</span> <span class="token function">drawCircle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> bgColor <span class="token operator">?</span> bgColor <span class="token operator">:</span> <span class="token string">&#39;#2d4059&#39;</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> r<span class="token punctuation">,</span> cR <span class="token operator">+</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span>fillStyle<span class="token operator">=</span> bgColor <span class="token operator">?</span> bgColor <span class="token operator">:</span> <span class="token string">&quot;#2d4059&quot;</span><span class="token punctuation">;</span><span class="token comment">//\u8BBE\u7F6E\u586B\u5145\u989C\u8272</span>
      ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//\u5F00\u59CB\u586B\u5145</span>
      ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/********* \u5916\u6846\u8FDB\u5EA6\u5708-render\u4E2D\u8C03\u7528 **********/</span>
    <span class="token comment">//\u4F7F\u7528\u8FD9\u4E2A\u4F7F\u5706\u73AF\u4E24\u7AEF\u662F\u5706\u5F27\u5F62\u72B6</span>
    <span class="token keyword">function</span> <span class="token function">orangeCircle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&#39;#fbdb32&#39;</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span>lineCap <span class="token operator">=</span> <span class="token string">&#39;round&#39;</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> r<span class="token punctuation">,</span> cR <span class="token operator">-</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token operator">*</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">180.0</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>nowdata <span class="token operator">*</span> <span class="token number">360</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">180.0</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/************** \u4E2D\u95F4\u6C34\u5708\u5927\u5C0F\u88C1\u526A **************/</span>
    <span class="token keyword">function</span> <span class="token function">clipCircle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> r<span class="token punctuation">,</span> cR <span class="token operator">-</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/************* \u6267\u884C\u6E32\u67D3canvas ***************/</span>
    <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">abortAnimationFrame</span><span class="token punctuation">(</span>tid<span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> oW<span class="token punctuation">,</span> oH<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">drawCircle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// \u5706\u5708\u8FB9\u6846</span>
      <span class="token comment">// grayCircle();</span>
      <span class="token comment">//\u88C1\u526A\u4E2D\u95F4\u6C34\u5708</span>
      <span class="token function">clipCircle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// \u63A7\u5236\u6CE2\u5E45</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">&gt;=</span> <span class="token number">0.85</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nowrange <span class="token operator">&gt;</span> range <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> t <span class="token operator">=</span> range <span class="token operator">*</span> <span class="token number">0.01</span><span class="token punctuation">;</span>
          nowrange <span class="token operator">-=</span> t<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">&lt;=</span> <span class="token number">0.1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nowrange <span class="token operator">&lt;</span> range <span class="token operator">*</span> <span class="token number">1.5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> t <span class="token operator">=</span> range <span class="token operator">*</span> <span class="token number">0.01</span><span class="token punctuation">;</span>
          nowrange <span class="token operator">+=</span> t<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nowrange <span class="token operator">&lt;=</span> range<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> t <span class="token operator">=</span> range <span class="token operator">*</span> <span class="token number">0.01</span><span class="token punctuation">;</span>
          nowrange <span class="token operator">+=</span> t<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nowrange <span class="token operator">&gt;=</span> range<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> t <span class="token operator">=</span> range <span class="token operator">*</span> <span class="token number">0.01</span><span class="token punctuation">;</span>
          nowrange <span class="token operator">-=</span> t<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>data <span class="token operator">-</span> nowdata<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        nowdata <span class="token operator">+=</span> waveupsp<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>data <span class="token operator">-</span> nowdata<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        nowdata <span class="token operator">-=</span> waveupsp
      <span class="token punctuation">}</span>
      <span class="token doc-comment comment">/************ \u63A7\u5236\u6CE2\u6D6A\u5E45\u5EA6 *************/</span>
      sp <span class="token operator">+=</span> <span class="token number">0.07</span><span class="token punctuation">;</span>
      <span class="token comment">// \u5F00\u59CB\u6C34\u6CE2\u52A8\u753B</span>
      <span class="token function">drawSine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// \u5199\u5B57</span>
      <span class="token function">drawText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      tid <span class="token operator">=</span> <span class="token function">doAnimationFrame</span><span class="token punctuation">(</span>render<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> lastFrameTime <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">// \u6A21\u62DF requestAnimationFrame</span>
    <span class="token keyword">function</span> <span class="token function">doAnimationFrame</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> currTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> timeToCall <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">16</span> <span class="token operator">-</span> <span class="token punctuation">(</span>currTime <span class="token operator">-</span> lastFrameTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> id <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">callback</span><span class="token punctuation">(</span>currTime <span class="token operator">+</span> timeToCall<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> timeToCall<span class="token punctuation">)</span><span class="token punctuation">;</span>
      lastFrameTime <span class="token operator">=</span> currTime <span class="token operator">+</span> timeToCall<span class="token punctuation">;</span>
      <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// \u6A21\u62DF cancelAnimationFrame</span>
    <span class="token keyword">function</span> <span class="token function">abortAnimationFrame</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> Canvas<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u4F7F\u7528\u65B9\u6CD5</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">canvas-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>canvasArcCir<span class="token punctuation">&#39;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>250<span class="token punctuation">&#39;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>250<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token comment">// \u521B\u5EFA\u52A8\u753B\u8FDB\u5EA6\u7403</span>
  <span class="token keyword">const</span> ctx <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">createCanvasContext</span><span class="token punctuation">(</span><span class="token string">&#39;canvasArcCir&#39;</span><span class="token punctuation">)</span> <span class="token comment">// \u8FDB\u5EA6\u7403\u753B\u5E03</span>
  <span class="token keyword">let</span> oRange <span class="token operator">=</span> <span class="token number">50</span> <span class="token comment">// \u8FDB\u5EA6\u503C</span>
  <span class="token keyword">let</span> size <span class="token operator">=</span> <span class="token number">100</span> <span class="token comment">// \u5C3A\u5BF8\u5927\u5C0F</span>
  <span class="token keyword">let</span> color <span class="token operator">=</span>  <span class="token string">&#39;#f4b24e&#39;</span> <span class="token comment">// \u8FDB\u5EA6\u7403\u989C\u8272</span>
  <span class="token keyword">let</span> bgColor <span class="token operator">=</span>  <span class="token string">&#39;#f4d29c&#39;</span> <span class="token comment">// \u8FDB\u5EA6\u7403\u80CC\u666F\u989C\u8272</span>

  Canvas<span class="token punctuation">.</span><span class="token function">wave</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> oRange<span class="token punctuation">,</span> size<span class="token punctuation">,</span> color<span class="token punctuation">,</span> bgColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u9759\u6001\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u9759\u6001\u7EC4\u4EF6" aria-hidden="true">#</a> \u9759\u6001\u7EC4\u4EF6</h3><p><img src="`+x+`" alt="\u56FE\u7247"></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>percent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>percentNum<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>percentB<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>%<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>water_wave<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>water<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token selector">transform:</span><span class="token punctuation">{</span><span class="token punctuation">{</span>transform<span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span> 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>water_wave<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">body</span> <span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #020438<span class="token punctuation">;</span>
    <span class="token property">font</span><span class="token punctuation">:</span> 14px/1 <span class="token string">&#39;Open Sans&#39;</span><span class="token punctuation">,</span> helvetica<span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
    <span class="token property">-webkit-font-smoothing</span><span class="token punctuation">:</span> antialiased<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.box</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 280px<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 280px<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #020438<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.box .percent</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">z-index</span><span class="token punctuation">:</span> 3<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> -webkit-box<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> -ms-flexbox<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> -webkit-flex<span class="token punctuation">;</span>
    <span class="token property">-webkit-box-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">-webkit-align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">-ms-flex-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">-webkit-box-pack</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">-webkit-justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">-ms-flex-pack</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 64px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.box .water</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">z-index</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #4D6DE3<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>data<span class="token operator">:</span> <span class="token punctuation">{</span>
    count<span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
    transform<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>

  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  
 <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      transform<span class="token operator">:</span> <span class="token string">&#39;translate(0&#39;</span> <span class="token operator">+</span> <span class="token string">&#39;,&#39;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;%)&#39;</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="svg\u7248\u672C-\u5C0F\u7A0B\u5E8F\u4E0D\u652F\u6301" tabindex="-1"><a class="header-anchor" href="#svg\u7248\u672C-\u5C0F\u7A0B\u5E8F\u4E0D\u652F\u6301" aria-hidden="true">#</a> svg\u7248\u672C(\u5C0F\u7A0B\u5E8F\u4E0D\u652F\u6301)</h3><p><img src="`+q+`" alt="\u56FE\u7247"></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://wow.techbrood.com/libs/jquery/jquery-1.11.1.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.w3.org/2000/svg<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xlink</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.w3.org/1999/xlink<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0px<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0px<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>symbol</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wave<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>M420,20c21.5-0.4,38.8-2.5,51.1-4.5c13.4-2.2,26.5-5.2,27.3-5.4C514,6.5,518,4.7,528.5,2.7c7.1-1.3,17.9-2.8,31.5-2.7c0,0,0,0,0,0v20H420z<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>M420,20c-21.5-0.4-38.8-2.5-51.1-4.5c-13.4-2.2-26.5-5.2-27.3-5.4C326,6.5,322,4.7,311.5,2.7C304.3,1.4,293.6-0.1,280,0c0,0,0,0,0,0v20H420z<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>M140,20c21.5-0.4,38.8-2.5,51.1-4.5c13.4-2.2,26.5-5.2,27.3-5.4C234,6.5,238,4.7,248.5,2.7c7.1-1.3,17.9-2.8,31.5-2.7c0,0,0,0,0,0v20H140z<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>M140,20c-21.5-0.4-38.8-2.5-51.1-4.5c-13.4-2.2-26.5-5.2-27.3-5.4C46,6.5,42,4.7,31.5,2.7C24.3,1.4,13.6-0.1,0,0c0,0,0,0,0,0l0,20H140z<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>symbol</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>percent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>percentNum<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>percentB<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>%<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>water<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>water<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0 0 560 20<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>water_wave water_wave_back<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#wave<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>use</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0 0 560 20<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>water_wave water_wave_front<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#wave<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>use</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">*,
*:before,
*:after</span> <span class="token punctuation">{</span>
    <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
    <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">body</span> <span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #020438<span class="token punctuation">;</span>
    <span class="token property">font</span><span class="token punctuation">:</span> 14px/1 <span class="token string">&#39;Open Sans&#39;</span><span class="token punctuation">,</span> helvetica<span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
    <span class="token property">-webkit-font-smoothing</span><span class="token punctuation">:</span> antialiased<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.box</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 280px<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 280px<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #020438<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.box .percent</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">z-index</span><span class="token punctuation">:</span> 3<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> -webkit-box<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> -ms-flexbox<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> -webkit-flex<span class="token punctuation">;</span>
    <span class="token property">-webkit-box-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">-webkit-align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">-ms-flex-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">-webkit-box-pack</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">-webkit-justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">-ms-flex-pack</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 64px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.box .water</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">z-index</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #4D6DE3<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.box .water_wave</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200%<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">bottom</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.box .water_wave_back</span> <span class="token punctuation">{</span>
    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">fill</span><span class="token punctuation">:</span> #C7EEFF<span class="token punctuation">;</span>
    <span class="token property">-webkit-animation</span><span class="token punctuation">:</span> wave-back 1.4s infinite linear<span class="token punctuation">;</span>
    <span class="token property">animation</span><span class="token punctuation">:</span> wave-back 1.4s infinite linear<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.box .water_wave_front</span> <span class="token punctuation">{</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">fill</span><span class="token punctuation">:</span> #4D6DE3<span class="token punctuation">;</span>
    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> -1px<span class="token punctuation">;</span>
    <span class="token property">-webkit-animation</span><span class="token punctuation">:</span> wave-front .7s infinite linear<span class="token punctuation">;</span>
    <span class="token property">animation</span><span class="token punctuation">:</span> wave-front .7s infinite linear<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@-webkit-keyframes</span> wave-front</span> <span class="token punctuation">{</span>
    <span class="token selector">100%</span> <span class="token punctuation">{</span>
        <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@keyframes</span> wave-front</span> <span class="token punctuation">{</span>
    <span class="token selector">100%</span> <span class="token punctuation">{</span>
        <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@-webkit-keyframes</span> wave-back</span> <span class="token punctuation">{</span>
    <span class="token selector">100%</span> <span class="token punctuation">{</span>
        <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>50%<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>50%<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@keyframes</span> wave-back</span> <span class="token punctuation">{</span>
    <span class="token selector">100%</span> <span class="token punctuation">{</span>
        <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>50%<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>50%<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">var</span> cnt <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;count&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> water <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;water&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> percent <span class="token operator">=</span> cnt<span class="token punctuation">.</span>innerText<span class="token punctuation">;</span>
<span class="token keyword">var</span> interval<span class="token punctuation">;</span>
    percent<span class="token operator">=</span><span class="token number">60</span><span class="token punctuation">;</span>
    cnt<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> percent<span class="token punctuation">;</span>
    water<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">&#39;translate(0&#39;</span> <span class="token operator">+</span> <span class="token string">&#39;,&#39;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">-</span> percent<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;%)&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8F\u6D88\u606F\u8BA2\u9605" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u6D88\u606F\u8BA2\u9605" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u6D88\u606F\u8BA2\u9605</h2><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token doc-comment comment">/**
 * \u6253\u5F00\u8BA2\u9605\u6D88\u606F
 */</span>
<span class="token function">openSubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  wx<span class="token punctuation">.</span><span class="token function">requestSubscribeMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment">// \u8BA2\u9605\u6D88\u606F\u5F39\u7A97</span>
    tmplIds<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;kBsiZNoVwdn6Oib9R1w.....&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;0V9iOrE-ffYnuuMKo1Zc-4PcB......&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function">success</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> ids <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
      <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token keyword">in</span> res<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">==</span><span class="token string">&#39;accept&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          ids <span class="token operator">+=</span> k<span class="token operator">+</span><span class="token string">&#39;,&#39;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>ids<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// \u8BA2\u9605\u6210\u529F</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token comment">// \u53D6\u6D88\u8BA2\u9605</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8F\u5F39\u7A97\u6DE1\u5165\u6DE1\u51FA" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u5F39\u7A97\u6DE1\u5165\u6DE1\u51FA" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u5F39\u7A97\u6DE1\u5165\u6DE1\u51FA</h2><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pay-box<span class="token punctuation">&quot;</span></span> <span class="token attr-name">animation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{ani}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.pay-box</span><span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> -500px<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 20rpx 20rpx 0 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token doc-comment comment">/**
 * \u76D1\u542C\u8282\u70B9--\u5728\u9875\u9762\u521D\u6B21\u6E32\u67D3\u5B8C\u6210
 * \u9875\u9762\u5B8C\u5168\u6E32\u67D3\u5B8C\u4E4B\u524D\u8C03\u7528boundingClientRect\u4F1A\u6709\u5F02\u5E38
 */</span>
<span class="token function-variable function">onReady</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> query <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">createSelectorQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  query<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">&#39;.pay-box&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">boundingClientRect</span><span class="token punctuation">(</span>rect <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//\u7ED9\u9875\u9762\u8D4B\u503C</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      Bottom<span class="token operator">:</span> rect<span class="token punctuation">.</span>height <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>


<span class="token doc-comment comment">/**
 * \u6DE1\u5165\u6DE1\u51FA\u65B9\u6CD5\u5C01\u88C5
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>number<span class="token punctuation">}</span> value: 
 */</span>
<span class="token function">openAnimation</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> animation <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">createAnimation</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
    timingFunction<span class="token operator">:</span> <span class="token string">&#39;ease&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  animation<span class="token punctuation">.</span><span class="token function">bottom</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    ani<span class="token operator">:</span> animation<span class="token punctuation">.</span><span class="token function">export</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>


<span class="token doc-comment comment">/****************\u5355\u72EC\u6848\u4F8B*****************/</span>
  <span class="token comment">// \u5F39\u7A97</span>
  <span class="token keyword">var</span> animation <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">createAnimation</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
    timingFunction<span class="token operator">:</span> <span class="token string">&#39;ease&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  animation<span class="token punctuation">.</span><span class="token function">bottom</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    ani<span class="token operator">:</span>  animation<span class="token punctuation">.</span><span class="token function">export</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  
  
  <span class="token comment">// \u5173\u95ED</span>
  <span class="token keyword">var</span> animation <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">createAnimation</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
    timingFunction<span class="token operator">:</span> <span class="token string">&#39;ease&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  animation<span class="token punctuation">.</span><span class="token function">bottom</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    ani<span class="token operator">:</span> animation<span class="token punctuation">.</span><span class="token function">export</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8F\u5F39\u9875\u9762\u81EA\u52A8\u6EDA\u52A8\u52A8\u753B" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u5F39\u9875\u9762\u81EA\u52A8\u6EDA\u52A8\u52A8\u753B" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u5F39\u9875\u9762\u81EA\u52A8\u6EDA\u52A8\u52A8\u753B</h2><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// \u4E2A\u4EBA\u4E2D\u5FC3\u8FD4\u56DE\u9996\u9875\u67E5\u4FE1\u7528\u72B6\u6001,\u8DF3\u8F6C\u5230\u9996\u98751/3\u4F4D\u7F6E</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>toArchives <span class="token operator">==</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> me <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> query <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">createSelectorQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">in</span><span class="token punctuation">(</span>me<span class="token punctuation">)</span><span class="token punctuation">;</span>
    query<span class="token punctuation">.</span><span class="token function">selectViewport</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    query<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">&quot;#myArchives&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">boundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u5B9A\u4F4D\u5230\u7684id\u4F4D\u7F6E</span>
    query<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> miss <span class="token operator">=</span> res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>scrollTop <span class="token operator">+</span> res<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>top <span class="token operator">-</span> <span class="token number">10</span><span class="token punctuation">;</span>
      wx<span class="token punctuation">.</span><span class="token function">pageScrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        scrollTop<span class="token operator">:</span> miss<span class="token punctuation">,</span>
        duration<span class="token operator">:</span> <span class="token number">1000</span> <span class="token comment">// \u6EDA\u52A8\u52A8\u753B\u65F6\u95F4</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8F\u6587\u4EF6\u9884\u89C8" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u6587\u4EF6\u9884\u89C8" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u6587\u4EF6\u9884\u89C8</h2><ul><li>doc.pdf\u7B49\u6587\u6863\u9884\u89C8</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>  <span class="token doc-comment comment">/**
   * \u9884\u89C8\u6587\u4EF6
   * <span class="token keyword">@param</span> <span class="token parameter">urlFile</span>:\u6587\u4EF6\u4E0B\u8F7D\u5730\u5740
   * <span class="token keyword">@param</span> <span class="token parameter">type</span>:\u6587\u4EF6\u7C7B\u578B
   * <span class="token keyword">@param</span> <span class="token parameter">fileType</span>: \u9884\u89C8\u6587\u4EF6\u7C7B\u578B
   * <span class="token keyword">@param</span> <span class="token parameter">success</span>: \u9884\u89C8\u6210\u529F\u56DE\u8C03
   * <span class="token keyword">@param</span> <span class="token parameter">fail</span>: \u9884\u89C8\u5931\u8D25\u56DE\u8C03
   * <span class="token keyword">@param</span> <span class="token parameter">filePath</span>\uFF1A\u672C\u5730\u7F13\u5B58\u865A\u62DF\u8BBF\u95EE\u5730\u5740\uFF1A\u5927\u5C0F10MB\u4EE5\u5185
   */</span>
  <span class="token function">toViewFile</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> type <span class="token operator">=</span>  event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span><span class="token keyword">type</span>
    <span class="token class-name"><span class="token keyword">if</span></span><span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">var</span> urlFile <span class="token operator">=</span> <span class="token string">&#39;https://staticcdn.shuidi.cn/wiki/\u79FB\u51FA\u7ECF\u8425\u5F02\u5E38\u540D\u5F55\u7533\u8BF7\u8868.doc&#39;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">var</span> urlFile <span class="token operator">=</span> <span class="token string">&#39;https://staticcdn.shuidi.cn/wiki/\u5217\u5165\u7ECF\u8425\u5F02\u5E38\u540D\u5F55\u5F02\u8BAE\u7533\u8BF7\u4E66.doc&#39;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">var</span> urlFile <span class="token operator">=</span> <span class="token string">&#39;https://staticcdn.shuidi.cn/wiki/\u4E2A\u4F53\u5DE5\u5546\u6237\u6062\u590D\u6B63\u5E38\u8BB0\u8F7D\u72B6\u6001\u7533\u8BF7\u8868.doc&#39;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">var</span> urlFile <span class="token operator">=</span> <span class="token string">&#39;https://staticcdn.shuidi.cn/wiki/\u4F01\u4E1A\u6307\u5B9A\u4EE3\u8868\u6216\u8005\u59D4\u6258\u4EE3\u7406\u4EBA\u7684\u8BC1\u660E\u4E66.doc&#39;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// \u6587\u4EF6\u4E0B\u8F7D</span>
    wx<span class="token punctuation">.</span><span class="token function">downloadFile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      url<span class="token operator">:</span> urlFile<span class="token punctuation">,</span>
      <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> filePath <span class="token operator">=</span> res<span class="token punctuation">.</span>tempFilePath
          <span class="token comment">// \u6587\u4EF6\u9884\u89C8</span>
          wx<span class="token punctuation">.</span><span class="token function">openDocument</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              filePath<span class="token operator">:</span> filePath<span class="token punctuation">,</span>
              fileType<span class="token operator">:</span> <span class="token string">&#39;doc&#39;</span><span class="token punctuation">,</span> 
              <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token function-variable function">fail</span><span class="token operator">:</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8F\u5206\u5305\u52A0\u8F7D" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u5206\u5305\u52A0\u8F7D" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u5206\u5305\u52A0\u8F7D</h2><ul><li><code>app.json</code>\u914D\u7F6E</li></ul><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;pages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;pages/center/index&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;subpackages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;root&quot;</span><span class="token operator">:</span> <span class="token string">&quot;packageA&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;pages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;pages/activity/index&quot;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;root&quot;</span><span class="token operator">:</span> <span class="token string">&quot;packageA&quot;</span><span class="token punctuation">,</span> 
      <span class="token property">&quot;pages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;pages/activity/index&quot;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5206\u5305\u6587\u4EF6\u7ED3\u6784 <img src="`+_+`" alt="\u56FE\u7247"></li></ul><h2 id="\u5C0F\u7A0B\u5E8F\u8DEF\u7531\u548C\u4F20\u53C2" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u8DEF\u7531\u548C\u4F20\u53C2" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u8DEF\u7531\u548C\u4F20\u53C2</h2><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>\u7B2C\u4E00\u79CD\uFF1Awx.navigateTo(); \u6709\u9875\u9762\u6808\u6808\uFF0C\u6839\u636E\u7D2F\u52A0\u8DEF\u7531\u6808\u6216\u8005\u7EC4\u4EF6\u7236\u7EA7\u8DEF\u5F84\u8DF3\u8F6C \u7B2C\u4E8C\u79CD\uFF1Arouter.navigateTo(); \u65E0\u9875\u9762\u6808\uFF0C\u7EDD\u5BF9\u8DEF\u5F84\u8DF3\u8F6C\uFF1B\u83B7\u5F97\u7684\u8DEF\u7531\u5668\u5BF9\u8C61\u66F4\u597D\u7684\u57FA\u8DEF\u5F84\u7A33\u5B9A\u6027</p></div><h3 id="\u8DEF\u7531api" tabindex="-1"><a class="header-anchor" href="#\u8DEF\u7531api" aria-hidden="true">#</a> \u8DEF\u7531api</h3><ul><li><code>navigateTo</code> \u4FDD\u7559\u5F53\u524D\u9875\u9762\uFF0C\u8DF3\u8F6C\u5230\u5176\u4ED6\u9875\u9762\uFF0C\u53EF\u4F7F\u7528<code>wx.navigateBack</code>\u8FD4\u56DE\u539F\u9875\u9762</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>wx<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  	url<span class="token operator">:</span> <span class="token string">&#39;page/home/home&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>navigateBack</code> \u5173\u95ED\u5F53\u524D\u9875\u9762\uFF0C\u8FD4\u56DE\u4E0A\u4E00\u7EA7\u9875\u9762\u6216\u8005\u591A\u7EA7\u9875\u9762\uFF0C\u53EF\u901A\u8FC7<code>getCurrentPages()</code>\u83B7\u53D6\u5F53\u524D\u9875\u9762\u6808\u5E8F\u53F7</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>wx<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token operator">:</span> <span class="token string">&#39;page/news/news&#39;</span><span class="token comment">// \u9875\u9762 A</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
wx<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token operator">:</span> <span class="token string">&#39;page/detail/detail&#39;</span><span class="token comment">// \u9875\u9762 B</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// \u8DF3\u8F6C\u5230\u9875\u9762 A</span>
wx<span class="token punctuation">.</span><span class="token function">navigateBack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  delta<span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// \u8DF3\u8F6C\u5230\u4E0A\u4E00\u9875</span>
wx<span class="token punctuation">.</span><span class="token function">navigateBack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  delta<span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>redirectTo</code> \u5173\u95ED\u5F53\u524D\u9875\u9762\uFF0C\u8DF3\u8F6C\u5230\u5E94\u7528\u5185\u7684\u67D0\u4E2A\u9875\u9762\u3002</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>wx<span class="token punctuation">.</span><span class="token function">redirectTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token operator">:</span> <span class="token string">&#39;page/home/home&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>switchTab</code> \u8DF3\u8F6C\u5230tabBar\u9875\u9762\uFF08\u5728<code>app.json</code>\u4E2D\u6CE8\u518C\u8FC7\u7684tabBar\u9875\u9762\uFF09\uFF0C\u540C\u65F6\u5173\u95ED\u5176\u4ED6\u975EtabBar\u9875\u9762\u3002<strong>\u4E0D\u53EF\u4F20\u53C2</strong></li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>wx<span class="token punctuation">.</span><span class="token function">switchTab</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token operator">:</span> <span class="token string">&#39;page/index/index&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>reLanch</code> \u5173\u95ED\u6240\u6709\u9875\u9762\uFF0C\u6253\u5F00\u5230\u5E94\u7528\u5185\u7684\u67D0\u4E2A\u9875\u9762\u3002</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>wx<span class="token punctuation">.</span><span class="token function">reLanch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token operator">:</span> <span class="token string">&#39;page/home/home?user_id=111&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="navigator\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#navigator\u7EC4\u4EF6" aria-hidden="true">#</a> navigator\u7EC4\u4EF6</h3><ul><li>\u8BBE\u7F6E open-type \u4FEE\u6539\u8DEF\u7531\u7C7B\u578B</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>// \u8DF3\u8F6C\u5230\u65B0\u9875\u9762
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>navigator</span> 
     <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/page/navigate/navigate?title=navigate<span class="token punctuation">&quot;</span></span>
     <span class="token attr-name">hover-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navigator-hover<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>navigator</span><span class="token punctuation">&gt;</span></span>

//\u5728\u5F53\u524D\u9875\u6253\u5F00
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>navigator</span>
        <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../../home/home<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">open-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>redirect<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">hover-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>other-navigator-hover<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>navigator</span><span class="token punctuation">&gt;</span></span>

//\u5207\u6362 Tab
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>navigator</span>
        <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/page/index/index<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">open-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>switchTab<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">hover-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>other-navigator-hover<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>navigator</span><span class="token punctuation">&gt;</span></span>

//\u5173\u95ED\u6240\u6709\u9875\u9762\uFF0C\u6253\u5F00\u5230\u5E94\u7528\u5185\`\u7684\u67D0\u4E2A\u9875\u9762
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>navigator</span>
        <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../../login/login<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">open-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>redirect<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">hover-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>other-navigator-hover<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>navigator</span><span class="token punctuation">&gt;</span></span>

//\u5173\u95ED\u5F53\u524D\u9875\u9762\uFF0C\u8FD4\u56DE\u4E0A\u4E00\u7EA7\u9875\u9762\u6216\u591A\u7EA7\u9875\u9762
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>navigator</span>
        <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/page/index/index<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">open-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navigateBack<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">hover-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>other-navigator-hover<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>navigator</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u8DEF\u7531\u8DF3\u8F6C\u4F20\u53C2" tabindex="-1"><a class="header-anchor" href="#\u8DEF\u7531\u8DF3\u8F6C\u4F20\u53C2" aria-hidden="true">#</a> \u8DEF\u7531\u8DF3\u8F6C\u4F20\u53C2</h3><ul><li>\u57FA\u672C\u7C7B\u578B\u4F20\u53C2</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">//\u4F20\u9012\u4E00\u4E2A\u53C2\u6570</span>
wx<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">../detail/detail?name=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//\u4F20\u9012\u591A\u4E2A\u53C2\u6570</span>
wx<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">../detail/detail?name=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;&amp;id=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u4F7F\u7528JSON\u5B57\u7B26\u4E32\u4F20\u53C2\u590D\u6742\u7C7B\u578B</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">//\u4F20\u9012\u5BF9\u8C61</span>
<span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
    a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
wx<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  	url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">page/home/home?user=$(JSON.stringify(user))</span><span class="token template-punctuation string">\`</span></span><span class="token comment">//\u5C06\u5BF9\u8C61\u8F6C\u6362\u6210json\u5B57\u7B26\u4E32</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//\u5728\u63A5\u6536\u9875\u9762onLoad\u65B9\u6CD5\u4E2D\u83B7\u53D6\u53C2\u6570</span>
<span class="token function-variable function">onLoad</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> user<span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u89E3\u6790json\u5B57\u7B26\u4E32\u4E3A\u5BF9\u8C61</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;user &quot;</span><span class="token operator">+</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8F\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u548C\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u548C\u4F7F\u7528" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u548C\u4F7F\u7528</h2><h3 id="\u7EC4\u4EF6\u4F20\u53C2" tabindex="-1"><a class="header-anchor" href="#\u7EC4\u4EF6\u4F20\u53C2" aria-hidden="true">#</a> \u7EC4\u4EF6\u4F20\u53C2</h3><ul><li>\u521B\u5EFA\u56DB\u4E2A\u57FA\u7840\u9875\u9762 json wxml wxss js 4\u4E2A\u6587\u4EF6\u7EC4\u6210</li><li>\u9996\u5148\u9700\u8981\u5728 json \u6587\u4EF6\u4E2D\u8FDB\u884C\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u58F0\u660E\uFF08\u5C06 component \u5B57\u6BB5\u8BBE\u4E3A true \u53EF\u5C06\u8FD9\u4E00\u7EC4\u6587\u4EF6\u8BBE\u4E3A\u81EA\u5B9A\u4E49\u7EC4\u4EF6\uFF09\uFF1A</li></ul><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;component&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>wxml\u5B9A\u4E49\u7EC4\u4EF6</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inner<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  {{innerText}}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u7236\u5B50\u7EC4\u4EF6\u4F20\u503C\u2014\u7236\u4F20\u5B50" tabindex="-1"><a class="header-anchor" href="#\u7236\u5B50\u7EC4\u4EF6\u4F20\u503C\u2014\u7236\u4F20\u5B50" aria-hidden="true">#</a> \u7236\u5B50\u7EC4\u4EF6\u4F20\u503C\u2014\u7236\u4F20\u5B50</h3><ul><li>js\u6587\u4EF6\u4E2D<code>properties</code>\u5C5E\u6027\u5B9A\u4E49\u5B50\u7EC4\u4EF6\u63A5\u53C2\uFF0C\u76F8\u5F53\u4E8Evue\u4E2D\u7684<code>props[]</code></li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  properties<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8FD9\u91CC\u5B9A\u4E49\u4E86innerText\u5C5E\u6027\uFF0C\u5C5E\u6027\u503C\u53EF\u4EE5\u5728\u7EC4\u4EF6\u4F7F\u7528\u65F6\u6307\u5B9A</span>
    innerText<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> String<span class="token punctuation">,</span>
      value<span class="token operator">:</span> <span class="token string">&#39;default value&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    commentCount<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> Number<span class="token punctuation">,</span>
      value<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    commentItem<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> Object<span class="token punctuation">,</span>
      value<span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8FD9\u91CC\u662F\u4E00\u4E9B\u7EC4\u4EF6\u5185\u90E8\u6570\u636E</span>
    someData<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8FD9\u91CC\u662F\u4E00\u4E2A\u81EA\u5B9A\u4E49\u65B9\u6CD5</span>
    <span class="token function-variable function">customMethod</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>page\u5185\u4F7F\u7528\u7EC4\u4EF6json\u6587\u4EF6\u4E2D\u6CE8\u5165</li></ul><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;usingComponents&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;component-tag-name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;path/to/the/custom/component&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u7EC4\u4EF6\u5185\u4F20\u503C</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- \u4EE5\u4E0B\u662F\u5BF9\u4E00\u4E2A\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u7684\u5F15\u7528 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component-tag-name</span> <span class="token attr-name">inner-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Some text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">innerText</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u4F20\u503C<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component-tag-name</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u7236\u5B50\u7EC4\u4EF6\u4F20\u503C\u2014\u5B50\u4F20\u7236" tabindex="-1"><a class="header-anchor" href="#\u7236\u5B50\u7EC4\u4EF6\u4F20\u503C\u2014\u5B50\u4F20\u7236" aria-hidden="true">#</a> \u7236\u5B50\u7EC4\u4EF6\u4F20\u503C\u2014\u5B50\u4F20\u7236</h3><ul><li>\u5B50\u7EC4\u4EF6\uFF0C\u4F7F\u7528 <code>triggerEvent</code> \u4E8B\u4EF6\u4F20\u9012</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>twoLevelCommentBtnClick<span class="token punctuation">&#39;</span></span> <span class="token attr-name">data-author-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u4F20\u503C\u5185\u5BB9<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>methods<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u70B9\u51FB\u8BC4\u8BBA\u6309\u94AE</span>
  <span class="token function-variable function">twoLevelCommentBtnClick</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> authorName <span class="token operator">=</span> e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>authorName<span class="token punctuation">;</span>
    <span class="token comment">// \u8D4B\u503C\u7ED9\u4E8B\u4EF6</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">triggerEvent</span><span class="token punctuation">(</span><span class="token string">&quot;twoLevelCommentBtn&quot;</span><span class="token punctuation">,</span> authorName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u7236\u7EC4\u4EF6\uFF0C \u901A\u8FC7 <code>bind:</code> \u4E8B\u4EF6\u63A5\u6536\u5B50\u4E8B\u4EF6\u4F20\u9012\u7684\u53C2\u6570</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>comment</span> 
    <span class="token attr-name">commentCount</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>{{commentList.length}}<span class="token punctuation">&#39;</span></span>
    <span class="token attr-name">commentItem</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>{{item}}<span class="token punctuation">&#39;</span></span> 
    <span class="token attr-name"><span class="token namespace">bind:</span>twoLevelCommentBtn</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>twoLevelCommentBtnClick<span class="token punctuation">&#39;</span></span> <span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>comment</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token function">twoLevelCommentBtnClick</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    placeholderInput<span class="token operator">:</span> e<span class="token punctuation">.</span>detail
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  consoleUtil<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u70B9\u51FB\u4E8C\u7EA7\u8BC4\u8BBA\u6309\u94AE\uFF1A&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u7EC4\u4EF6\u5185\u8DEF\u7531\u8DF3\u8F6C" tabindex="-1"><a class="header-anchor" href="#\u7EC4\u4EF6\u5185\u8DEF\u7531\u8DF3\u8F6C" aria-hidden="true">#</a> \u7EC4\u4EF6\u5185\u8DEF\u7531\u8DF3\u8F6C</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>\u4F7F\u7528\u76F8\u5BF9\u8DEF\u5F84\uFF1A \u76F8\u5BF9\u7236\u7EC4\u4EF6\u4F4D\u7F6E\u8DF3\u8F6C\uFF1B</p></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// \u7EDD\u5BF9\u8DEF\u5F84\u8DF3\u8F6C</span>
wx<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  	url<span class="token operator">:</span> <span class="token string">&#39;/page/home/home&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u76F8\u5BF9\u8DEF\u5F84\u8DF3\u8F6C</span>
wx<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  	url<span class="token operator">:</span> <span class="token string">&#39;../dir/page/home/home&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="input\u8F93\u5165\u8054\u60F3" tabindex="-1"><a class="header-anchor" href="#input\u8F93\u5165\u8054\u60F3" aria-hidden="true">#</a> input\u8F93\u5165\u8054\u60F3</h2><p><img src="`+C+`" alt="\u56FE\u7247"></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weui-input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{company_name}}<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">bindinput</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getCompanyList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u9700\u5F00\u7968\u7684\u4F01\u4E1A\u540D\u79F0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scroll-view</span> <span class="token attr-name">scroll-y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scrollview<span class="token punctuation">&quot;</span></span> <span class="token attr-name">hidden</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{hideScroll}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{bindSourceList}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{item.company_name_digest}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>itemView<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{item.credit_no}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>itemtap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{item}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item.company_name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scroll-view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.scrollview</span><span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span>330rpx<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 5<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 446rpx<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 320rpx<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #ffffff<span class="token punctuation">;</span>
  <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 5rpx 20rpx 0 
    <span class="token function">rgba</span><span class="token punctuation">(</span>153<span class="token punctuation">,</span> 153<span class="token punctuation">,</span> 153<span class="token punctuation">,</span> 0.3<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 12rpx<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 2rpx solid  #eeeeee<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.scrollview .itemView</span><span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 70rpx<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 70rpx<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0 20rpx<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 28rpx<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #333333<span class="token punctuation">;</span>
  <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code> <span class="token doc-comment comment">/**
 * \u4F01\u4E1A\u8054\u60F3\u8BF7\u6C42
 * <span class="token keyword">@param</span> <span class="token parameter">company_name</span>\uFF1A\u53D1\u7968\u62AC\u5934
 * <span class="token keyword">@param</span> <span class="token parameter">key</span>: \u8F93\u5165\u503C\u4F20\u53C2
 * <span class="token keyword">@param</span> <span class="token parameter">bindSourceList</span>\uFF1A\u8054\u60F3\u8FD4\u56DE\u5217\u8868
 * <span class="token keyword">@param</span> <span class="token parameter">hideScroll</span>\uFF1A\u8054\u60F3\u5F39\u7A97\u6253\u5F00
 */</span>
<span class="token function">getCompanyList</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// \u8868\u5355\u53CC\u5411\u7ED1\u5B9A</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    company_name<span class="token operator">:</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>value
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  
  <span class="token keyword">let</span> key <span class="token operator">=</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token string">&quot;&quot;</span>
  http<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>config<span class="token punctuation">.</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/b-search?action=company_name_notice&amp;key=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
    method<span class="token operator">:</span> <span class="token string">&quot;post&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      bindSourceList<span class="token operator">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>company_list<span class="token punctuation">,</span>
      hideScroll<span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>


<span class="token doc-comment comment">/**
 * \u8868\u5355\u53CC\u5411\u7ED1\u5B9A
 * <span class="token keyword">@param</span> <span class="token parameter">credit_no</span>\uFF1A \u7A0E\u53F7
 * <span class="token keyword">@param</span> <span class="token parameter">phone</span>: \u7535\u8BDD\u53F7\u7801
 * <span class="token keyword">@param</span> <span class="token parameter">email</span>: \u90AE\u7BB1
 */</span>
<span class="token function">getCredit</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    credit_no<span class="token operator">:</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>value
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">getPhone</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    phone<span class="token operator">:</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>value
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">getEmail</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    email<span class="token operator">:</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>value
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>


 <span class="token doc-comment comment">/**
 * \u9009\u4E2D\u8054\u60F3\u4F01\u4E1A\u8D4B\u503C
 * <span class="token keyword">@param</span> <span class="token parameter">company_name</span>\uFF1A\u516C\u53F8\u540D
 * <span class="token keyword">@param</span> <span class="token parameter">credit_no</span>: \u516C\u53F8\u7A0E\u53F7
 * <span class="token keyword">@param</span> <span class="token parameter">digest</span>\uFF1A\u4F01\u4E1A\u552F\u4E00\u6807\u8BC6
 * <span class="token keyword">@param</span> <span class="token parameter">hideScroll</span>: \u5173\u95ED\u8054\u60F3
 */</span>
<span class="token function">itemtap</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    company_name<span class="token operator">:</span> event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>type<span class="token punctuation">.</span>company_name<span class="token punctuation">,</span>
    credit_no<span class="token operator">:</span> event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>type<span class="token punctuation">.</span>credit_no<span class="token punctuation">,</span>
    digest<span class="token operator">:</span> event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>type<span class="token punctuation">.</span>digest<span class="token punctuation">,</span>
    hideScroll<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8F\u81EA\u5B9A\u4E49\u5BFC\u822A\u680F" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u81EA\u5B9A\u4E49\u5BFC\u822A\u680F" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u81EA\u5B9A\u4E49\u5BFC\u822A\u680F</h2><h3 id="\u5BFC\u822A\u680F\u5206\u6790" tabindex="-1"><a class="header-anchor" href="#\u5BFC\u822A\u680F\u5206\u6790" aria-hidden="true">#</a> \u5BFC\u822A\u680F\u5206\u6790</h3><ul><li>\u5BFC\u822A\u680F\u6574\u4F53\u7684\u9AD8\u5EA6 = <strong>\uFF08\u72B6\u6001\u680F\u9AD8\u5EA6 + \u5BFC\u822A\u680F\u9AD8\u5EA6\uFF09</strong></li><li>\u72B6\u6001\u680F\u9AD8\u5EA6\u53EF\u4EE5\u901A\u8FC7 <code>wx.getSystemInfo()</code> \u83B7\u53D6</li><li>\u5BFC\u822A\u680F\u9AD8\u5EA6 = <strong>\u80F6\u56CA\u9AD8\u5EA6 +\uFF08\u80F6\u56CA\u548C\u5BFC\u822A\u680F\u4E4B\u95F4margin\u503C\uFF09x 2</strong></li><li>\u80F6\u56CA\u4FE1\u606F\u53EF\u4EE5\u901A\u8FC7 <code>wx.getMenuButtonBoundingClientRect()</code> \u83B7\u53D6</li><li><code>wx.getMenuButtonBoundingClientRect()</code> \u4E2D\u4E5F\u8FD4\u56DE\u4E86\u80F6\u56CA\u9876\u90E8\u8DDD\u5C4F\u5E55\u9876\u90E8\u8DDD\u79BB\u7684\u4FE1\u606F</li><li>\u9AD8\u5EA6\u5DEE = <strong>\u80F6\u56CA\u9876\u90E8\u8DDD\u5C4F\u5E55\u9876\u90E8\u8DDD\u79BB - \u72B6\u6001\u680F\u9AD8\u5EA6</strong></li></ul><h3 id="\u5BFC\u822A\u680F\u56FE\u89E3" tabindex="-1"><a class="header-anchor" href="#\u5BFC\u822A\u680F\u56FE\u89E3" aria-hidden="true">#</a> \u5BFC\u822A\u680F\u56FE\u89E3</h3><p><img src="`+S+'" alt="\u56FE\u7247"><img src="'+D+`" alt="\u56FE\u7247"></p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code> // \u80F6\u56CA\u80CC\u666F\u8272\u3001\u8FB9\u6846
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> .15<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> solid 2rpx  <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> .25<span class="token punctuation">)</span><span class="token punctuation">;</span>
 // \u80F6\u56CA\u4E2D\u5212\u7EBF
  <span class="token property">width</span><span class="token punctuation">:</span> 2rpx<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> .25<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 34rpx<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u7EC4\u4EF6\u5C01\u88C5" tabindex="-1"><a class="header-anchor" href="#\u7EC4\u4EF6\u5C01\u88C5" aria-hidden="true">#</a> \u7EC4\u4EF6\u5C01\u88C5</h3><ul><li>app.js</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  globalData<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">onLaunch</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//\u83B7\u53D6\u7CFB\u7EDF\u4FE1\u606F</span>
    wx<span class="token punctuation">.</span><span class="token function">getSystemInfo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token function-variable function">success</span><span class="token operator">:</span> res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>system <span class="token operator">=</span> res
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">//\u83B7\u53D6\u80F6\u56CA\u4FE1\u606F</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>menu <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">getMenuButtonBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">//\u6253\u5370\u6570\u636E</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u7CFB\u7EDF\u4FE1\u606F&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>system<span class="token punctuation">)</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u80F6\u56CA\u4FE1\u606F&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>menu<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u7EC4\u4EF6\u4EE3\u7801</li><li><code>cover-view</code>\u6807\u7B7E\u5185\u5FC5\u987B\u5D4C\u5957<code>cover</code>\u6807\u7B7E\uFF0C\u5426\u8005\u53EF\u80FD\u771F\u673A\u65E0\u6548\u6216\u8005\u62A5\u9519</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!--
  @description: \u81EA\u5B9A\u4E49\u5BFC\u822A\u680F\u7EC4\u4EF6
  @author: hhd (2021-07-06)
  @update: 
--&gt;</span>

<span class="token comment">&lt;!-- 
  @description: \u7EC4\u4EF6\u4F7F\u7528\u8BF4\u660E
  \u5C5E  \u6027          \u7C7B  \u578B      \u9ED8\u8BA4\u503C          \u662F\u5426\u5FC5\u586B      \u8BF4  \u660E
  navColor        string     #dd3239         \u5426           \u5BFC\u822A\u680F\u80CC\u666F\u989C\u8272\u8BBE\u7F6E
  title           string     \u7A7A              \u5426           \u5BFC\u822A\u680F\u6807\u9898\u8BBE\u7F6E
  titleColor      string     #fff            \u5426           \u5BFC\u822A\u680F\u6807\u9898\u989C\u8272\u8BBE\u7F6E
  titlePlace      string     title-center    \u5426           \u6807\u9898\u4F4D\u7F6E\u8BBE\u7F6E\uFF0C\u5C45\u4E2D\uFF1Atitle-center \uFF0C\u5DE6\u5BF9\u9F50\uFF1Atitle-left
  navType         string     1               \u5426           \u5BFC\u822A\u680F\u7C7B\u578B, \u8FD4\u56DE\u4E0A\u4E00\u9875\uFF1A1\uFF0C\u53CC\u6309\u94AE\uFF1A2\uFF0C\u8FD4\u56DE\u9996\u9875\uFF1A3
--&gt;</span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cover-view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nav-box<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token selector">background-color:</span><span class="token punctuation">{</span><span class="token punctuation">{</span>navColor<span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cover-view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>status-bar<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token selector">height:</span><span class="token punctuation">{</span><span class="token punctuation">{</span>statusHeight<span class="token punctuation">}</span><span class="token punctuation">}</span>px</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cover-view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cover-view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nav-bar<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token selector">height:</span><span class="token punctuation">{</span><span class="token punctuation">{</span>navHeight<span class="token punctuation">}</span><span class="token punctuation">}</span>px</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- \u5BFC\u822A\u680F\u8FD4\u56DE-\u4E0A\u4E00\u9875 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{navType == 1}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cover-view</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>back<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cover-image</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img-back<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../../img/center/personal/personal-back.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cover-image</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cover-view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- \u5BFC\u822A\u680F\u8FD4\u56DE-\u53CC\u6309\u94AE --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{navType == 2}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cover-view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>back<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token selector">height:</span><span class="token punctuation">{</span><span class="token punctuation">{</span>menuHeight<span class="token punctuation">}</span><span class="token punctuation">}</span>px<span class="token punctuation">;</span> <span class="token selector">border-radius:</span> <span class="token punctuation">{</span><span class="token punctuation">{</span>menuHeight*0.5<span class="token punctuation">}</span><span class="token punctuation">}</span>px</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cover-view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>back<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cover-image</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../../img/center/personal/personal-back.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cover-image</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cover-view</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cover-view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>line<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cover-view</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cover-view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>backHome<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cover-image</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../../img/center/personal/back-home.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cover-image</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cover-view</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cover-view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- \u5BFC\u822A\u680F\u8FD4\u56DE-\u9996\u9875--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{navType == 3}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cover-view</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>backHome<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>back-home<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token selector">height:</span> <span class="token punctuation">{</span><span class="token punctuation">{</span>menuHeight<span class="token punctuation">}</span><span class="token punctuation">}</span>px<span class="token punctuation">;</span> <span class="token selector">width:</span> <span class="token punctuation">{</span><span class="token punctuation">{</span>menuHeight<span class="token punctuation">}</span><span class="token punctuation">}</span>px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cover-image</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img-home<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../../img/center/personal/back-home.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cover-image</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cover-view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- \u5BFC\u822A\u680F\u6807\u9898 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cover-view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{titlePlace}}<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token selector">color:</span><span class="token punctuation">{</span><span class="token punctuation">{</span>titleColor<span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>{{navTitle}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cover-view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cover-view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cover-view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* \u7EC4\u4EF6\u76D2\u5B50 */</span>
<span class="token selector">.nav-box</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 750rpx<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 32rpx<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* \u5BFC\u822A\u680F */</span>
<span class="token selector">.nav-box .nav-bar</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0 30rpx<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* \u5BFC\u822A\u680F\u6309\u94AE-\u8FD4\u56DE\u4E0A\u4E00\u9875 */</span>
<span class="token selector">.img-back</span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 16rpx<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* \u5BFC\u822A\u680F\u6309\u94AE-\u8FD4\u56DE\u9996\u9875*/</span>
<span class="token selector">.back-home</span><span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> .15<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> solid 2rpx  <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> .25<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.img-home</span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 28rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* \u8FD4\u56DE\u6309\u94AE-\u53CC\u6309\u94AE */</span>
<span class="token selector">.nav-bar .back</span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 175rpx<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> .15<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> solid 2rpx  <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> .25<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.back .left</span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 87rpx<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.left .img1</span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 12rpx<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 22rpx<span class="token punctuation">;</span>
 
<span class="token punctuation">}</span>
<span class="token selector">.back .line</span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 2rpx<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> .25<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 34rpx<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.back .right</span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 87rpx<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.right .img2</span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 28rpx<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 26rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* \u6807\u9898\u5C45\u4E2D\uFF1A\u9ED8\u8BA4 */</span>
<span class="token selector">.nav-bar .title-center</span><span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* \u6807\u9898\u5C45\u4E2D */</span>
<span class="token selector">.nav-bar .title-left</span><span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">getApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token doc-comment comment">/**
   * \u7EC4\u4EF6\u7684\u5C5E\u6027\u5217\u8868
   * Created by hhd on 2021-07-06, \u81EA\u5B9A\u4E49\u5BFC\u822A\u680F\u7EC4\u4EF6
   * <span class="token keyword">@param</span> <span class="token parameter">navTitle</span>: \u5BFC\u822A\u680F\u6807\u9898
   * <span class="token keyword">@param</span> <span class="token parameter">navColor</span>: \u5BFC\u822A\u680F\u80CC\u666F\u989C\u8272
   * <span class="token keyword">@param</span> <span class="token parameter">titleColor</span>: \u5BFC\u822A\u680F\u6807\u9898\u989C\u8272
   * <span class="token keyword">@param</span> <span class="token parameter">titlePlace</span>: \u5BFC\u822A\u680F\u6807\u9898\u4F4D\u7F6E\uFF1A\u5C45\u4E2D\uFF1Atitle-center\uFF0C\u5DE6\u5BF9\u9F50\uFF1Atitle-left
   * <span class="token keyword">@param</span> <span class="token parameter">navType</span>: \u5BFC\u822A\u680F\u7C7B\u578B\uFF0C\u8FD4\u56DE\u4E0A\u4E00\u9875\uFF1A1\uFF0C\u53CC\u6309\u94AE\uFF1A2\uFF0C\u8FD4\u56DE\u9996\u9875\uFF1A3
   */</span>
  properties<span class="token operator">:</span> <span class="token punctuation">{</span>
    navTitle<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> String<span class="token punctuation">,</span>
      value<span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    navColor<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> String<span class="token punctuation">,</span>
      value<span class="token operator">:</span> <span class="token string">&#39;#dd3239&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    titleColor<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> String<span class="token punctuation">,</span>
      value<span class="token operator">:</span> <span class="token string">&#39;#fff&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    titlePlace<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> String<span class="token punctuation">,</span>
      value<span class="token operator">:</span> <span class="token string">&#39;title-center&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    navType<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> String<span class="token punctuation">,</span>
      value<span class="token operator">:</span> <span class="token string">&#39;1&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token doc-comment comment">/**
   * \u7EC4\u4EF6\u7684\u521D\u59CB\u6570\u636E
   * <span class="token keyword">@param</span> <span class="token parameter">statusHeight</span>: \u72B6\u6001\u680F\u9AD8\u5EA6
   * <span class="token keyword">@param</span> <span class="token parameter">navHeight</span>: \u822A\u680F\u9AD8\u5EA6
   * <span class="token keyword">@param</span> <span class="token parameter">menuHeight</span>: \u80F6\u56CA\u9AD8\u5EA6
   */</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u6B64\u5904\u4F7F\u7528\u539F\u6709\u63A5\u53C2globalData.navigation\u4EE3\u66FFsystem</span>
    statusHeight<span class="token operator">:</span> app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>navigation<span class="token punctuation">.</span>statusBarHeight <span class="token punctuation">,</span>
    navHeight<span class="token operator">:</span> <span class="token punctuation">(</span>app<span class="token punctuation">.</span>menu<span class="token punctuation">.</span>top <span class="token operator">-</span> app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>navigation<span class="token punctuation">.</span>statusBarHeight<span class="token punctuation">)</span> 
    <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> app<span class="token punctuation">.</span>menu<span class="token punctuation">.</span>height<span class="token punctuation">,</span> 
    menuHeight<span class="token operator">:</span> app<span class="token punctuation">.</span>menu<span class="token punctuation">.</span>height<span class="token punctuation">,</span> 
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token doc-comment comment">/**
   * \u7EC4\u4EF6\u7684\u65B9\u6CD5\u5217\u8868
   */</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * \u8FD4\u56DE\u9996\u9875
     * \u7EC4\u4EF6\u5185\u4F7F\u7528\u8DEF\u5F84\uFF1A/pages/center/index
     */</span>
    <span class="token function">backHome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      wx<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token string">&#39;/pages/center/index&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>


    <span class="token doc-comment comment">/**
     * \u8FD4\u56DE\u4E0A\u4E00\u9875
     */</span>
    <span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      wx<span class="token punctuation">.</span><span class="token function">navigateBack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        delta<span class="token operator">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u7EC4\u4EF6\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#\u7EC4\u4EF6\u4F7F\u7528" aria-hidden="true">#</a> \u7EC4\u4EF6\u4F7F\u7528</h3><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;navigationStyle&quot;</span><span class="token operator">:</span><span class="token string">&quot;custom&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;usingComponents&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;navgation-bar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;../../../mycomponents/navgation-bar&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- \u81EA\u5B9A\u4E49\u5BFC\u822A\u680F\u7EC4\u4EF6 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>navgation-bar</span> <span class="token attr-name">navTitle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u7ECF\u8425\u5F02\u5E38\u79FB\u51FA<span class="token punctuation">&quot;</span></span> <span class="token attr-name">navType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>navgation-bar</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8F\u590D\u5236\u6587\u672C\u5230\u5230\u7C98\u8D34\u677F" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u590D\u5236\u6587\u672C\u5230\u5230\u7C98\u8D34\u677F" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u590D\u5236\u6587\u672C\u5230\u5230\u7C98\u8D34\u677F</h2><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token doc-comment comment">/**
 * \u590D\u5236\u94FE\u63A5\u5230\u7C98\u8D34\u677F
 */</span>
<span class="token function">copyHref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> href <span class="token operator">=</span> <span class="token string">&quot;http://www.gsxt.gov.cn/&quot;</span><span class="token punctuation">;</span>
  wx<span class="token punctuation">.</span><span class="token function">setClipboardData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    data<span class="token operator">:</span> href<span class="token punctuation">,</span>
    <span class="token function-variable function">success</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
      wx<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        title<span class="token operator">:</span> <span class="token string">&#39;\u590D\u5236\u6210\u529F&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">fail</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
      wx<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        title<span class="token operator">:</span> <span class="token string">&#39;\u590D\u5236\u5931\u8D25&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8F\u591A\u9009\u5217\u8868\u5F00\u53D1\u7968\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u591A\u9009\u5217\u8868\u5F00\u53D1\u7968\u7EC4\u4EF6" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u591A\u9009\u5217\u8868\u5F00\u53D1\u7968\u7EC4\u4EF6</h2><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>checkbox-group</span>  <span class="token attr-name">bindchange</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkboxChange<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{invoiceList}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{item.order_no}}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>check<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>checkbox</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{item.order_no}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{item.checked}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>time<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item.add_time}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>price<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item.price}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>\u5143<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>status<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u672A\u7533\u8BF7\u5F00\u7968<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>checkbox-group</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/*  \u91CD\u5199 checkbox \u6837\u5F0F  */</span>
<span class="token comment">/* \u672A\u9009\u4E2D\u7684 \u80CC\u666F\u6837\u5F0F */</span>
<span class="token selector">checkbox .wx-checkbox-input</span><span class="token punctuation">{</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span><span class="token comment">/* \u5706\u89D2 */</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span> <span class="token comment">/* \u80CC\u666F\u7684\u5BBD */</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span> <span class="token comment">/* \u80CC\u666F\u7684\u9AD8 */</span>
<span class="token punctuation">}</span>
<span class="token comment">/* \u9009\u4E2D\u540E\u7684 \u80CC\u666F\u6837\u5F0F \uFF08\u7EA2\u8272\u80CC\u666F \u65E0\u8FB9\u6846 \u53EF\u6839\u636EUI\u9700\u6C42\u81EA\u5DF1\u4FEE\u6539\uFF09 */</span>
<span class="token selector">checkbox .wx-checkbox-input.wx-checkbox-input-checked</span><span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #1ec56a<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* \u9009\u4E2D\u540E\u7684 \u5BF9\u52FE\u6837\u5F0F \uFF08\u767D\u8272\u5BF9\u52FE\uFF09 */</span>
<span class="token selector">checkbox .wx-checkbox-input.wx-checkbox-input-checked::before</span><span class="token punctuation">{</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span><span class="token comment">/* \u5706\u89D2 */</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span><span class="token comment">/* \u9009\u4E2D\u540E\u5BF9\u52FE\u5927\u5C0F\uFF0C\u4E0D\u8981\u8D85\u8FC7\u80CC\u666F\u7684\u5C3A\u5BF8 */</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span><span class="token comment">/* \u9009\u4E2D\u540E\u5BF9\u52FE\u5927\u5C0F\uFF0C\u4E0D\u8981\u8D85\u8FC7\u80CC\u666F\u7684\u5C3A\u5BF8 */</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span>30rpx<span class="token punctuation">;</span> <span class="token comment">/* \u5BF9\u52FE\u5927\u5C0F 30rpx */</span>
  <span class="token property">color</span><span class="token punctuation">:</span>#fff<span class="token punctuation">;</span> <span class="token comment">/* \u5BF9\u52FE\u989C\u8272 \u767D\u8272 */</span>
  <span class="token property">background</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span> <span class="token function">scale</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">-webkit-transform</span><span class="token punctuation">:</span><span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span> <span class="token function">scale</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>  <span class="token comment">// \u6DFB\u52A0\u52FE\u9009\u53C2\u6570\uFF1A\u9ED8\u8BA4\u5168\u9009</span>
 <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>un_apply<span class="token punctuation">)</span><span class="token punctuation">{</span>
   item<span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token boolean">true</span>
 <span class="token punctuation">}</span>
     
  <span class="token doc-comment comment">/**
   * \u5217\u8868\u591A\u9009\u6837\u5F0F\u63A7\u5236
   * <span class="token keyword">@param</span> <span class="token parameter">checkOrderList</span>  values: \u9009\u4E2D\u5217\u8868order_no\u96C6
   * <span class="token keyword">@param</span> <span class="token parameter">invoiceList</span>: \u5F85\u5F00\u7968\u5217\u8868
   * <span class="token keyword">@param</span> <span class="token parameter">checked</span>: \u662F\u5426\u52FE\u9009\u72B6\u6001
   */</span>
  <span class="token function">checkboxChange</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u9009\u4E2D\u5217\u8868order_no List</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span> checkOrderList<span class="token operator">:</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>invoiceList
    <span class="token keyword">const</span> values <span class="token operator">=</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>value
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> lenI <span class="token operator">=</span> items<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lenI<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token boolean">false</span>

      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> lenJ <span class="token operator">=</span> values<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j <span class="token operator">&lt;</span> lenJ<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>order_no <span class="token operator">===</span> values<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token boolean">true</span>
          <span class="token keyword">break</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// \u52FE\u9009\u64CD\u4F5C\u540E\u8D4B\u503Cchecked\u72B6\u6001</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      invoiceList<span class="token operator">:</span> items
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  
  <span class="token comment">// \u5408\u8BA1\u603B\u91D1\u989D</span>
  <span class="token keyword">let</span> total <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">let</span> order_ids <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>invoiceList<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>checked <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      total <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token operator">+</span>item<span class="token punctuation">.</span>price<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span> totalPrice<span class="token operator">:</span> total <span class="token punctuation">}</span><span class="token punctuation">)</span> 
  
  <span class="token comment">// order_no\u9009\u4E2D\u8BA2\u5355id\u62FC\u63A5</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>checkOrderList<span class="token punctuation">)</span><span class="token punctuation">{</span>
    order_ids <span class="token operator">+=</span> item <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span> order_ids<span class="token operator">:</span> order_ids <span class="token punctuation">}</span><span class="token punctuation">)</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8F\u4F7F\u7528canvas\u65CB\u8F6C\u56FE\u7247" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u4F7F\u7528canvas\u65CB\u8F6C\u56FE\u7247" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u4F7F\u7528canvas\u65CB\u8F6C\u56FE\u7247</h2><div class="custom-container tip"><p class="custom-container-title">\u601D\u8DEF</p><p>\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684<code>canvas</code>\u753B\u5E03\uFF0C\u9690\u85CF\u5230\u5C4F\u5E55\u5916\uFF0C\u505A\u65CB\u8F6C\u5904\u7406\uFF1B</p></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> 
      <span class="token attr-name">canvas-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>canvas<span class="token punctuation">&quot;</span></span> 
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token selector">width:</span><span class="token punctuation">{</span><span class="token punctuation">{</span>imageWidth<span class="token punctuation">}</span><span class="token punctuation">}</span>px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">{</span>imageHeight<span class="token punctuation">}</span><span class="token punctuation">}</span>px<span class="token punctuation">;</span><span class="token property">position</span><span class="token punctuation">:</span>absolute<span class="token punctuation">;</span><span class="token property">top</span><span class="token punctuation">:</span>200%</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code> <span class="token doc-comment comment">/**
   * base64\u56FE\u7247\u65CB\u8F6C
   * <span class="token keyword">@param</span> <span class="token parameter">src</span> \u56FE\u7247\u6587\u4EF6
   * <span class="token keyword">@param</span> <span class="token parameter">edg</span> \u56FE\u7247\u65CB\u8F6C\u89D2\u5EA6\uFF1A\u5FC5\u987B\u662F90\u7684\u500D\u6570
   */</span>
  <span class="token function">rotateBase64Img</span><span class="token punctuation">(</span>src<span class="token punctuation">,</span> edg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    wx<span class="token punctuation">.</span><span class="token function">getImageInfo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      src<span class="token operator">:</span> src<span class="token punctuation">,</span>
      <span class="token function-variable function">success</span><span class="token operator">:</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
          <span class="token keyword">let</span> canvasContext <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">createCanvasContext</span><span class="token punctuation">(</span><span class="token string">&#39;canvas&#39;</span><span class="token punctuation">)</span>
          <span class="token keyword">var</span> width <span class="token operator">=</span> res<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
          <span class="token keyword">var</span> height <span class="token operator">=</span> res<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            imageWidth<span class="token operator">:</span> height<span class="token punctuation">,</span>
            imageHeight<span class="token operator">:</span> width<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          canvasContext<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>                 
          canvasContext<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>edg <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span>
          canvasContext<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>src<span class="token punctuation">,</span> <span class="token operator">-</span> width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span> height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
          canvasContext<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token doc-comment comment">/**
   * \u65CB\u8F6C\u540E\u751F\u6210\u56FE\u7247
   */</span>
  <span class="token function">drawImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      wx<span class="token punctuation">.</span><span class="token function">canvasToTempFilePath</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        y<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        canvasId<span class="token operator">:</span> <span class="token string">&#39;canvas&#39;</span><span class="token punctuation">,</span>
        <span class="token function">success</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> shareImg <span class="token operator">=</span> res<span class="token punctuation">.</span>tempFilePath<span class="token punctuation">;</span>
          <span class="token comment">// \u751F\u6210\u65CB\u8F6C\u540E\u7684\u56FE\u7247\u6587\u4EF6</span>
          that<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            tmpPath<span class="token operator">:</span> shareImg
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token comment">// \u4E0A\u4F20\u56FE\u7247</span>
          that<span class="token punctuation">.</span><span class="token function">upImgs</span><span class="token punctuation">(</span>shareImg<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">fail</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u7A0B\u5E8F\u8C03\u7528\u5FAE\u4FE1\u4F01\u4E1A\u5BA2\u670D" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u8C03\u7528\u5FAE\u4FE1\u4F01\u4E1A\u5BA2\u670D" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u8C03\u7528\u5FAE\u4FE1\u4F01\u4E1A\u5BA2\u670D</h2><h3 id="\u5C0F\u7A0B\u5E8F\u5185\u76F4\u63A5\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u5185\u76F4\u63A5\u4F7F\u7528" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u5185\u76F4\u63A5\u4F7F\u7528</h3><ul><li>\u5FC5\u987B\u7528\u6237\u70B9\u51FB\u624D\u53EF\u4EE5\u89E6\u53D1</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>wx<span class="token punctuation">.</span><span class="token function">openCustomerServiceChat</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  extInfo<span class="token operator">:</span> <span class="token punctuation">{</span>url<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  corpId<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
  <span class="token function">success</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5C0F\u7A0B\u5E8Fweb-view\u9875\u9762\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8Fweb-view\u9875\u9762\u4F7F\u7528" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8Fweb-view\u9875\u9762\u4F7F\u7528</h3><ul><li>\u56E0\u4E3A\u9700\u8981\u7528\u6237\u70B9\u51FB\uFF0C\u6240\u4EE5\u9700\u8981\u5728\u5C0F\u7A0B\u5E8F\u5185\u65B0\u589E\u4E00\u4E2A\u5BA2\u670D\u4E2D\u8F6C\u9875\u4F9B\u7528\u6237\u70B9\u51FB</li><li>\u8DF3\u8F6C\u5230\u5C0F\u7A0B\u5E8F\u539F\u751F\u5BA2\u670D\u9875\uFF0C\u4F7F\u7528\u5C0F\u7A0B\u5E8F\u5185\u8C03\u7528\u65B9\u6CD5\u6253\u5F00</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> weixin-js-sdk --save
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">//\u9875\u9762\u5F15\u5165sdk</span>
<span class="token keyword">import</span> wx <span class="token keyword">from</span> <span class="token string">&quot;weixin-js-sdk&quot;</span><span class="token punctuation">;</span>

wx<span class="token punctuation">.</span>miniProgram<span class="token punctuation">.</span><span class="token function">redirectTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token operator">:</span> <span class="token string">&quot;/pages/customer/index?id=1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// id:\u6240\u9700\u53C2\u6570</span>
  <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u9875\u9762\u8DF3\u8F6C\u6210\u529F\u7684\u56DE\u8C03\u51FD\u6570</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">fail</span><span class="token operator">:</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u9875\u9762\u8DF3\u8F6C\u5931\u8D25\u7684\u56DE\u8C03\u51FD\u6570</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,161),Ds=n("li",null,"\u53C2\u8003\u6587\u6863\uFF1A",-1),Ts={href:"https://developers.weixin.qq.com/miniprogram/dev/api/open-api/service-chat/wx.openCustomerServiceChat.html",target:"_blank",rel:"noopener noreferrer"},Ps=s("https://developers.weixin.qq.com/miniprogram/dev/api/open-api/service-chat/wx.openCustomerServiceChat.html"),js={href:"https://developer.work.weixin.qq.com/document/path/94848",target:"_blank",rel:"noopener noreferrer"},Ls=s("https://developer.work.weixin.qq.com/document/path/94848");function As(Bs,Fs){const t=c("RouterLink"),e=c("ExternalLinkIcon");return k(),r("div",null,[P,n("nav",j,[n("ul",null,[n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u516C\u5171\u5F39\u7A97\u7EC4\u4EF6\u5C01\u88C5"},{default:p(()=>[L]),_:1}),n("ul",null,[n("li",null,[a(t,{to:"#\u4EE3\u7801\u5B9E\u73B0"},{default:p(()=>[A]),_:1})]),n("li",null,[a(t,{to:"#\u4F7F\u7528\u65B9\u6CD5"},{default:p(()=>[B]),_:1})])])]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8Fmap\u5730\u56FE\u663E\u793A\u7EC4\u4EF6\u4F7F\u7528\u6848\u4F8B"},{default:p(()=>[F]),_:1})]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u4F7F\u7528\u817E\u8BAF\u5730\u56FE\u9009\u70B9\u7EC4\u4EF6"},{default:p(()=>[I]),_:1}),n("ul",null,[n("li",null,[a(t,{to:"#\u4EE3\u7801\u5B9E\u73B0-1"},{default:p(()=>[M]),_:1})])])]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u767B\u5F55\u72B6\u6001\u7BA1\u7406-\u539F\u751F"},{default:p(()=>[R]),_:1}),n("ul",null,[n("li",null,[a(t,{to:"#\u7BA1\u5BB6\u5C0F\u7A0B\u5E8F\u767B\u5F55\u6D41\u7A0B\u5206\u6790"},{default:p(()=>[E]),_:1})]),n("li",null,[a(t,{to:"#\u89E3\u51B3\u65B9\u6848"},{default:p(()=>[W]),_:1})])])]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u672C\u5730\u7F13\u5B58\u4E8C\u6B21\u5C01\u88C5-\u8FC7\u671F-\u7EED\u671F-\u83B7\u53D6\u5168\u90E8"},{default:p(()=>[z]),_:1})]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u9875\u9762\u6808"},{default:p(()=>[H]),_:1}),n("ul",null,[n("li",null,[a(t,{to:"#\u89E3\u51B3\u5C0F\u7A0B\u5E8F\u8FD4\u56DE\u6309\u94AE\u548C\u7269\u7406\u8FD4\u56DE\u8DF3\u8F6C\u6307\u5B9A\u9875\u9762"},{default:p(()=>[O]),_:1})]),n("li",null,[a(t,{to:"#\u4E2D\u8F6C\u9875\u65B9\u6848-\u4E2D\u8F6C\u9875\u2014\u2014\u76EE\u6807\u9875"},{default:p(()=>[N]),_:1})]),n("li",null,[a(t,{to:"#\u9875\u9762\u6808\u8BE6\u60C5"},{default:p(()=>[Y]),_:1})])])]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u6027\u80FD\u4F18\u5316"},{default:p(()=>[$]),_:1}),n("ul",null,[n("li",null,[a(t,{to:"#\u56FE\u7247\u4F18\u5316"},{default:p(()=>[U]),_:1})]),n("li",null,[a(t,{to:"#\u672A\u4F7F\u7528\u4F9D\u8D56\u6E05\u9664"},{default:p(()=>[V]),_:1})]),n("li",null,[a(t,{to:"#\u51CF\u91CD\u540E\u6570\u636E\u7EDF\u8BA1"},{default:p(()=>[J]),_:1})]),n("li",null,[a(t,{to:"#\u6253\u5F00\u5C0F\u7A0B\u5E8F\u6309\u9700\u6CE8\u5165"},{default:p(()=>[X]),_:1})]),n("li",null,[a(t,{to:"#\u4F7F\u7528\u5206\u5305\u52A0\u8F7D"},{default:p(()=>[K]),_:1})]),n("li",null,[a(t,{to:"#\u6570\u636E\u9884\u62C9\u53D6"},{default:p(()=>[Z]),_:1})]),n("li",null,[a(t,{to:"#\u6570\u636E\u6301\u4E45\u5316-\u5168\u5C40\u6570\u636E\u548C\u7F13\u5B58\u7684\u5408\u7406\u5229\u7528"},{default:p(()=>[G]),_:1})]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u72B6\u6001\u7BA1\u7406"},{default:p(()=>[Q]),_:1})])])]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u4F53\u9A8C\u4F18\u5316"},{default:p(()=>[nn]),_:1})]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8Fcanvas\u5B9E\u73B0\u591A\u8FB9\u5F62\u96F7\u8FBE\u56FE-\u8718\u86DB\u56FE"},{default:p(()=>[sn]),_:1})]),n("li",null,[a(t,{to:"#\u63A5\u53E3\u6570\u636E\u7F13\u5B58\u65B9\u6848"},{default:p(()=>[an]),_:1}),n("ul",null,[n("li",null,[a(t,{to:"#data\u6570\u636E\u7F13\u5B58"},{default:p(()=>[tn]),_:1})]),n("li",null,[a(t,{to:"#\u63A5\u53E3\u7F13\u5B58promise\u65B9\u6848"},{default:p(()=>[pn]),_:1})])])]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u5DE5\u5177\u51FD\u6570\u5C01\u88C5"},{default:p(()=>[en]),_:1})]),n("li",null,[a(t,{to:"#\u5168\u5C40loading\u89E3\u51B3\u65B9\u6848"},{default:p(()=>[on]),_:1})]),n("li",null,[a(t,{to:"#\u626B\u7801\u8FDB\u5165\u5C0F\u7A0B\u5E8F\u53C2\u6570\u89E3\u6790"},{default:p(()=>[cn]),_:1})]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8Finput\u53CC\u5411\u7ED1\u5B9A"},{default:p(()=>[ln]),_:1}),n("ul",null,[n("li",null,[a(t,{to:"#\u5168\u8868\u5355\u53CC\u5411\u7ED1\u5B9A"},{default:p(()=>[un]),_:1})])])]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8Fswitchtab\u8DF3\u8F6C\u4F20\u53C2\u548C\u5237\u65B0\u9875\u9762\u89E3\u51B3\u65B9\u6848"},{default:p(()=>[kn]),_:1}),n("ul",null,[n("li",null,[a(t,{to:"#\u4F7F\u7528wx-relaunch"},{default:p(()=>[rn]),_:1})]),n("li",null,[a(t,{to:"#\u8C03\u7528\u9875\u9762\u6808\u5237\u65B0\u9875\u9762"},{default:p(()=>[dn]),_:1})]),n("li",null,[a(t,{to:"#\u4F7F\u7528\u5168\u5C40\u53D8\u91CF\u548C\u7F13\u5B58"},{default:p(()=>[vn]),_:1})])])]),n("li",null,[a(t,{to:"#\u4F2A\u5143\u7D20\u653E\u5927\u70B9\u51FB\u533A\u57DF"},{default:p(()=>[mn]),_:1})]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u89C4\u907F\u5BA1\u6838\u65B9\u6CD5"},{default:p(()=>[bn]),_:1}),n("ul",null,[n("li",null,[a(t,{to:"#\u95EE\u9898\u5206\u6790"},{default:p(()=>[gn]),_:1})]),n("li",null,[a(t,{to:"#\u5BA1\u6838\u673A\u5236"},{default:p(()=>[hn]),_:1})]),n("li",null,[a(t,{to:"#\u65B9\u6CD5\u603B\u7ED3"},{default:p(()=>[yn]),_:1})]),n("li",null,[a(t,{to:"#\u89E3\u51B3\u65B9\u6848-1"},{default:p(()=>[fn]),_:1})])])]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8Fechart\u56FE\u8868\u4F7F\u7528"},{default:p(()=>[wn]),_:1})]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u5185\u8DF3\u8F6C\u5176\u4ED6\u5C0F\u7A0B\u5E8F"},{default:p(()=>[xn]),_:1}),n("ul",null,[n("li",null,[a(t,{to:"#navigatetominiprogram-api\u8DF3\u8F6C"},{default:p(()=>[qn]),_:1})]),n("li",null,[a(t,{to:"#navigator\u6807\u7B7E\u8DF3\u8F6C"},{default:p(()=>[_n]),_:1})]),n("li",null,[a(t,{to:"#\u6CE8\u610F\u4E8B\u9879"},{default:p(()=>[Cn]),_:1})])])]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u56FE\u7247\u4E0A\u4F20"},{default:p(()=>[Sn]),_:1}),n("ul",null,[n("li",null,[a(t,{to:"#wux-uploader\u7EC4\u4EF6"},{default:p(()=>[Dn]),_:1})]),n("li",null,[a(t,{to:"#\u5FAE\u4FE1uploader\u7EC4\u4EF6"},{default:p(()=>[Tn]),_:1})])])]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u5206\u4EAB\u65B9\u6848"},{default:p(()=>[Pn]),_:1}),n("ul",null,[n("li",null,[a(t,{to:"#button\u7EC4\u4EF6\u65B9\u6848"},{default:p(()=>[jn]),_:1})]),n("li",null,[a(t,{to:"#\u56DE\u8C03\u51FD\u6570\u65B9\u6848"},{default:p(()=>[Ln]),_:1})]),n("li",null,[a(t,{to:"#\u5206\u4EAB\u52A8\u6001\u56FE\u7247"},{default:p(()=>[An]),_:1})])])]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u6570\u636E\u76D1\u542C\u5C01\u88C5-watch"},{default:p(()=>[Bn]),_:1}),n("ul",null,[n("li",null,[a(t,{to:"#\u76D1\u542C\u57FA\u672C\u6570\u636E\u7C7B\u578B"},{default:p(()=>[Fn]),_:1})]),n("li",null,[a(t,{to:"#\u590D\u6742\u7C7B\u578B\u76D1\u542C"},{default:p(()=>[In]),_:1})])])]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u8FD4\u56DE\u4E0A\u4E00\u9875\u4F20\u53C2"},{default:p(()=>[Mn]),_:1})]),n("li",null,[a(t,{to:"#\u8FDB\u5EA6\u7403\u6CE2\u6D6A\u52A8\u753B\u7EC4\u4EF6"},{default:p(()=>[Rn]),_:1}),n("ul",null,[n("li",null,[a(t,{to:"#canvas\u52A8\u753B\u7EC4"},{default:p(()=>[En]),_:1})]),n("li",null,[a(t,{to:"#\u9759\u6001\u7EC4\u4EF6"},{default:p(()=>[Wn]),_:1})]),n("li",null,[a(t,{to:"#svg\u7248\u672C-\u5C0F\u7A0B\u5E8F\u4E0D\u652F\u6301"},{default:p(()=>[zn]),_:1})])])]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u6D88\u606F\u8BA2\u9605"},{default:p(()=>[Hn]),_:1})]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u5F39\u7A97\u6DE1\u5165\u6DE1\u51FA"},{default:p(()=>[On]),_:1})]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u5F39\u9875\u9762\u81EA\u52A8\u6EDA\u52A8\u52A8\u753B"},{default:p(()=>[Nn]),_:1})]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u6587\u4EF6\u9884\u89C8"},{default:p(()=>[Yn]),_:1})]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u5206\u5305\u52A0\u8F7D"},{default:p(()=>[$n]),_:1})]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u8DEF\u7531\u548C\u4F20\u53C2"},{default:p(()=>[Un]),_:1}),n("ul",null,[n("li",null,[a(t,{to:"#\u8DEF\u7531api"},{default:p(()=>[Vn]),_:1})]),n("li",null,[a(t,{to:"#navigator\u7EC4\u4EF6"},{default:p(()=>[Jn]),_:1})]),n("li",null,[a(t,{to:"#\u8DEF\u7531\u8DF3\u8F6C\u4F20\u53C2"},{default:p(()=>[Xn]),_:1})])])]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u548C\u4F7F\u7528"},{default:p(()=>[Kn]),_:1}),n("ul",null,[n("li",null,[a(t,{to:"#\u7EC4\u4EF6\u4F20\u53C2"},{default:p(()=>[Zn]),_:1})]),n("li",null,[a(t,{to:"#\u7236\u5B50\u7EC4\u4EF6\u4F20\u503C\u2014\u7236\u4F20\u5B50"},{default:p(()=>[Gn]),_:1})]),n("li",null,[a(t,{to:"#\u7236\u5B50\u7EC4\u4EF6\u4F20\u503C\u2014\u5B50\u4F20\u7236"},{default:p(()=>[Qn]),_:1})]),n("li",null,[a(t,{to:"#\u7EC4\u4EF6\u5185\u8DEF\u7531\u8DF3\u8F6C"},{default:p(()=>[ns]),_:1})])])]),n("li",null,[a(t,{to:"#input\u8F93\u5165\u8054\u60F3"},{default:p(()=>[ss]),_:1})]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u81EA\u5B9A\u4E49\u5BFC\u822A\u680F"},{default:p(()=>[as]),_:1}),n("ul",null,[n("li",null,[a(t,{to:"#\u5BFC\u822A\u680F\u5206\u6790"},{default:p(()=>[ts]),_:1})]),n("li",null,[a(t,{to:"#\u5BFC\u822A\u680F\u56FE\u89E3"},{default:p(()=>[ps]),_:1})]),n("li",null,[a(t,{to:"#\u7EC4\u4EF6\u5C01\u88C5"},{default:p(()=>[es]),_:1})]),n("li",null,[a(t,{to:"#\u7EC4\u4EF6\u4F7F\u7528"},{default:p(()=>[os]),_:1})])])]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u590D\u5236\u6587\u672C\u5230\u5230\u7C98\u8D34\u677F"},{default:p(()=>[cs]),_:1})]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u591A\u9009\u5217\u8868\u5F00\u53D1\u7968\u7EC4\u4EF6"},{default:p(()=>[ls]),_:1})]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u4F7F\u7528canvas\u65CB\u8F6C\u56FE\u7247"},{default:p(()=>[is]),_:1})]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u8C03\u7528\u5FAE\u4FE1\u4F01\u4E1A\u5BA2\u670D"},{default:p(()=>[us]),_:1}),n("ul",null,[n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8F\u5185\u76F4\u63A5\u4F7F\u7528"},{default:p(()=>[ks]),_:1})]),n("li",null,[a(t,{to:"#\u5C0F\u7A0B\u5E8Fweb-view\u9875\u9762\u4F7F\u7528"},{default:p(()=>[rs]),_:1})])])])])]),ds,n("ul",null,[n("li",null,[vs,n("a",ms,[bs,a(e)])])]),gs,n("ul",null,[n("li",null,[hs,n("a",ys,[fs,a(e)])])]),ws,n("ul",null,[n("li",null,[xs,n("a",qs,[_s,a(e)])]),Cs]),Ss,n("ul",null,[Ds,n("li",null,[n("a",Ts,[Ps,a(e)])]),n("li",null,[n("a",js,[Ls,a(e)])])])])}var Rs=u(T,[["render",As],["__file","workApply.html.vue"]]);export{Rs as default};
