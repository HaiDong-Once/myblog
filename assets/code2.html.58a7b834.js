import{_ as e,r as o,o as c,c as l,b as n,a as p,w as t,d as s,e as i}from"./app.4c8b15c1.js";const u={},k=n("h1",{id:"useless-files-plugin-\u91CD\u5199",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#useless-files-plugin-\u91CD\u5199","aria-hidden":"true"},"#"),s(" useless-files-plugin \u91CD\u5199")],-1),r={class:"table-of-contents"},d=s("\u4F7F\u7528\u8BF4\u660E"),v=s("\u4F7F\u7528\u65B9\u6CD5"),m=s("\u5B89\u88C5\u4F9D\u8D56"),b=s("webpack\u914D\u7F6E"),f=s("vue\u9879\u76EE \u914D\u7F6E"),g=s("\u4EE3\u7801\u5B9E\u73B0"),h=s("js\u4EE3\u7801"),w=s("package.json\u914D\u7F6E"),y=i(`<h2 id="\u4F7F\u7528\u8BF4\u660E" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u8BF4\u660E" aria-hidden="true">#</a> \u4F7F\u7528\u8BF4\u660E</h2><ul><li>\u56E0\u4E3A useless-files-webpack-plugin \u63D2\u4EF6\u4E0D\u652F\u6301 webpack5\uFF0C\u6240\u4EE5\u8BE5\u7248\u672C\u517C\u5BB9\u4E86 webpack5 \u4EE5\u53CA5\u4E4B\u524D\u7684\u7248\u672C</li><li>\u4F7F\u7528\u65F6\u9700\u65B0\u589E\u53C2\u6570 webpack: &#39;5&#39; , \u6807\u8BB0\u662Fwebpack5\u9879\u76EE</li></ul><h2 id="\u4F7F\u7528\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u65B9\u6CD5" aria-hidden="true">#</a> \u4F7F\u7528\u65B9\u6CD5</h2><h3 id="\u5B89\u88C5\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5\u4F9D\u8D56" aria-hidden="true">#</a> \u5B89\u88C5\u4F9D\u8D56</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i useless-files-webpack5-plugin -S
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="webpack\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#webpack\u914D\u7F6E" aria-hidden="true">#</a> webpack\u914D\u7F6E</h3><ul><li>\u6CE8\u610F\uFF1A \u5982\u679C\u662Fwebpack5\u7684\u9879\u76EE\uFF0C\u9700\u8981\u65B0\u589E\u53C2\u6570webpack: &#39;5&#39;, \u975Ewebpack5\u53EF\u4EE5\u4E0D\u52A0\u8FD9\u4E2A\u53C2\u6570</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>    <span class="token keyword">const</span> UselessFile <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&#39;useless-files-webpack5-plugin&#39;</span><span class="token punctuation">)</span>

plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">UselessFile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        webpack<span class="token operator">:</span> <span class="token string">&#39;5&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u5982\u679C\u662Fwebpack5\u7684\u9879\u76EE\uFF0C\u9700\u8981\u8BF4\u660Ewebpack\u7248\u672C\u4E3A 5 \uFF0C\u5176\u4ED6webpack\u7248\u672C\u65E0\u9700\u8FD9\u4E2A\u53C2\u6570</span>
        root<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./src&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// \u9879\u76EE\u76EE\u5F55</span>
        out<span class="token operator">:</span> <span class="token string">&#39;./fileList.json&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u8F93\u51FA\u6587\u4EF6\u5217\u8868\u540D</span>
        clean<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// \u662F\u5426\u81EA\u52A8\u5220\u9664\u6587\u4EF6, \u8C28\u614E\u4F7F\u7528</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span> <span class="token comment">// \u6392\u9664\u6587\u4EF6\u5217\u8868</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="vue\u9879\u76EE-\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#vue\u9879\u76EE-\u914D\u7F6E" aria-hidden="true">#</a> vue\u9879\u76EE \u914D\u7F6E</h3><ul><li>\u6CE8\u610F\uFF1A \u5982\u679C\u662Fwebpack5\u7684\u9879\u76EE\uFF0C\u9700\u8981\u65B0\u589E\u53C2\u6570webpack: &#39;5&#39;, \u975Ewebpack5\u53EF\u4EE5\u4E0D\u52A0\u8FD9\u4E2A\u53C2\u6570</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>    <span class="token keyword">const</span> UselessFile <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&#39;useless-files-webpack5-plugin&#39;</span><span class="token punctuation">)</span>

    <span class="token function-variable function">configureWebpack</span><span class="token operator">:</span> config <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        config<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
            <span class="token keyword">new</span> <span class="token class-name">UselessFile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                webpack<span class="token operator">:</span> <span class="token string">&#39;5&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u5982\u679C\u662Fwebpack5\u7684\u9879\u76EE\uFF0C\u9700\u8981\u8BF4\u660Ewebpack\u7248\u672C\u4E3A 5 \uFF0C\u5176\u4ED6webpack\u7248\u672C\u65E0\u9700\u8FD9\u4E2A\u53C2\u6570</span>
                root<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./src&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// \u9879\u76EE\u76EE\u5F55</span>
                out<span class="token operator">:</span> <span class="token string">&#39;./fileList.json&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u8F93\u51FA\u6587\u4EF6\u5217\u8868\u540D</span>
                clean<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// \u662F\u5426\u81EA\u52A8\u5220\u9664\u6587\u4EF6, \u8C28\u614E\u4F7F\u7528</span>
                exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span> <span class="token comment">// \u6392\u9664\u6587\u4EF6\u5217\u8868</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u4EE3\u7801\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#\u4EE3\u7801\u5B9E\u73B0" aria-hidden="true">#</a> \u4EE3\u7801\u5B9E\u73B0</h2><h3 id="js\u4EE3\u7801" tabindex="-1"><a class="header-anchor" href="#js\u4EE3\u7801" aria-hidden="true">#</a> js\u4EE3\u7801</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>
<span class="token comment">// useless-files-webpack5-plugin \u517C\u5BB9webpack5\u7248\u672C</span>

<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> glob <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;glob&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> shelljs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;shelljs&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">CleanUnusedFilesPlugin</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>opts <span class="token operator">=</span> options
    <span class="token punctuation">}</span>
    <span class="token function">apply</span> <span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> _this <span class="token operator">=</span> <span class="token keyword">this</span>
        <span class="token comment">// webpack5 \u5199\u6CD5</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>_this<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>webpack <span class="token operator">&amp;&amp;</span> _this<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>webpack <span class="token operator">===</span> <span class="token string">&#39;5&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>emit<span class="token punctuation">.</span><span class="token function">tapAsync</span><span class="token punctuation">(</span><span class="token string">&#39;GenerateAssetWebpackPlugin&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">compilation<span class="token punctuation">,</span> done</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                _this<span class="token punctuation">.</span><span class="token function">findUnusedFiles</span><span class="token punctuation">(</span>compilation<span class="token punctuation">,</span> _this<span class="token punctuation">.</span>opts<span class="token punctuation">)</span>
                <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            <span class="token comment">// webpack4 \u5199\u6CD5</span>
            compiler<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">&#39;after-emit&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">compilation<span class="token punctuation">,</span> done</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                _this<span class="token punctuation">.</span><span class="token function">findUnusedFiles</span><span class="token punctuation">(</span>compilation<span class="token punctuation">,</span> _this<span class="token punctuation">.</span>opts<span class="token punctuation">)</span>
                <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u83B7\u53D6\u4F9D\u8D56\u7684\u6587\u4EF6
     */</span>
    <span class="token function">getDependFiles</span> <span class="token punctuation">(</span><span class="token parameter">compilation</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> dependedFiles <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>compilation<span class="token punctuation">.</span>fileDependencies<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
                <span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> usedFilepath</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">~</span>usedFilepath<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&#39;node_modules&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        acc<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>usedFilepath<span class="token punctuation">)</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">return</span> acc
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span><span class="token punctuation">]</span>
            <span class="token punctuation">)</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span>dependedFiles<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u83B7\u53D6\u9879\u76EE\u76EE\u5F55\u6240\u6709\u7684\u6587\u4EF6
     */</span>
    <span class="token function">getAllFiles</span> <span class="token punctuation">(</span><span class="token parameter">pattern</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">glob</span><span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">nodir</span><span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> files</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">throw</span> err
                <span class="token punctuation">}</span>
                <span class="token keyword">const</span> out <span class="token operator">=</span> files<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token function">resolve</span><span class="token punctuation">(</span>out<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token function">dealExclude</span> <span class="token punctuation">(</span><span class="token parameter">path<span class="token punctuation">,</span> unusedList</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> file <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> files <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">const</span> result <span class="token operator">=</span> unusedList<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">unused</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token operator">!</span>files<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token operator">~</span>unused<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> result
    <span class="token punctuation">}</span>

    <span class="token keyword">async</span> <span class="token function">findUnusedFiles</span> <span class="token punctuation">(</span><span class="token parameter">compilation<span class="token punctuation">,</span> config <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> root <span class="token operator">=</span> <span class="token string">&#39;./src&#39;</span><span class="token punctuation">,</span> clean <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> output <span class="token operator">=</span> <span class="token string">&#39;./unused-files.json&#39;</span><span class="token punctuation">,</span> exclude <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token punctuation">}</span> <span class="token operator">=</span> config
        <span class="token keyword">const</span> pattern <span class="token operator">=</span> root <span class="token operator">+</span> <span class="token string">&#39;/**/*&#39;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> allChunks <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDependFiles</span><span class="token punctuation">(</span>compilation<span class="token punctuation">)</span>
            <span class="token keyword">const</span> allFiles <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAllFiles</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span>
            <span class="token keyword">let</span> unUsed <span class="token operator">=</span> allFiles
                <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span><span class="token operator">~</span>allChunks<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>exclude <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> exclude <span class="token operator">===</span> <span class="token string">&#39;string&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                unUsed <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">dealExclude</span><span class="token punctuation">(</span>exclude<span class="token punctuation">,</span> unUsed<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> output <span class="token operator">===</span> <span class="token string">&#39;string&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                fs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span>output<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>unUsed<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> output <span class="token operator">===</span> <span class="token string">&#39;function&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">output</span><span class="token punctuation">(</span>unUsed<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>clean<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                unUsed<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">file</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    shelljs<span class="token punctuation">.</span><span class="token function">rm</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">remove file: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>file<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> unUsed
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> CleanUnusedFilesPlugin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="package-json\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#package-json\u914D\u7F6E" aria-hidden="true">#</a> package.json\u914D\u7F6E</h3><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;useless-files-webpack5-plugin&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;useless-files-webpack-plugin \u517C\u5BB9webpack5\u7248\u672C&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;useless&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;files&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;webpack&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;webpack5&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;plugin&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;useless-files-webpack-plugin&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;useless-files-webpack5-plugin&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;\u4EE3\u7801\u51CF\u91CD&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;publish&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npm publish&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;shelljs&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.8.1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;hhd&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,16);function q(_,x){const a=o("RouterLink");return c(),l("div",null,[k,n("nav",r,[n("ul",null,[n("li",null,[p(a,{to:"#\u4F7F\u7528\u8BF4\u660E"},{default:t(()=>[d]),_:1})]),n("li",null,[p(a,{to:"#\u4F7F\u7528\u65B9\u6CD5"},{default:t(()=>[v]),_:1}),n("ul",null,[n("li",null,[p(a,{to:"#\u5B89\u88C5\u4F9D\u8D56"},{default:t(()=>[m]),_:1})]),n("li",null,[p(a,{to:"#webpack\u914D\u7F6E"},{default:t(()=>[b]),_:1})]),n("li",null,[p(a,{to:"#vue\u9879\u76EE-\u914D\u7F6E"},{default:t(()=>[f]),_:1})])])]),n("li",null,[p(a,{to:"#\u4EE3\u7801\u5B9E\u73B0"},{default:t(()=>[g]),_:1}),n("ul",null,[n("li",null,[p(a,{to:"#js\u4EE3\u7801"},{default:t(()=>[h]),_:1})]),n("li",null,[p(a,{to:"#package-json\u914D\u7F6E"},{default:t(()=>[w]),_:1})])])])])]),y])}var F=e(u,[["render",q],["__file","code2.html.vue"]]);export{F as default};
