import{_ as c,r as e,o as i,c as l,b as n,a,w as p,d as s,e as u}from"./app.4c8b15c1.js";var r="/myblog/assets/img.1275a372.png";const k={},d=n("h1",{id:"\u767E\u5EA6\u5730\u56FEapi-react\u5E94\u7528\u6848\u4F8B",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u767E\u5EA6\u5730\u56FEapi-react\u5E94\u7528\u6848\u4F8B","aria-hidden":"true"},"#"),s(" \u767E\u5EA6\u5730\u56FEapi react\u5E94\u7528\u6848\u4F8B")],-1),m={class:"table-of-contents"},v=s("\u7533\u8BF7\u767E\u5EA6\u5730\u56FEapi ak"),b=s("\u767B\u5F55\u5E76\u5B9E\u540D\u5236\u767E\u5EA6\u5730\u56FEapi\u5E73\u53F0"),h=s("\u7533\u8BF7JavaScript\u5E94\u7528\uFF0C\u83B7\u53D6ak"),g=s("\u52A8\u6001\u5BFC\u5165"),_=s("\u5F15\u5165\u767E\u5EA6\u5730\u56FEapi"),f=s("\u521B\u5EFA\u5730\u56FE"),y=s("\u5168\u5C40\u5BFC\u5165"),w=s("\u5728public/index.html\u4E2D\u5F15\u5165sdk"),x=s("\u521B\u5EFA\u5730\u56FE"),M=n("h2",{id:"\u7533\u8BF7\u767E\u5EA6\u5730\u56FEapi-ak",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u7533\u8BF7\u767E\u5EA6\u5730\u56FEapi-ak","aria-hidden":"true"},"#"),s(" \u7533\u8BF7\u767E\u5EA6\u5730\u56FEapi ak")],-1),L=n("h3",{id:"\u767B\u5F55\u5E76\u5B9E\u540D\u5236\u767E\u5EA6\u5730\u56FEapi\u5E73\u53F0",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u767B\u5F55\u5E76\u5B9E\u540D\u5236\u767E\u5EA6\u5730\u56FEapi\u5E73\u53F0","aria-hidden":"true"},"#"),s(" \u767B\u5F55\u5E76\u5B9E\u540D\u5236\u767E\u5EA6\u5730\u56FEapi\u5E73\u53F0")],-1),B={href:"https://lbsyun.baidu.com/",target:"_blank",rel:"noopener noreferrer"},q=s("https://lbsyun.baidu.com/"),j=u('<h3 id="\u7533\u8BF7javascript\u5E94\u7528-\u83B7\u53D6ak" tabindex="-1"><a class="header-anchor" href="#\u7533\u8BF7javascript\u5E94\u7528-\u83B7\u53D6ak" aria-hidden="true">#</a> \u7533\u8BF7JavaScript\u5E94\u7528\uFF0C\u83B7\u53D6ak</h3><p><img src="'+r+`" alt="img.png"></p><h2 id="\u52A8\u6001\u5BFC\u5165" tabindex="-1"><a class="header-anchor" href="#\u52A8\u6001\u5BFC\u5165" aria-hidden="true">#</a> \u52A8\u6001\u5BFC\u5165</h2><h3 id="\u5F15\u5165\u767E\u5EA6\u5730\u56FEapi" tabindex="-1"><a class="header-anchor" href="#\u5F15\u5165\u767E\u5EA6\u5730\u56FEapi" aria-hidden="true">#</a> \u5F15\u5165\u767E\u5EA6\u5730\u56FEapi</h3><p>\u6CE8\u610F\uFF1A \u9700\u8981\u4F7F\u7528 window.init = bmapInit; \u4FEE\u6539init\u51FD\u6570\u6307\u5411\uFF0C\u5426\u5219\u56DE\u8C03\u51FD\u6570\u4E0D\u751F\u6548\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> companyLocation <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">lng</span><span class="token operator">:</span> <span class="token number">116.404</span><span class="token punctuation">,</span> <span class="token literal-property property">lat</span><span class="token operator">:</span> <span class="token number">39.915</span><span class="token punctuation">}</span> <span class="token comment">// \u4F01\u4E1A\u5750\u6807</span>

<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">initMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// \u521D\u59CB\u5316\u8BF7\u6C42\u6570\u636E</span>
<span class="token keyword">const</span> <span class="token function-variable function">init</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>location<span class="token punctuation">}</span> <span class="token operator">=</span> result <span class="token operator">??</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    companyLocation <span class="token operator">=</span> location
    <span class="token function">initMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token doc-comment comment">/**
 * \u5730\u56FE\u521D\u59CB\u5316\u6CE8\u5165
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">initMap</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u6307\u5411init\u56DE\u8C03\u51FD\u6570</span>
    window<span class="token punctuation">.</span>init <span class="token operator">=</span> bmapInit<span class="token punctuation">;</span>
    <span class="token keyword">const</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;script&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    script<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&#39;text/javascript&#39;</span><span class="token punctuation">;</span>
    script<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&#39;https://api.map.baidu.com/api?v=1.0&amp;type=webgl&amp;ak=.........&amp;callback=init&#39;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * \u767E\u5EA6\u521D\u59CB\u5316\u56DE\u8C03\uFF0C\u521B\u5EFA\u5730\u56FE
 * <span class="token keyword">@param</span> <span class="token parameter">lng</span>
 * <span class="token keyword">@param</span> <span class="token parameter">lat</span>
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">bmapInit</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token parameter">lng <span class="token operator">=</span> companyLocation<span class="token punctuation">.</span>lng<span class="token punctuation">,</span>
    lat <span class="token operator">=</span> companyLocation<span class="token punctuation">.</span>lat</span>
<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> BMapGL <span class="token operator">=</span> window<span class="token punctuation">.</span>BMapGL<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>BMapGL<span class="token operator">?.</span>Map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">&#39;container&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u521B\u5EFAMap\u5B9E\u4F8B</span>
    <span class="token keyword">const</span> point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span>lng<span class="token punctuation">,</span> lat<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u521B\u5EFA\u70B9\u5750\u6807</span>
    map<span class="token punctuation">.</span><span class="token function">centerAndZoom</span><span class="token punctuation">(</span>point<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">enableScrollWheelZoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u542F\u7528\u6EDA\u8F6E\u653E\u5927\u7F29\u5C0F</span>
    <span class="token keyword">const</span> marker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// \u521B\u5EFA\u6807\u6CE8</span>
    map<span class="token punctuation">.</span><span class="token function">addOverlay</span><span class="token punctuation">(</span>marker<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u521B\u5EFA\u5730\u56FE" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u5730\u56FE" aria-hidden="true">#</a> \u521B\u5EFA\u5730\u56FE</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right-page<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-scss ext-scss line-numbers-mode"><pre class="language-scss"><code><span class="token selector">#container </span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> solid 1px #ececec<span class="token punctuation">;</span>

  <span class="token selector">.BMap_cpyCtrl </span><span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5168\u5C40\u5BFC\u5165" tabindex="-1"><a class="header-anchor" href="#\u5168\u5C40\u5BFC\u5165" aria-hidden="true">#</a> \u5168\u5C40\u5BFC\u5165</h2><h3 id="\u5728public-index-html\u4E2D\u5F15\u5165sdk" tabindex="-1"><a class="header-anchor" href="#\u5728public-index-html\u4E2D\u5F15\u5165sdk" aria-hidden="true">#</a> \u5728public/index.html\u4E2D\u5F15\u5165sdk</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://api.map.baidu.com/api?v=1.0&amp;type=webgl&amp;ak=..............<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u521B\u5EFA\u5730\u56FE-1" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u5730\u56FE-1" aria-hidden="true">#</a> \u521B\u5EFA\u5730\u56FE</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2222</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> BMapGL <span class="token operator">=</span> window<span class="token punctuation">.</span>BMapGL<span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">&#39;container&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u521B\u5EFAMap\u5B9E\u4F8B</span>
    <span class="token keyword">var</span> point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">116.404</span><span class="token punctuation">,</span> <span class="token number">39.915</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u521B\u5EFA\u70B9\u5750\u6807</span>
    map<span class="token punctuation">.</span><span class="token function">centerAndZoom</span><span class="token punctuation">(</span>point<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">enableScrollWheelZoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u542F\u7528\u6EDA\u8F6E\u653E\u5927\u7F29\u5C0F</span>
    <span class="token keyword">var</span> marker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// \u521B\u5EFA\u6807\u6CE8</span>
    map<span class="token punctuation">.</span><span class="token function">addOverlay</span><span class="token punctuation">(</span>marker<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment">// \u5C06\u6807\u6CE8\u6DFB\u52A0\u5230\u5730\u56FE\u4E2D</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,14);function G(E,I){const t=e("RouterLink"),o=e("ExternalLinkIcon");return i(),l("div",null,[d,n("nav",m,[n("ul",null,[n("li",null,[a(t,{to:"#\u7533\u8BF7\u767E\u5EA6\u5730\u56FEapi-ak"},{default:p(()=>[v]),_:1}),n("ul",null,[n("li",null,[a(t,{to:"#\u767B\u5F55\u5E76\u5B9E\u540D\u5236\u767E\u5EA6\u5730\u56FEapi\u5E73\u53F0"},{default:p(()=>[b]),_:1})]),n("li",null,[a(t,{to:"#\u7533\u8BF7javascript\u5E94\u7528-\u83B7\u53D6ak"},{default:p(()=>[h]),_:1})])])]),n("li",null,[a(t,{to:"#\u52A8\u6001\u5BFC\u5165"},{default:p(()=>[g]),_:1}),n("ul",null,[n("li",null,[a(t,{to:"#\u5F15\u5165\u767E\u5EA6\u5730\u56FEapi"},{default:p(()=>[_]),_:1})]),n("li",null,[a(t,{to:"#\u521B\u5EFA\u5730\u56FE"},{default:p(()=>[f]),_:1})])])]),n("li",null,[a(t,{to:"#\u5168\u5C40\u5BFC\u5165"},{default:p(()=>[y]),_:1}),n("ul",null,[n("li",null,[a(t,{to:"#\u5728public-index-html\u4E2D\u5F15\u5165sdk"},{default:p(()=>[w]),_:1})]),n("li",null,[a(t,{to:"#\u521B\u5EFA\u5730\u56FE-1"},{default:p(()=>[x]),_:1})])])])])]),M,L,n("p",null,[n("a",B,[q,a(o)])]),j])}var S=c(k,[["render",G],["__file","react5.html.vue"]]);export{S as default};
